{"version":3,"file":"js/special.legacy.js?v=50a2548268613c36","mappings":"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","sources":["webpack://imathas-assess2/./src/views/Livepoll.vue","webpack://imathas-assess2/./src/components/LivepollNav.vue","webpack://imathas-assess2/./src/components/LivepollNav.vue?aa0e","webpack://imathas-assess2/./src/components/LivepollSettings.vue","webpack://imathas-assess2/./src/components/LivepollSettings.vue?3c85","webpack://imathas-assess2/./src/components/LivepollResults.vue","webpack://imathas-assess2/./src/components/LivepollResultsChoices.vue","webpack://imathas-assess2/./src/components/LivepollResultsChoices.vue?d1b9","webpack://imathas-assess2/./src/components/LivepollResultsGeneral.vue","webpack://imathas-assess2/./src/components/LivepollResultsGeneral.vue?b8f9","webpack://imathas-assess2/./src/components/LivepollResults.vue?5c3e","webpack://imathas-assess2/./src/views/Livepoll.vue?46f2","webpack://imathas-assess2/./src/views/Videocued.vue","webpack://imathas-assess2/./src/components/VideocuedNav.vue","webpack://imathas-assess2/./src/components/VideocuedNavListItem.vue","webpack://imathas-assess2/./src/components/VideocuedNavListItem.vue?542f","webpack://imathas-assess2/./src/components/VideocuedNav.vue?75d1","webpack://imathas-assess2/./src/components/VideocuedResultNav.vue","webpack://imathas-assess2/./src/components/VideocuedResultNav.vue?91d8","webpack://imathas-assess2/./src/views/Videocued.vue?945a","webpack://imathas-assess2/./node_modules/core-js/internals/string-repeat.js","webpack://imathas-assess2/./node_modules/core-js/internals/this-number-value.js","webpack://imathas-assess2/./node_modules/core-js/modules/es.array.unshift.js","webpack://imathas-assess2/./node_modules/core-js/modules/es.number.constructor.js","webpack://imathas-assess2/./node_modules/core-js/modules/es.number.to-fixed.js"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <assess-header></assess-header>\n    <livepoll-nav\n      v-if = \"isTeacher\"\n      :qn=\"curqn\"\n      @selectq=\"selectQuestion\"\n      @openq=\"openInput\"\n      @closeq=\"closeInput\"\n      @newversion=\"newVersion\"\n    />\n    <div\n      class = \"subheader\"\n      v-if = \"curstate > 0 && curqn > -1 && (isTeacher || timelimit>0)\"\n    >\n      <div v-if = \"isTeacher\" id=\"livepoll_qsettings\" style=\"flex-grow:1\">\n        <label>\n          <input type=\"checkbox\" v-model=\"showQuestion\" />\n          {{ $t('livepoll.show_question') }}\n        </label>\n        <label>\n          <input type=\"checkbox\" v-model=\"showResults\" />\n          {{ $t('livepoll.show_results') }}\n        </label>\n        <label>\n          <input type=\"checkbox\" v-model=\"showAnswers\" @change=\"updateShowAnswers\"/>\n          {{ showAnswersLabel }}\n        </label>\n      </div>\n      <div v-else style=\"flex-grow:1\">\n      </div>\n      <timer\n        v-if = \"timelimit > 0 && starttime > 0\"\n        :end = \"1000*(starttime + timelimit)\"\n        :total = \"timelimit\"\n      />\n    </div>\n    <div\n      v-if = \"!isTeacher && curstate>0\"\n    >\n      <h2>\n        {{ $t('question_n', { n: curqn+1 }) }}\n      </h2>\n    </div>\n    <div class=\"scrollpane\" :aria-label=\"$t('regions.questions')\">\n      <livepoll-settings\n        class = \"questionpane\"\n        v-if = \"isTeacher && (curstate === 0 || curqn === -1)\"\n      />\n      <div\n        class = \"questionpane\"\n        v-if = \"!isTeacher && curstate < 2\"\n      >\n        {{ $t('livepoll.waiting') }}\n      </div>\n      <question\n        v-if = \"curqn >= 0 && ((isTeacher && curstate>0) || (!isTeacher && curstate>1))\"\n        v-show = \"showQuestion\"\n        :qn = \"curqn\"\n        :active = \"true\"\n        :state = \"curstate\"\n        :seed=\"curseed\"\n      />\n\n      <livepoll-results\n        v-if = \"isTeacher\"\n        :showresults = \"showResults\"\n        :showans = \"curstate === 4\"\n        :qn = \"curqn\"\n        :key = \"curqn + '-' + curseed\"\n      />\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport AssessHeader from '@/components/AssessHeader.vue';\nimport LivepollNav from '@/components/LivepollNav.vue';\nimport LivepollSettings from '@/components/LivepollSettings.vue';\nimport LivepollResults from '@/components/LivepollResults.vue';\nimport Question from '@/components/question/Question.vue';\nimport Timer from '@/components/Timer.vue';\nimport { store, actions } from '../basicstore';\n\nexport default {\n  name: 'livepoll',\n  components: {\n    LivepollNav,\n    Question,\n    LivepollSettings,\n    LivepollResults,\n    AssessHeader,\n    Timer\n  },\n  data: function () {\n    return {\n      showQuestion: true,\n      showResults: true,\n      showAnswers: true,\n      onSettings: false,\n      livepollTimer: null,\n      socket: null\n    };\n  },\n  computed: {\n    isTeacher () {\n      return store.assessInfo.is_teacher;\n    },\n    curqn () {\n      // In liveoll, .curquestion is display qn; 0 is settings\n      if (this.onSettings) {\n        return -1;\n      } else {\n        return parseInt(store.assessInfo.livepoll_status.curquestion) - 1;\n      }\n    },\n    curseed () {\n      return store.assessInfo.livepoll_status.seed;\n    },\n    curstate () {\n      return store.assessInfo.livepoll_status.curstate;\n    },\n    starttime () {\n      return store.assessInfo.livepoll_status.startt;\n    },\n    timelimit () {\n      if (store.livepollSettings.useTimer) {\n        return parseInt(store.livepollSettings.questionTimelimit);\n      } else if (store.assessInfo.livepoll_status.timelimit) {\n        return parseInt(store.assessInfo.livepoll_status.timelimit);\n      } else {\n        return 0;\n      }\n    },\n    showAnswersLabel () {\n      if (this.curstate < 3) {\n        return this.$t('livepoll.show_answers_after');\n      } else {\n        return this.$t('livepoll.show_answers');\n      }\n    }\n  },\n  methods: {\n    updateUsercount (data) {\n      // update store.livepollStuCnt\n      // receive usercount data\n      store.livepollStuCnt = data.cnt;\n      if (data.teachcnt === 0) {\n        store.assessInfo.livepoll_status.curstate = 0;\n      }\n    },\n    addResult (data) {\n      // add question result data\n      data.score = JSON.parse(data.score);\n      data.ans = JSON.parse(data.ans);\n      if (!store.livepollResults.hasOwnProperty(this.curqn)) {\n        const newobj = {};\n        newobj[this.curqn] = {};\n        newobj[this.curqn][data.user] = data;\n        store.livepollResults = Object.assign({}, store.livepollResults, newobj);\n      } else {\n        store.livepollResults[this.curqn][data.user] = data;\n      }\n    },\n    showHandler (data) {\n      if (data.action === 'showq') {\n        // On question show, server sends as data:\n        //  action: \"showq\", qn: qn, seed: seed, startt:startt\n        actions.clearInitValue(data.qn);\n        if (data.startt.indexOf('-') !== -1) {\n          // startt might be startt-timelimit\n          const pts = data.startt.split('-');\n          data.startt = pts[0];\n          data.timelimit = pts[1];\n        } else {\n          data.timelimit = 0;\n        }\n        store.assessInfo['livepoll_status'] = {\n          curstate: 2,\n          curquestion: parseInt(data.qn) + 1,\n          seed: parseInt(data.seed),\n          startt: parseInt(data.startt),\n          timelimit: parseInt(data.timelimit)\n        };\n      } else {\n        // On question stop, server sends as data:\n        //  action: newstate, qn: qn\n        store.assessInfo['livepoll_status'] =\n          Object.assign(store.assessInfo.livepoll_status, {\n            curquestion: parseInt(data.qn) + 1,\n            curstate: parseInt(data.action),\n            timelimit: 0\n          });\n      }\n    },\n    selectQuestion (dispqn) {\n      // called by teacher when they select a question\n      // If 0, show the settings\n      clearTimeout(this.livepollTimer);\n      const qn = parseInt(dispqn) - 1;\n      if (qn === -1) {\n        this.onSettings = true;\n        return;\n      } else {\n        this.onSettings = false;\n      }\n      if (qn !== this.curqn) {\n        // replace settings with defaults\n        this.showQuestion = store.livepollSettings.showQuestionDefault;\n        this.showResults = store.livepollSettings.showResultsLiveDefault;\n        this.showAnswers = store.livepollSettings.showAnswersAfter;\n        let nextState = 1;\n        if (store.livepollResults[qn] &&\n          Object.keys(store.livepollResults[qn]).length > 0\n        ) {\n          nextState = this.showAnswers ? 4 : 3;\n        }\n        if (qn >= 0) {\n          actions.setLivepollStatus({\n            newquestion: dispqn,\n            newstate: nextState\n          });\n        }\n      }\n    },\n    openInput () {\n      actions.setLivepollStatus({\n        newquestion: this.curqn + 1,\n        newstate: 2,\n        timelimit: this.timelimit\n      });\n      if (this.timelimit > 0) {\n        this.livepollTimer = window.setTimeout(\n          () => this.closeInput(),\n          1000 * this.timelimit);\n      }\n    },\n    closeInput () {\n      clearTimeout(this.livepollTimer);\n      const nextState = this.showAnswers ? 4 : 3;\n      if (store.livepollSettings.showResultsAfter) {\n        this.showResults = true;\n      }\n      actions.setLivepollStatus({\n        newquestion: this.curqn + 1,\n        newstate: nextState\n      });\n    },\n    newVersion () {\n      actions.setLivepollStatus({\n        newquestion: this.curqn + 1,\n        newstate: 1,\n        forceregen: 1\n      });\n      store.livepollResults.splice(this.curqn, 1);\n    },\n    updateShowAnswers () {\n      // if already showing results, need to call the server with new state\n      if (this.curstate > 2) {\n        const nextState = this.showAnswers ? 4 : 3;\n        actions.setLivepollStatus({\n          newquestion: this.curqn + 1,\n          newstate: nextState\n        });\n      }\n    }\n  },\n  mounted () {\n    // connect to livepoll server\n    const server = store.assessInfo.livepoll_server;\n    const LPdata = store.assessInfo.livepoll_data;\n\n    let querystr = 'room=' + LPdata.room + '&now=' + LPdata.now;\n    if (LPdata.sig) {\n      querystr += '&sig=' + encodeURIComponent(LPdata.sig);\n    }\n    this.socket = window.io('https://' + server + ':3000', { query: querystr });\n    this.socket.off();\n    this.socket.on('livepoll usercount', (data) => this.updateUsercount(data));\n    if (store.assessInfo.is_teacher) {\n      this.socket.on('livepoll qans', (data) => this.addResult(data));\n    } else {\n      this.socket.on('livepoll show', (data) => this.showHandler(data));\n    }\n  },\n  created () {\n    if (store.assessInfo.livepoll_status.curquestion === 0 && this.isTeacher) {\n      this.onSettings = true;\n    }\n  }\n};\n</script>\n\n<style>\n\n#livepoll_qsettings > label {\n  margin-right: 8px;\n}\n</style>\n","<template>\n  <div class=\"subheader\">\n    <div class=\"flexrow\" style=\"flex-grow:1\"\n      role=\"navigation\" :aria-label=\"$t('regions.qnav')\"\n    >\n      <menu-button id=\"qnav\"\n        :options = \"navOptions\"\n        :selected = \"dispqn\"\n        searchby = \"dispqn\"\n      >\n        <template v-slot=\"{ option }\">\n          {{ option.title }}\n        </template>\n      </menu-button>\n      <button\n        @click=\"selectQuestion(dispqn-1)\"\n        :disabled=\"dispqn <= 0\"\n        class=\"secondarybtn\"\n        id=\"qprev\"\n        :aria-label=\"$t('previous')\"\n        v-if = \"showNextPrev\"\n      >\n        <icons name=\"left\"/>\n      </button>\n      <button\n        @click=\"selectQuestion(dispqn+1)\"\n        :disabled=\"dispqn >= navOptions.length-1\"\n        class=\"secondarybtn\"\n        id=\"qnext\"\n        :aria-label=\"$t('next')\"\n        v-if = \"showNextPrev\"\n      >\n        <icons name=\"right\" />\n      </button>\n    </div>\n    <div style=\"flex-grow:1\">\n      <button\n        class = \"primary\"\n        v-if = \"curstate === 2 && dispqn > 0\"\n        @click = \"closeQuestion\"\n      >\n        {{ $t('livepoll.close_input') }}\n      </button>\n      <button\n        class = \"primary\"\n        v-else-if = \"curstate > 0 && dispqn > 0\"\n        @click = \"openQuestion\"\n      >\n        {{ $t('livepoll.open_input') }}\n      </button>\n      <button\n        class = \"secondary\"\n        v-if = \"curstate > 2 && dispqn > 0\"\n        @click = \"newVersion\"\n      >\n        <icons name=\"retake\" />\n        {{ $t('livepoll.new_version') }}\n      </button>\n    </div>\n    <div>\n      {{ studentCount }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport MenuButton from '@/components/widgets/MenuButton.vue';\nimport Icons from '@/components/widgets/Icons.vue';\nimport { store } from '../basicstore';\n\nexport default {\n  name: 'LivepollNav',\n  props: ['qn'],\n  components: {\n    MenuButton,\n    Icons\n  },\n  computed: {\n    navOptions () {\n      var out = [];\n      out.push({\n        onclick: () => this.$emit('selectq', 0),\n        title: this.$t('livepoll.settings'),\n        dispqn: 0\n      });\n      for (const qn in store.assessInfo.questions) {\n        const dispqn = parseInt(qn) + 1;\n        out.push({\n          onclick: () => this.$emit('selectq', dispqn),\n          title: this.$t('question_n', { n: dispqn }),\n          dispqn: dispqn\n        });\n      }\n      return out;\n    },\n    showNextPrev () {\n      return (Object.keys(this.navOptions).length > 1);\n    },\n    dispqn () {\n      return parseInt(this.qn) + 1;\n    },\n    curstate () {\n      return store.assessInfo.livepoll_status.curstate;\n    },\n    studentCount () {\n      return this.$tc('livepoll.stucnt', store.livepollStuCnt);\n    }\n  },\n  methods: {\n    selectQuestion (n) {\n      this.$emit('selectq', n);\n    },\n    openQuestion () {\n      this.$emit('openq');\n    },\n    closeQuestion () {\n      this.$emit('closeq');\n    },\n    newVersion () {\n      this.$emit('newversion');\n    }\n  }\n};\n\n</script>\n\n<style>\n.subheader {\n  display: flex;\n  flex-flow: row wrap;\n  border-bottom: 1px solid #ccc;\n  align-items: center;\n}\n.subheader > *, .subheader > .flexrow > * {\n  margin: 4px 0;\n}\n</style>\n","import { render } from \"./LivepollNav.vue?vue&type=template&id=830e7d12\"\nimport script from \"./LivepollNav.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollNav.vue?vue&type=script&lang=js\"\n\nimport \"./LivepollNav.vue?vue&type=style&index=0&id=830e7d12&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h2>{{ $t('livepoll.settings') }}</h2>\n    <p>\n      <label>\n        <input type=\"checkbox\" v-model=\"showQuestionDefault\"/>\n        {{ $t('livepoll.show_question_default') }}\n      </label>\n      <br/>\n      <label>\n        <input type=\"checkbox\" v-model=\"showResultsLiveDefault\"/>\n        {{ $t('livepoll.show_results_live_default') }}\n      </label>\n      <br/>\n      <label>\n        <input type=\"checkbox\" v-model=\"showResultsAfter\"/>\n        {{ $t('livepoll.show_results_after') }}\n      </label>\n      <br/>\n      <label>\n        <input type=\"checkbox\" v-model=\"showAnswersAfter\"/>\n        {{ $t('livepoll.show_answers_after') }}\n      </label>\n      <br/>\n      <label>\n        <input type=\"checkbox\" v-model=\"useTimer\"/>\n        {{ $t('livepoll.use_timer') }}\n      </label>\n      <span v-show=\"useTimer\">\n        <input type=\"text\" size=\"3\" v-model=\"questionTimelimit\" />\n        {{ $t('livepoll.seconds') }}\n      </span>\n    </p>\n  </div>\n</template>\n\n<script>\nimport { store } from '../basicstore';\n\nexport default {\n  name: 'LivepollSettings',\n  computed: {\n    showQuestionDefault: {\n      set (val) {\n        store.livepollSettings['showQuestionDefault'] = val;\n      },\n      get () {\n        return store.livepollSettings.showQuestionDefault;\n      }\n    },\n    showResultsLiveDefault: {\n      set (val) {\n        store.livepollSettings['showResultsLiveDefault'] = val;\n      },\n      get () {\n        return store.livepollSettings.showResultsLiveDefault;\n      }\n    },\n    showResultsAfter: {\n      set (val) {\n        store.livepollSettings['showResultsAfter'] = val;\n      },\n      get () {\n        return store.livepollSettings.showResultsAfter;\n      }\n    },\n    showAnswersAfter: {\n      set (val) {\n        store.livepollSettings['showAnswersAfter'] = val;\n      },\n      get () {\n        return store.livepollSettings.showAnswersAfter;\n      }\n    },\n    useTimer: {\n      set (val) {\n        store.livepollSettings['useTimer'] = val;\n      },\n      get () {\n        return store.livepollSettings.useTimer;\n      }\n    },\n    questionTimelimit: {\n      set (val) {\n        store.livepollSettings['questionTimelimit'] = val;\n      },\n      get () {\n        return store.livepollSettings.questionTimelimit;\n      }\n    }\n  }\n};\n</script>\n","import { render } from \"./LivepollSettings.vue?vue&type=template&id=33db0591\"\nimport script from \"./LivepollSettings.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div v-if=\"qinfo && qinfo.answeights\">\n    <p>{{ $tc('livepoll.numresults', numResults) }}</p>\n    <div v-show=\"showresults && numResults > 0\">\n      <div v-for=\"(resdata,pn) in results\" :key=\"qn + '-' + pn\" class=\"med-below\">\n        <livepoll-results-choices\n          v-if=\"resdata.hasOwnProperty('choices')\"\n          :results = \"resdata\"\n          :showans = \"showans\"\n        />\n        <livepoll-results-general\n          v-else\n          :results = \"resdata\"\n          :showans = \"showans\"\n          :itemid = \"qn + '-' + pn\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { store } from '../basicstore';\nimport LivepollResultsChoices from '@/components/LivepollResultsChoices.vue';\nimport LivepollResultsGeneral from '@/components/LivepollResultsGeneral.vue';\n\nexport default {\n  name: 'LivepollResults',\n  props: ['qn', 'showresults', 'showans'],\n  components: {\n    LivepollResultsChoices,\n    LivepollResultsGeneral\n  },\n  computed: {\n    qinfo () {\n      return store.assessInfo.questions[this.qn];\n    },\n    numResults () {\n      if (store.livepollResults.hasOwnProperty(this.qn)) {\n        return Object.keys(store.livepollResults[this.qn]).length;\n      } else {\n        return 0;\n      }\n    },\n    params () {\n      // reformat jsparams to be indexed by part number\n      const out = [];\n      for (let pn = 0; pn < this.qinfo.answeights.length; pn++) {\n        if (pn === 0 && this.qinfo.jsparams.hasOwnProperty(this.qn)) {\n          out[pn] = this.qinfo.jsparams[this.qn];\n        } else {\n          out[pn] = this.qinfo.jsparams[(this.qn + 1) * 1000 + pn];\n        }\n      }\n      return out;\n    },\n    results () {\n      const out = [];\n      for (let pn = 0; pn < this.qinfo.answeights.length; pn++) {\n        const datatots = {};\n        const scoredata = {};\n        // if has choices, initialize totals to 0\n        if (this.params[pn].hasOwnProperty('livepoll_choices')) {\n          for (let i = 0; i < this.params[pn].livepoll_choices.length; i++) {\n            datatots[i] = 0;\n            scoredata[i] = 0;\n          }\n        }\n        const parttype = this.params[pn].qtype;\n        const ischoices = (parttype === 'choices' || parttype === 'multans');\n        // mark the correct answers for choices and multans\n        if (ischoices) {\n          let anss;\n          if (parttype === 'choices') {\n            anss = this.params[pn].livepoll_ans.toString().split(/\\s+or\\s+/);\n          } else {\n            anss = this.params[pn].livepoll_ans.toString().split(/\\s*,\\s*/);\n          }\n          for (let i = 0; i < anss.length; i++) {\n            scoredata[anss[i]] = 1;\n          }\n        }\n        const condenseddrawarr = [];\n        let condenseddraw;\n        for (const uid in store.livepollResults[this.qn]) {\n          let stuans = store.livepollResults[this.qn][uid].ans[pn];\n          if (ischoices) {\n            stuans = stuans.toString().split('|');\n          } else if (parttype.match(/calc/) || parttype === 'numfunc') {\n            stuans = ['`' + stuans + '`'];\n          } else {\n            stuans = [stuans];\n          }\n          // condense drawing answer for comparison\n          if (parttype === 'draw') {\n            condenseddraw = this.condenseDraw(stuans[0]);\n            if (!condenseddrawarr.hasOwnProperty(condenseddraw)) {\n              condenseddrawarr[condenseddraw] = stuans[0];\n            }\n          }\n          // add student's answers to tallys\n          for (let pa = 0; pa < stuans.length; pa++) {\n            if (parttype === 'draw' && datatots.hasOwnProperty(condenseddrawarr[condenseddraw])) {\n              // if this drawing is the same condensed as another\n              datatots[condenseddrawarr[condenseddraw]] += 1;\n            } else if (datatots.hasOwnProperty(stuans[pa])) {\n              datatots[stuans[pa]] += 1;\n            } else {\n              // unseen answer - add to list\n              datatots[stuans[pa]] = 1;\n              scoredata[stuans[pa]] = store.livepollResults[this.qn][uid].score[pn];\n            }\n          }\n        } // end loop over results\n\n        let maxfreq = 1;\n        for (const i in datatots) {\n          if (datatots[i] > maxfreq) {\n            maxfreq = datatots[i];\n          }\n        }\n        out[pn] = {\n          datatots: datatots,\n          scoredata: scoredata,\n          maxfreq: maxfreq,\n          qtype: parttype\n        };\n        if (ischoices) {\n          out[pn].choices = this.params[pn].livepoll_choices;\n        }\n        if (parttype === 'draw') {\n          const initpts = this.params[pn].livepoll_drawinit;\n          for (let i = 1; i < Math.min(11, initpts.length); i++) {\n            initpts[i] = Number(initpts[i]);\n          }\n          out[pn].initpts = initpts;\n        }\n      } // end loop over parts\n      return out;\n    }\n  },\n  methods: {\n    condenseDraw (str) {\n      if (str === '') { return str; }\n      var la = str.replace(/\\(/g, '[').replace(/\\)/g, ']');\n      la = la.split(';;');\n      if (la[0] !== '') {\n        la[0] = '[' + la[0].replace(/;/g, '],[') + ']';\n      }\n      la = '[[' + la.join('],[') + ']]';\n      var drawarr = JSON.parse(la);\n      if (drawarr[0].length > 0) { // has freehand lines\n        for (let i = 0; i < drawarr[0].length; i++) {\n          if (drawarr[0][i].length === 2) { // if line has two points, sort them\n            drawarr[0][i].sort(function (a, b) {\n              if (a[0] === b[0]) {\n                return (a[1] - b[1]);\n              } else {\n                return (a[0] - b[0]);\n              }\n            });\n          }\n        }\n      } else if (drawarr.length > 4 && drawarr[4].length > 0) { // has ineq graphs\n        return str;\n      }\n      if (drawarr[1].length > 0) { // has dots\n        drawarr[1].sort(function (a, b) {\n          if (a[0] === b[0]) {\n            return (a[1] - b[1]);\n          } else {\n            return (a[0] - b[0]);\n          }\n        });\n      }\n      if (drawarr[2].length > 0) { // has opendots\n        drawarr[2].sort(function (a, b) {\n          if (a[0] === b[0]) {\n            return (a[1] - b[1]);\n          } else {\n            return (a[0] - b[0]);\n          }\n        });\n      }\n      var cc, newcc, m, b;\n      if (drawarr.length > 3 && drawarr[3].length > 0) { // handle twopoint curves\n        // type, x1, y1, x2, y2\n        //  0    1    2   3  4\n        for (let i = 0; i < drawarr[3].length; i++) {\n          cc = drawarr[3][i];\n          if (cc[0] === 5) { // standard line\n            if (cc[1] === cc[3]) {\n              newcc = [5, 'x', cc[1]];\n            } else {\n              m = (cc[4] - cc[2]) / (cc[3] - cc[1]);\n              b = cc[2] - m * cc[1];\n              newcc = [5, m.toFixed(4), b.toFixed(2)];\n            }\n            drawarr[3][i] = newcc;\n          } else if (cc[0] === 5.2) { // ray\n            if (cc[1] === cc[3]) {\n              newcc = [5.2, 'x', cc[1], cc[2]];\n            } else {\n              m = (cc[4] - cc[2]) / (cc[3] - cc[1]);\n              newcc = [5.2, m.toFixed(4), cc[1], cc[2]];\n            }\n            drawarr[3][i] = newcc;\n          } else if (cc[0] === 5.3) { // line seg\n            if (cc[1] < cc[3] || (cc[1] === cc[3] && cc[2] < cc[4])) {\n              newcc = [5.3, cc[1], cc[2], cc[3], cc[4]];\n            } else {\n              newcc = [5.3, cc[3], cc[4], cc[1], cc[2]];\n            }\n            drawarr[3][i] = newcc;\n          } else if (cc[0] === 6) { // parab\n            if (cc[1] === cc[3]) {\n              newcc = [6, 'x', cc[1], cc[2]];\n            } else {\n              m = (cc[4] - cc[2]) / ((cc[3] - cc[1]) * (cc[3] - cc[1]));\n              newcc = [6, m.toFixed(4), cc[1], cc[2]];\n            }\n            drawarr[3][i] = newcc;\n          } else if (cc[0] === 6.5) { // sqrt\n            if (cc[1] === cc[3]) {\n              newcc = [6.5, 'x', cc[1], cc[2]];\n            } else {\n              b = (cc[3] > cc[1]) ? 1 : -1;\n              m = (cc[4] - cc[2]) / Math.sqrt(Math.abs(cc[3] - cc[1]));\n              newcc = [6.5, m.toFixed(4), b, cc[1], cc[2]];\n            }\n            drawarr[3][i] = newcc;\n          } else if (cc[0] === 8) { // abs\n            if (cc[1] === cc[3]) {\n              newcc = [8, 'x', cc[1], cc[2]];\n            } else {\n              m = (cc[4] - cc[2]) / Math.abs(cc[3] - cc[1]);\n              newcc = [8, m.toFixed(4), cc[1], cc[2]];\n            }\n            drawarr[3][i] = newcc;\n          }\n        }\n      }\n      return JSON.stringify(drawarr);\n    }\n  }\n};\n</script>\n\n<style>\n  .LPres td, .LPres th {padding: 8px; border: 1px solid #999;}\n  .LPres th {background-color: #eee;}\n  .LPres {border-collapse: collapse; border: 1px solid #999;}\n  .LPres tr td:first-child {padding-left: 30px;}\n  .LPshowcorrect td {background-color:#CCFFCC;}\n  .LPshowcorrect td:first-child {background:#CCFFCC  no-repeat 8px center;}\n  .LPshowwrong td {background-color:#FFCCCC;}\n  .LPshowwrong td:first-child {background:#FFCCCC  no-repeat 8px center;}\n  .LPshowpartial td {background-color:#FFEEAA;}\n  .LPshowpartial td:first-child {background: #FFEEAA  no-repeat 8px center;}\n  .LPresval {}\n  .LPresbarwrap {display:inline-block; width:100%;}\n  .LPresbar {display:inline-block; background-color: #CCCCCC; text-align:center; overflow:show; padding:5px 0px;}\n  .LPshowcorrect .LPresbar, .LPshowwrong  .LPresbar {background-color: #FFFFFF;}\n  .LPdrawgrid > div { margin: 8px; border: 1px solid #999;}\n</style>\n","<template>\n  <table class=\"LPres\" ref=\"main\">\n    <caption class=\"sr-only\">Results</caption>\n    <thead>\n      <tr>\n        <th>{{ $t('livepoll.answer') }}</th>\n        <th style=\"min-width:10em\">{{ $t('livepoll.frequency') }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        v-for = \"(choice,i) in results.choices\"\n        :key = \"i\"\n        :class = \"[showans ? (results.scoredata[i] > 0 ? 'LPshowcorrect' : 'LPshowwrong') : '']\"\n      >\n        <td v-html=\"choice\"></td>\n        <td>\n          <span class=\"LPresbarwrap\">\n            <span class=\"LPresbar\" :style=\"{width: Math.round(100*results.datatots[i]/results.maxfreq) +'%'}\">\n              <span class=\"LPresval\">{{ results.datatots[i] }}</span>\n            </span>\n          </span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nexport default {\n  name: 'LivepollResultsChoices',\n  props: ['results', 'showans'],\n  methods: {\n    onUpdate () {\n      this.$nextTick(() => {\n        setTimeout(window.drawPics, 100);\n        window.rendermathnode(this.$refs.main);\n      });\n    }\n  },\n  mounted () {\n    this.onUpdate();\n  },\n  watch: {\n    results: function (newVal, oldVal) {\n      this.onUpdate();\n    }\n  }\n};\n</script>\n","import { render } from \"./LivepollResultsChoices.vue?vue&type=template&id=0be04c4f\"\nimport script from \"./LivepollResultsChoices.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollResultsChoices.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    v-if=\"results.qtype === 'draw' && results.initpts[11] === 0\"\n    class=\"LPdrawgrid\"\n    ref=\"main\"\n  >\n    <div\n      v-for = \"(ans,i) in sortedKeys\"\n      :key = \"ans\"\n      :class = \"[showans ? (results.scoredata[ans] > 0 ? (\n          results.scoredata[ans] < .99 ? 'LPshowpartial' : 'LPshowcorrect'\n        ) : 'LPshowwrong') : '']\"\n    >\n      <canvas\n        class=\"drawcanvas\"\n        :id=\"'canvasLP' + itemid + '-' + i\"\n        :width = \"results.initpts[6]\"\n        :height = \"results.initpts[7]\"\n      ></canvas>\n      <input type=\"hidden\" :id=\"'qnLP' + itemid + '-' + i\" />\n    </div>\n  </div>\n  <table v-else class=\"LPres\" ref=\"main\">\n    <caption class=\"sr-only\">Results</caption>\n    <thead>\n      <tr>\n        <th>{{ $t('livepoll.answer') }}</th>\n        <th style=\"min-width:10em\">{{ $t('livepoll.frequency') }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        v-for = \"(ans,i) in sortedKeys\"\n        :key = \"ans\"\n        :class = \"[showans ? (results.scoredata[ans] > 0 ? (\n            results.scoredata[ans] < .99 ? 'LPshowpartial' : 'LPshowcorrect'\n          ) : 'LPshowwrong') : '']\"\n      >\n        <td v-if=\"results.qtype === 'draw'\">\n          <canvas\n            class=\"drawcanvas\"\n            :id=\"'canvasLP' + itemid + '-' + i\"\n            :width = \"results.initpts[6]\"\n            :height = \"results.initpts[7]\"\n          ></canvas>\n          <input type=\"hidden\" :id=\"'qnLP' + itemid + '-' + i\" />\n        </td>\n        <td v-else>\n          {{ ans }}\n        </td>\n        <td>\n          <span class=\"LPresbarwrap\">\n            <span class=\"LPresbar\" :style=\"{width: Math.round(100*results.datatots[ans]/results.maxfreq) +'%'}\">\n              <span class=\"LPresval\">{{ results.datatots[ans] }}</span>\n            </span>\n          </span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nexport default {\n  name: 'LivepollResultsGeneral',\n  props: ['results', 'showans', 'itemid'],\n  computed: {\n    sortedKeys () {\n      const tots = this.results.datatots;\n      const keys = Object.keys(tots);\n      return keys.sort(function (a, b) { return tots[b] - tots[a]; });\n    }\n  },\n  methods: {\n    onUpdate () {\n      if (this.results.qtype === 'draw') {\n        for (let i = 0; i < this.sortedKeys.length; i++) {\n          let la = this.sortedKeys[i].replace(/\\(/g, '[').replace(/\\)/g, ']');\n          la = la.split(';;');\n          if (la[0] !== '') {\n            la[0] = '[' + la[0].replace(/;/g, '],[') + ']';\n          }\n          la = '[[' + la.join('],[') + ']]';\n          const uniqid = 'LP' + this.itemid + '-' + i;\n          window.canvases[uniqid] = this.results.initpts.slice();\n          window.canvases[uniqid].unshift(uniqid);\n          window.drawla[uniqid] = JSON.parse(la);\n        }\n        this.$nextTick(() => {\n          for (let i = 0; i < this.sortedKeys.length; i++) {\n            window.imathasDraw.initCanvases('LP' + this.itemid + '-' + i);\n          }\n        });\n      }\n      this.$nextTick(() => {\n        setTimeout(window.drawPics, 100);\n        window.rendermathnode(this.$refs.main);\n      });\n    }\n  },\n  mounted () {\n    this.onUpdate();\n  },\n  watch: {\n    results: function (newVal, oldVal) {\n      this.onUpdate();\n    }\n  }\n};\n</script>\n","import { render } from \"./LivepollResultsGeneral.vue?vue&type=template&id=65c0ee10\"\nimport script from \"./LivepollResultsGeneral.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollResultsGeneral.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LivepollResults.vue?vue&type=template&id=1064a798\"\nimport script from \"./LivepollResults.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollResults.vue?vue&type=script&lang=js\"\n\nimport \"./LivepollResults.vue?vue&type=style&index=0&id=1064a798&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Livepoll.vue?vue&type=template&id=cf7a6fb8\"\nimport script from \"./Livepoll.vue?vue&type=script&lang=js\"\nexport * from \"./Livepoll.vue?vue&type=script&lang=js\"\n\nimport \"./Livepoll.vue?vue&type=style&index=0&id=cf7a6fb8&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <a href=\"#\" class=\"sr-only\" @click.prevent=\"$refs.scrollpane.focus()\">\n      {{ $t('jumptocontent') }}\n    </a>\n    <assess-header></assess-header>\n    <videocued-nav\n      :cue=\"cue\"\n      :toshow=\"toshow\"\n      @jumpto=\"jumpTo\"\n    >\n      <videocued-result-nav\n        class=\"med-left\"\n        v-if = \"qn != -1\"\n        :qn = \"qn\"\n        :cue = \"cue\"\n        @jumpto=\"jumpTo\"\n      />\n    </videocued-nav>\n    <div\n      class=\"scrollpane\"\n      role=\"region\"\n      ref=\"scrollpane\"\n      tabindex=\"-1\"\n      :aria-label=\"$t('regions.q_and_vid')\"\n    >\n      <intro-text\n        :active = \"cue == -1\"\n        :html = \"intro\"\n        key = \"-1\"\n      />\n      <div id = \"playerwrapper\" v-show = \"cue > -1 && qn === -1\">\n        <div\n          class=\"video-wrapper-wrapper\"\n          :style = \"{'max-width': videoWidth + 'px'}\"\n        >\n          <div\n            class=\"fluid-width-video-wrapper\"\n            :style = \"{'padding-bottom': aspectRatioPercent + '%'}\"\n          >\n            <div id = \"player\"></div>\n          </div>\n        </div>\n      </div>\n      <div\n        v-for=\"curqn in questionArray\"\n        :key=\"curqn\"\n        :aria-hidden = \"curqn != qn\"\n        :class=\"{inactive: curqn != qn}\"\n      >\n        <inter-question-text-list\n          pos = \"before\"\n          :qn = \"curqn\"\n          :active=\"curqn == qn\"\n          :textlist = \"textList\"\n          :lastq = \"lastQ\"\n        />\n        <full-question-header\n          v-show = \"curqn == qn\"\n          :qn = \"curqn\"\n        />\n        <question\n          :qn=\"curqn\"\n          :active=\"curqn == qn\"\n          :getwork=\"1\"\n        />\n        <inter-question-text-list\n          pos = \"after\"\n          :qn = \"curqn\"\n          :active=\"curqn == qn\"\n          :textlist = \"textList\"\n          :lastq = \"lastQ\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\nvideocued/0     Intro\nvideocued/#/v   Video segment #-1\nvideocued/#/q   Question following video segment #-1\nvideocued/#/f   Followup after question following video segment #-1\n\nOn question submission: (put in scoreresult?  Or add above <question> here?)\n if has followup:\n  show \"Continue to followuptitle\" option\n  if correct and has next segment, show \"Jump video to nextsegmentitle\" button\n else if has next segment\n  show \"Continue video to nextsegmenttitle\" button\n\nWill need to rebuild ytapi.js in the Vue code.\n\n*/\nimport AssessHeader from '@/components/AssessHeader.vue';\nimport VideocuedNav from '@/components/VideocuedNav.vue';\nimport FullQuestionHeader from '@/components/FullQuestionHeader.vue';\nimport InterQuestionTextList from '@/components/InterQuestionTextList.vue';\nimport VideocuedResultNav from '@/components/VideocuedResultNav.vue';\nimport Question from '@/components/question/Question.vue';\nimport IntroText from '@/components/IntroText.vue';\nimport { store } from '../basicstore';\n\nexport default {\n  name: 'videocued',\n  components: {\n    FullQuestionHeader,\n    VideocuedNav,\n    Question,\n    VideocuedResultNav,\n    InterQuestionTextList,\n    AssessHeader,\n    IntroText\n  },\n  data: function () {\n    return {\n      videoWidth: 600,\n      aspectRatioPercent: 56.2,\n      ytplayer: null,\n      timer: null,\n      cue: 0,\n      toshow: 'v'\n    };\n  },\n  computed: {\n    curCue () {\n      if (this.cue > -1) {\n        return store.assessInfo.videocues[this.cue];\n      } else {\n        return {};\n      }\n    },\n    qn () {\n      if (this.toshow === 'q') {\n        return parseInt(this.curCue.qn);\n      } else {\n        return -1;\n      }\n    },\n    timeCues () {\n      const out = {};\n      for (const i in store.assessInfo.videocues) {\n        if (store.assessInfo.videocues[i].hasOwnProperty('qn')) {\n          out[store.assessInfo.videocues[i].time] = parseInt(i);\n        }\n      }\n      return out;\n    },\n    nextVidTimes () {\n      // we'll want to update the nav when a followup ends, or when a\n      // video segment with a question ends\n      const out = {};\n      for (let i = 0; i < store.assessInfo.videocues.length; i++) {\n        if (store.assessInfo.videocues[i].hasOwnProperty('followuptime') &&\n          store.assessInfo.videocues.hasOwnProperty(i + 1)\n        ) {\n          out[store.assessInfo.videocues[i].followuptime] = i;\n        } else if (!store.assessInfo.videocues[i].hasOwnProperty('qn') &&\n          store.assessInfo.videocues.hasOwnProperty(i + 1)\n        ) {\n          out[store.assessInfo.videocues[i].time] = i;\n        }\n      }\n      return out;\n    },\n    intro () {\n      return store.assessInfo.intro;\n    },\n    questionArray () {\n      const qnArray = {};\n      for (let i = 0; i < store.assessInfo.questions.length; i++) {\n        qnArray[i] = i;\n      }\n      return qnArray;\n    },\n    lastQ () {\n      return store.assessInfo.questions.length - 1;\n    },\n    textList () {\n      if (!store.assessInfo.hasOwnProperty('interquestion_text')) {\n        return [];\n      } else {\n        return store.assessInfo.interquestion_text;\n      }\n    }\n  },\n  methods: {\n    createPlayer () {\n      const supportsFullScreen = !!(document.exitFullscreen || document.mozCancelFullScreen || document.webkitExitFullscreen || document.msExitFullscreen);\n      const pVarsInternal = {\n        autoplay: 0,\n        wmode: 'transparent',\n        fs: supportsFullScreen ? 1 : 0,\n        controls: 2,\n        rel: 0,\n        modestbranding: 1,\n        showinfo: 0,\n        origin: window.location.protocol + '//' + window.location.host\n      };\n      const ar = store.assessInfo.videoar.split(':');\n      const videoHeight = window.innerHeight - 50;\n      this.videoWidth = ar[0] / ar[1] * videoHeight;\n      this.aspectRatioPercent = Math.round(1000 * videoHeight / this.videoWidth) / 10;\n      this.ytplayer = new window.YT.Player('player', {\n        height: videoHeight,\n        width: this.videoWidth,\n        videoId: store.assessInfo.videoid,\n        playerVars: pVarsInternal,\n        events: {\n          onReady: () => this.handlePlayerReady(),\n          onStateChange: (event) => this.handlePlayerStateChange(event),\n          onError: (event) => this.handlePlayerError(event)\n        }\n      });\n    },\n    exitFullscreen () {\n      const isInFullScreen = (\n        document.fullscreenElement ||\n        document.webkitFullscreenElement ||\n        document.mozFullScreenElement ||\n        document.msFullscreenElement);\n      if (isInFullScreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    },\n    checkTime () {\n      const curTime = Math.floor(this.ytplayer.getCurrentTime());\n      // If there's a queue for this time,\n      // But not if we jumped to a video and the queue is for the previous\n      // or if we jump to followup\n      if (this.timeCues.hasOwnProperty(curTime) &&\n        !(this.toshow === 'v' && this.cue === this.timeCues[curTime] + 1) &&\n        !(this.toshow === 'f' && this.cue === this.timeCues[curTime]) &&\n        this.ytplayer.getPlayerState() === window.YT.PlayerState.PLAYING\n      ) {\n        this.jumpTo(parseInt(this.timeCues[curTime]), 'q');\n      } else {\n        if (this.nextVidTimes.hasOwnProperty(curTime) &&\n          this.cue === this.nextVidTimes[curTime]\n        ) {\n          this.cue = this.cue + 1;\n          this.toshow = 'v';\n        }\n        // wait again\n        this.timer = window.setTimeout(() => { this.checkTime(); }, 200);\n      }\n    },\n    handlePlayerReady () {\n      // remove cruft to allow autofit to work\n      window.$('iframe#player').removeAttr('height').removeAttr('width')\n        .css('height', '').css('width', '');\n    },\n    handlePlayerStateChange (event) {\n      if (event.data === window.YT.PlayerState.PLAYING) {\n        // started playing video.  Start listing for the times\n        this.timer = window.setTimeout(() => { this.checkTime(); }, 200);\n      } else if (event.data === window.YT.PlayerState.ENDED) {\n        // video ended - check to see if there's a question to show.\n        if (this.toshow === 'v' && this.curCue.hasOwnProperty('qn')) {\n          window.clearTimeout(this.timer);\n          this.jumpTo(this.cue, 'q');\n        }\n      }\n    },\n    handlePlayerError (event) {\n      store.errorMsg = event.data;\n    },\n    jumpTo (newCueNum, newToshow, failed = 0) {\n      if (newCueNum === -1 || newToshow === 'q') {\n        // if showing a question, pause the video\n        this.exitFullscreen();\n        if (this.ytplayer) {\n          this.ytplayer.pauseVideo();\n        }\n      } else {\n        if (this.ytplayer === null || typeof this.ytplayer.seekTo !== 'function') {\n          if (failed === 0) {\n            store.errorMsg = 'ytnotready';\n          }\n          window.setTimeout(() => {\n            this.jumpTo(newCueNum, newToshow, 1);\n          }, 100);\n          return;\n        } else if (failed > 0) {\n          store.errorMsg = null;\n        }\n        const newCue = store.assessInfo.videocues[newCueNum];\n        let seektime = 0;\n        if (newToshow === 'v') {\n          if (newCueNum > 0) {\n            const prevCue = store.assessInfo.videocues[newCueNum - 1];\n            if (prevCue.hasOwnProperty('followuptime')) {\n              // if previous cue had followup, skip to end of that\n              seektime = prevCue.followuptime;\n            } else {\n              // otherwise, skip to end of previous main vid seg\n              seektime = prevCue.time;\n            }\n          }\n        } else if (newToshow === 'f') {\n          // start of followup is end of video segment\n          seektime = newCue.time;\n        }\n        // seek to right place in video\n        this.ytplayer.seekTo(seektime, true);\n        this.ytplayer.playVideo();\n      }\n      this.cue = newCueNum;\n      this.toshow = newToshow;\n    }\n  },\n  mounted () {\n    if (window.YT) {\n      this.createPlayer();\n    } else {\n      window.onYouTubePlayerAPIReady = () => {\n        this.createPlayer();\n      };\n      // async load YouTube API\n      if (!document.getElementById('yt_player_api')) {\n        const tag = document.createElement('script');\n        tag.id = 'yt_player_api';\n        tag.src = 'https://www.youtube.com/player_api';\n        document.head.appendChild(tag);\n      }\n    }\n  },\n  created () {\n    // don't show intro if it's empty\n    if (store.assessInfo.intro !== '') {\n      this.cue = -1;\n      this.toshow = 'i';\n    }\n  }\n};\n</script>\n\n<style>\n\n</style>\n","<template>\n  <div class=\"subheader\" role=\"navigation\" :aria-label=\"$t('regions.qvidnav')\">\n    <menu-button id=\"qnav\"\n      :options = \"navOptions\"\n      :selected = \"curOption\"\n      searchby = \"title\"\n    >\n      <template v-slot=\"{ option, selected }\">\n        <videocued-nav-list-item :option=\"option\" :selected=\"selected\" />\n      </template>\n    </menu-button>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport MenuButton from '@/components/widgets/MenuButton.vue';\nimport VideocuedNavListItem from '@/components/VideocuedNavListItem.vue';\nimport { store } from '../basicstore';\n\nexport default {\n  name: 'VideocuedNav',\n  props: ['cue', 'toshow'],\n  components: {\n    MenuButton,\n    VideocuedNavListItem\n  },\n  computed: {\n    hasIntro () {\n      return (store.assessInfo.intro !== '');\n    },\n    navOptions () {\n      var out = [];\n      if (this.hasIntro) {\n        out.push({\n          // internallink: '/videocued/0',\n          onclick: () => this.$emit('jumpto', -1, 'i'),\n          title: this.$t('intro'),\n          type: 'i'\n        });\n      }\n      /*\n       foreach viddata\n       link using segment title, jumps to previous segment end time\n       if has a qn,\n        link to jump to question\n        if has followup with showlink==true\n         show link with followuptitle, jumps to main segment end time\n      */\n      for (let i = 0; i < store.assessInfo.videocues.length; i++) {\n        const cuedata = store.assessInfo.videocues[i];\n        out.push({\n          // internallink: '/videocued/' + cuen + '/v',\n          onclick: () => this.$emit('jumpto', i, 'v'),\n          type: 'v',\n          title: cuedata.title,\n          cue: i\n        });\n        if (cuedata.hasOwnProperty('qn')) {\n          out.push({\n            // internallink: '/videocued/' + cuen + '/q',\n            onclick: () => this.$emit('jumpto', i, 'q'),\n            type: 'q',\n            title: this.$t('question_n', { n: parseInt(cuedata.qn) + 1 }),\n            qn: parseInt(cuedata.qn),\n            cue: i,\n            subitem: true\n          });\n        }\n        if (cuedata.hasOwnProperty('followuptime')) {\n          out.push({\n            // internallink: '/videocued/' + cuen + '/f',\n            onclick: () => this.$emit('jumpto', i, 'f'),\n            type: 'f',\n            title: cuedata.followuptitle,\n            cue: i,\n            subitem: true\n          });\n        }\n      }\n      return out;\n    },\n    curOption () {\n      const curCue = parseInt(this.cue);\n      if (curCue === -1 && this.hasIntro) {\n        return 0;\n      }\n      for (let i = this.hasIntro ? 1 : 0; i < this.navOptions.length; i++) {\n        if (this.navOptions[i].cue === curCue &&\n          this.navOptions[i].type === this.toshow\n        ) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    showNextPrev () {\n      return (Object.keys(this.navOptions).length > 1);\n    },\n    prevLink () {\n      if (this.curOption <= 0) {\n        return '';\n      }\n      return this.navOptions[this.curOption - 1].internallink;\n    },\n    nextLink () {\n      if (this.curOption >= this.navOptions.length - 1) {\n        return '';\n      }\n      return this.navOptions[this.curOption + 1].internallink;\n    }\n  }\n};\n</script>\n\n<style>\n.subheader {\n  display: flex;\n  flex-flow: row wrap;\n  border-bottom: 1px solid #ccc;\n}\n.subheader > * {\n  margin: 4px 0;\n}\n</style>\n","<template>\n  <span class=\"flex-nowrap-center\">\n    <span class=\"qname-wrap\">\n      <icons :name=\"statusIcon\" class=\"qstatusicon\" />\n      <span\n        :class=\"{greystrike: nameHover !== ''}\"\n        :title = \"nameHover\"\n      >\n        {{ option.title }}\n      </span>\n      {{ scoreDisplay }}\n    </span>\n    <span class=\"redoicon\" v-if=\"!selected\">\n      <icons name=\"retry\" v-if=\"canRetry\" />\n    </span>\n    <span class=\"redoicon\" v-if=\"!selected\">\n      <icons name=\"retake\" v-if=\"canRegen\" />\n    </span>\n  </span>\n</template>\n\n<script>\nimport Icons from '@/components/widgets/Icons.vue';\nimport { store } from '../basicstore';\nimport { attemptedMixin } from '@/mixins/attemptedMixin';\n\nexport default {\n  name: 'VideocuedNavListItem',\n  props: ['option', 'selected'],\n  components: {\n    Icons\n  },\n  mixins: [attemptedMixin],\n  computed: {\n    statusIcon () {\n      if (this.option.type === 'v' || this.option.type === 'f') {\n        return 'video';\n      } else if (this.option.type === 'q') {\n        if (store.assessInfo.questions[this.option.qn].status === 'unattempted') {\n          if (this.qsAttempted[this.option.qn] === 1) {\n            return 'attempted';\n          } else if (this.qsAttempted[this.option.qn] > 0) {\n            return 'partattempted';\n          }\n        }\n        return store.assessInfo.questions[this.option.qn].status;\n      } else {\n        return 'none';\n      }\n    },\n    nameHover () {\n      if (this.option.type === 'q' &&\n          store.assessInfo.questions[this.option.qn].withdrawn !== 0\n      ) {\n        return this.$t('header.withdrawn');\n      }\n      return '';\n    },\n    scoreDisplay () {\n      if (this.option.type !== 'q') {\n        return '';\n      } else {\n        const qdata = store.assessInfo.questions[this.option.qn];\n        if (qdata.hasOwnProperty('gbscore')) {\n          let str = qdata.canretry ? '(' : '[';\n          str += qdata.gbscore + '/' + qdata.points_possible;\n          str += qdata.canretry ? ')' : ']';\n          return str;\n        } else {\n          return this.$tc('header.pts', qdata.points_possible);\n        }\n      }\n    },\n    canRetry () {\n      if (this.option.type === 'q') {\n        const qdata = store.assessInfo.questions[this.option.qn];\n        return qdata.canretry;\n      }\n      return false;\n    },\n    canRegen () {\n      if (this.option.type === 'q') {\n        const qdata = store.assessInfo.questions[this.option.qn];\n        return qdata.regens_remaining;\n      }\n      return false;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.greentext {\n  color: #090;\n}\n.orangetext {\n  color: #AA5D00;\n}\n.redtext {\n  color: #900;\n}\n.bluetext {\n  color: #009;\n}\n</style>\n","import { render } from \"./VideocuedNavListItem.vue?vue&type=template&id=1d0f86fb\"\nimport script from \"./VideocuedNavListItem.vue?vue&type=script&lang=js\"\nexport * from \"./VideocuedNavListItem.vue?vue&type=script&lang=js\"\n\nimport \"./VideocuedNavListItem.vue?vue&type=style&index=0&id=1d0f86fb&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./VideocuedNav.vue?vue&type=template&id=75c449d2\"\nimport script from \"./VideocuedNav.vue?vue&type=script&lang=js\"\nexport * from \"./VideocuedNav.vue?vue&type=script&lang=js\"\n\nimport \"./VideocuedNav.vue?vue&type=style&index=0&id=75c449d2&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    v-if = \"showNav\"\n  >\n    <button\n      v-if = \"hasNextVid\"\n      @click = \"nextVidLink\"\n      :class=\"{'primary': status !== 'correct' || !showSkip}\"\n    >\n      {{ $t('videocued.continue', {'title': nextVidTitle}) }}\n    </button>\n\n    <button\n      v-if = \"showSkip\"\n      @click = \"skipLink\"\n      class=\"primary\"\n    >\n      {{ $t('videocued.skipto', {'title': skipTitle}) }}\n    </button>\n  </div>\n</template>\n\n<script>\nimport { store } from '../basicstore';\n\nexport default {\n  name: 'VideocuedResultNav',\n  props: ['qn', 'cue'],\n  computed: {\n    qdata () {\n      return store.assessInfo.questions[this.qn];\n    },\n    showNav () {\n      return (store.inProgress &&\n        store.assessInfo.hasOwnProperty('questions') &&\n        this.qdata.hasOwnProperty('score') &&\n        (this.qdata.try > 0 ||\n          this.qdata.hasOwnProperty('tries_remaining_range')) &&\n        this.qdata.withdrawn === 0\n      );\n    },\n    showScores () {\n      return (store.assessInfo.showscores === 'during');\n    },\n    status () {\n      if (!this.showScores || !this.qdata.hasOwnProperty('parts')) {\n        return 'neutral';\n      }\n      for (let i = 0; i < this.qdata.parts.length; i++) {\n        if (this.qdata.parts[i].try === 0 ||\n            this.qdata.parts[i].rawscore < 0.98\n        ) {\n          return 'neutral';\n        }\n      }\n      return 'correct';\n    },\n    nextVidType () {\n      return store.assessInfo.videocues[this.cue].hasOwnProperty('followuptitle')\n        ? 'followup'\n        : 'nextseg';\n    },\n    hasNextVid () {\n      return (this.nextVidType === 'followup' ||\n        store.assessInfo.videocues.hasOwnProperty(this.cue + 1)\n      );\n    },\n    nextVidTitle () {\n      if (this.nextVidType === 'followup') {\n        return store.assessInfo.videocues[this.cue].followuptitle;\n      } else {\n        return store.assessInfo.videocues[this.cue + 1].title;\n      }\n    },\n    showSkip () {\n      return (this.status === 'correct' &&\n        this.nextVidType === 'followup' &&\n        store.assessInfo.videocues.hasOwnProperty(this.cue + 1)\n      );\n    },\n    skipTitle () {\n      return store.assessInfo.videocues[this.cue + 1].title;\n    }\n  },\n  methods: {\n    skipLink () {\n      this.$emit('jumpto', this.cue + 1, 'v');\n    },\n    nextVidLink () {\n      if (this.nextVidType === 'followup') {\n        this.$emit('jumpto', this.cue, 'f');\n      } else {\n        this.$emit('jumpto', this.cue + 1, 'v');\n      }\n    }\n  }\n};\n</script>\n","import { render } from \"./VideocuedResultNav.vue?vue&type=template&id=323af1a5\"\nimport script from \"./VideocuedResultNav.vue?vue&type=script&lang=js\"\nexport * from \"./VideocuedResultNav.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Videocued.vue?vue&type=template&id=489a26d8\"\nimport script from \"./Videocued.vue?vue&type=script&lang=js\"\nexport * from \"./Videocued.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $RangeError = RangeError;\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toIntegerOrInfinity(count);\n  if (n < 0 || n === Infinity) throw new $RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = uncurryThis(1.0.valueOf);\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_RESULT || !properErrorOnNonWritableLength();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar path = require('../internals/path');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar hasOwn = require('../internals/has-own-property');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar isSymbol = require('../internals/is-symbol');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar thisNumberValue = require('../internals/this-number-value');\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar PureNumberNamespace = path[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\nvar TypeError = global.TypeError;\nvar stringSlice = uncurryThis(''.slice);\nvar charCodeAt = uncurryThis(''.charCodeAt);\n\n// `ToNumeric` abstract operation\n// https://tc39.es/ecma262/#sec-tonumeric\nvar toNumeric = function (value) {\n  var primValue = toPrimitive(value, 'number');\n  return typeof primValue == 'bigint' ? primValue : toNumber(primValue);\n};\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, 'number');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (isSymbol(it)) throw new TypeError('Cannot convert a Symbol value to a number');\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = charCodeAt(it, 0);\n    if (first === 43 || first === 45) {\n      third = charCodeAt(it, 2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (charCodeAt(it, 1)) {\n        // fast equal of /^0b[01]+$/i\n        case 66:\n        case 98:\n          radix = 2;\n          maxCode = 49;\n          break;\n        // fast equal of /^0o[0-7]+$/i\n        case 79:\n        case 111:\n          radix = 8;\n          maxCode = 55;\n          break;\n        default:\n          return +it;\n      }\n      digits = stringSlice(it, 2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = charCodeAt(digits, index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nvar FORCED = isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'));\n\nvar calledWithNew = function (dummy) {\n  // includes check on 1..constructor(foo) case\n  return isPrototypeOf(NumberPrototype, dummy) && fails(function () { thisNumberValue(dummy); });\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nvar NumberWrapper = function Number(value) {\n  var n = arguments.length < 1 ? 0 : NativeNumber(toNumeric(value));\n  return calledWithNew(this) ? inheritIfRequired(Object(n), this, NumberWrapper) : n;\n};\n\nNumberWrapper.prototype = NumberPrototype;\nif (FORCED && !IS_PURE) NumberPrototype.constructor = NumberWrapper;\n\n$({ global: true, constructor: true, wrap: true, forced: FORCED }, {\n  Number: NumberWrapper\n});\n\n// Use `internal/copy-constructor-properties` helper in `core-js@4`\nvar copyConstructorProperties = function (target, source) {\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(source) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (hasOwn(source, key = keys[j]) && !hasOwn(target, key)) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\nif (IS_PURE && PureNumberNamespace) copyConstructorProperties(path[NUMBER], PureNumberNamespace);\nif (FORCED || IS_PURE) copyConstructorProperties(path[NUMBER], NativeNumber);\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar $RangeError = RangeError;\nvar $String = String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar nativeToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = $String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return nativeToFixed(0.00008, 3) !== '0.000' ||\n    nativeToFixed(0.9, 0) !== '1' ||\n    nativeToFixed(1.255, 2) !== '1.25' ||\n    nativeToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    // TODO: ES2018 increased the maximum number of fraction digits to 100, need to improve the implementation\n    if (fractDigits < 0 || fractDigits > 20) throw new $RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number !== number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return $String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n"],"names":["class","key","id","style","_createElementBlock","_hoisted_1","_createVNode","_component_assess_header","$options","isTeacher","_createBlock","_component_livepoll_nav","qn","curqn","onSelectq","selectQuestion","onOpenq","openInput","onCloseq","closeInput","onNewversion","newVersion","_createCommentVNode","curstate","timelimit","_hoisted_2","_hoisted_3","_createElementVNode","type","_cache","$event","_ctx","showQuestion","_createTextVNode","_toDisplayString","$t","showResults","showAnswers","onChange","updateShowAnswers","apply","arguments","showAnswersLabel","_hoisted_4","starttime","_component_timer","end","total","_hoisted_5","n","_component_livepoll_settings","_hoisted_7","_component_question","active","state","seed","curseed","_component_livepoll_results","showresults","showans","_hoisted_6","role","_component_menu_button","options","navOptions","selected","dispqn","searchby","default","_withCtx","_ref","option","title","_","showNextPrev","onClick","disabled","_component_icons","name","length","closeQuestion","openQuestion","studentCount","props","components","MenuButton","Icons","computed","_this","out","push","onclick","$emit","this","_loop","parseInt","store","assessInfo","questions","Object","keys","livepoll_status","$tc","livepollStuCnt","methods","__exports__","showQuestionDefault","showResultsLiveDefault","showResultsAfter","showAnswersAfter","useTimer","size","questionTimelimit","set","val","livepollSettings","get","qinfo","answeights","numResults","_Fragment","_renderList","results","resdata","pn","$props","hasOwnProperty","_component_livepoll_results_choices","_component_livepoll_results_general","itemid","ref","choices","choice","i","_normalizeClass","scoredata","innerHTML","_normalizeStyle","width","Math","round","datatots","maxfreq","onUpdate","$nextTick","setTimeout","window","drawPics","rendermathnode","$refs","main","mounted","watch","newVal","oldVal","qtype","initpts","sortedKeys","ans","height","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","tots","sort","a","b","la","replace","split","join","uniqid","canvases","slice","unshift","drawla","JSON","parse","imathasDraw","initCanvases","LivepollResultsChoices","LivepollResultsGeneral","livepollResults","params","jsparams","livepoll_choices","parttype","ischoices","anss","livepoll_ans","toString","condenseddrawarr","condenseddraw","uid","stuans","match","condenseDraw","pa","score","livepoll_drawinit","min","Number","str","cc","newcc","m","drawarr","toFixed","sqrt","abs","stringify","LivepollNav","Question","LivepollSettings","LivepollResults","AssessHeader","Timer","data","onSettings","livepollTimer","socket","is_teacher","curquestion","startt","updateUsercount","cnt","teachcnt","addResult","user","newobj","assign","showHandler","action","actions","clearInitValue","indexOf","pts","clearTimeout","nextState","setLivepollStatus","newquestion","newstate","forceregen","splice","_this2","server","livepoll_server","LPdata","livepoll_data","querystr","room","now","sig","encodeURIComponent","io","query","off","on","created","render","href","_withModifiers","scrollpane","focus","_component_videocued_nav","cue","toshow","onJumpto","jumpTo","_component_videocued_result_nav","tabindex","_component_intro_text","html","intro","videoWidth","aspectRatioPercent","questionArray","inactive","_component_inter_question_text_list","pos","textlist","textList","lastq","lastQ","_component_full_question_header","getwork","curOption","_component_videocued_nav_list_item","_renderSlot","$slots","statusIcon","greystrike","nameHover","scoreDisplay","canRetry","canRegen","mixins","attemptedMixin","status","qsAttempted","withdrawn","qdata","canretry","gbscore","points_possible","regens_remaining","VideocuedNavListItem","hasIntro","cuedata","videocues","subitem","followuptitle","curCue","prevLink","internallink","nextLink","showNav","hasNextVid","nextVidLink","showSkip","nextVidTitle","skipLink","skipTitle","inProgress","try","showScores","showscores","parts","rawscore","nextVidType","FullQuestionHeader","VideocuedNav","VideocuedResultNav","InterQuestionTextList","IntroText","ytplayer","timer","timeCues","time","nextVidTimes","followuptime","qnArray","interquestion_text","createPlayer","supportsFullScreen","document","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","pVarsInternal","autoplay","wmode","fs","controls","rel","modestbranding","showinfo","origin","location","protocol","host","ar","videoar","videoHeight","innerHeight","YT","Player","videoId","videoid","playerVars","events","onReady","handlePlayerReady","onStateChange","event","handlePlayerStateChange","onError","handlePlayerError","isInFullScreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkTime","curTime","floor","getCurrentTime","getPlayerState","PlayerState","PLAYING","$","removeAttr","css","_this3","ENDED","errorMsg","newCueNum","newToshow","_this4","failed","undefined","pauseVideo","seekTo","newCue","seektime","prevCue","playVideo","_this5","onYouTubePlayerAPIReady","getElementById","tag","createElement","src","head","appendChild","toIntegerOrInfinity","requireObjectCoercible","$RangeError","RangeError","module","exports","count","result","Infinity","uncurryThis","valueOf","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","properErrorOnNonWritableLength","defineProperty","writable","error","TypeError","FORCED","target","proto","arity","forced","item","O","len","argCount","k","to","j","IS_PURE","DESCRIPTORS","global","path","isForced","hasOwn","inheritIfRequired","isPrototypeOf","isSymbol","toPrimitive","fails","getOwnPropertyNames","getOwnPropertyDescriptor","thisNumberValue","trim","NUMBER","NativeNumber","PureNumberNamespace","NumberPrototype","prototype","stringSlice","charCodeAt","toNumeric","value","primValue","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","NaN","calledWithNew","dummy","NumberWrapper","constructor","wrap","copyConstructorProperties","source","$repeat","$String","String","repeat","nativeToFixed","pow","x","acc","log","x2","multiply","c","c2","divide","dataToString","s","t","fractionDigits","e","z","number","fractDigits","sign"],"sourceRoot":""}