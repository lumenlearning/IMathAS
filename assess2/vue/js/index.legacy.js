(function(){"use strict";var e={7296:function(e,t,s){s.d(t,{a:function(){return c},i:function(){return l}});var n=s(9008),i=(s(7532),s(6699),s(3248),s(1408),s(4379),s(1040),s(9640),s(2632),s(3500),s(2644),s(1768),s(5716),s(2888),s(1872),s(8568)),a=s(6760),r=s(9124);s(2928),s(9168);function o(e,t){var s=-1,n=e.interquestion_text,i=[];for(var a in t)if(t[a].hasOwnProperty("text")){var r=t[a].text;if(JSON.stringify(r)===JSON.stringify(s))for(var o=0;o<r.length;o++)i[i.length-1-o].displayUntil=a;else{for(var u=0;u<r.length;u++)i.push(Object.assign({orig:1e5},n[r[u]])),i[i.length-1].displayBefore=a,i[i.length-1].displayUntil=a;s=r.slice()}}else s=-1;for(var l in n)n[l].hasOwnProperty("displayBefore")&&i.push(Object.assign({orig:l},n[l])),n[l].hasOwnProperty("atend")&&(i.push(Object.assign({orig:l},n[l])),i[i.length-1].displayBefore=t.length,i[i.length-1].displayUntil=t.length);i.length>0&&(i.sort((function(e,t){return parseInt(e.displayBefore)===parseInt(t.displayBefore)?e.orig-t.orig:e.displayBefore-t.displayBefore})),e.interquestion_text=i)}function u(e,t){e.interquestion_pages=[];var s=0;for(var n in e.interquestion_text)if(e.interquestion_text[n].displayBefore=parseInt(e.interquestion_text[n].displayBefore),e.interquestion_text[n].displayUntil=parseInt(e.interquestion_text[n].displayUntil),e.interquestion_text[n].forntype=parseInt(e.interquestion_text[n].forntype)>0,e.interquestion_text[n].ispage=parseInt(e.interquestion_text[n].ispage)>0,e.interquestion_text[n].ispage){if(e.interquestion_pages.length>0){for(var i=[],a=s;a<e.interquestion_text[n].displayBefore;a++)i.push(a);s=e.interquestion_text[n].displayBefore,e.interquestion_pages[e.interquestion_pages.length-1][0].questions=i}e.interquestion_pages.push([e.interquestion_text[n]])}else e.interquestion_pages.length>0&&e.interquestion_pages[e.interquestion_pages.length-1].push(e.interquestion_text[n]);if(e.interquestion_pages.length>0&&t){for(var r=[],o=s;o<t.length;o++)r.push(o);e.interquestion_pages[e.interquestion_pages.length-1][0].questions=r}else delete e.interquestion_pages}var l=(0,i.cB)({assessInfo:null,APIbase:null,aid:null,cid:null,uid:null,queryString:"",inAssess:!1,inTransit:!1,autoSaving:!1,errorMsg:null,confirmObj:null,lastLoaded:[],inProgress:!1,autosaveQueue:{},autosaveTimeactive:{},timeActive:{},timeActivated:{},initValues:{},initTimes:{},work:{},autosaveTimer:null,somethingDirty:!1,noUnload:!1,timelimit_timer:null,timelimit_expired:!1,timelimit_grace_expired:!1,timelimit_restricted:0,enddate_timer:null,show_enddate_dialog:!1,inPrintView:!1,enableMQ:!0,lastPos:null,livepollServer:"",livepollSettings:{showQuestionDefault:!0,showResultsLiveDefault:!1,showResultsAfter:!0,showAnswersAfter:!0,useTimer:!1,questionTimelimit:60},livepollStuCnt:0,livepollResults:{}}),c={loadAssessData:function(e,t){var s=this,n=l.queryString;!0===t&&(n+="&reset=1"),l.inTransit?window.setTimeout((function(){return s.loadAssessData(e,t)}),20):(l.inTransit=!0,l.errorMsg=null,l.inAssess=!1,window.$.ajax({url:l.APIbase+"loadassess.php"+n,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?s.handleError(t.error):(l.inProgress=!1,l.timelimit_expired=!1,clearTimeout(l.timelimit_timer),t=s.processSettings(t),l.assessInfo=t,"undefined"!==typeof e&&null!==e&&e())})).fail((function(e,t,n){s.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){l.inTransit=!1})))},startAssess:function(e,t,s,n,i){var a=this;l.inTransit?window.setTimeout((function(){return a.startAssess(e,t,s,n)}),20):(l.inTransit=!0,l.errorMsg=null,window.$.ajax({url:l.APIbase+"startassess.php"+l.queryString,type:"POST",dataType:"json",data:{practice:e,preview_all:i?1:0,password:t,in_print:l.inPrintView?1:0,new_group_members:s.join(","),cur_group:l.assessInfo.stugroupid,has_ltisourcedid:l.assessInfo.is_lti&&l.assessInfo.has_ltisourcedid?1:0},xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(e){if(e.hasOwnProperty("error"))a.handleError(e.error);else if(window.imathasDraw.reset(),e=a.processSettings(e),l.assessInfo=Object.assign({},l.assessInfo,e),l.autosaveQueue={},l.autosaveTimeactive={},l.initValues={},l.initTimes={},l.timeActive={},l.timeActivated={},l.work={},l.inAssess=!0,e.error)a.handleError(e.error);else if(l.assessInfo.has_active_attempt){if(l.inProgress=!0,"undefined"!==typeof n&&null!==n)return void n();"skip"===l.assessInfo.displaymethod?""!==l.assessInfo.intro||l.assessInfo.resources.length>0?r.c.push("/skip/0"):r.c.push("/skip/1"):"full"===l.assessInfo.displaymethod?l.assessInfo.hasOwnProperty("interquestion_pages")?""!==l.assessInfo.intro||l.assessInfo.resources.length>0?r.c.push("/full/page/0"):r.c.push("/full/page/1"):r.c.push("/full"):"video_cued"===l.assessInfo.displaymethod?r.c.push("/videocued"):"livepoll"===l.assessInfo.displaymethod&&r.c.push("/livepoll")}})).fail((function(e,t,s){a.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){l.inTransit=!1})))},loadQuestion:function(e,t,s,n){var i=this;if(l.inTransit)window.setTimeout((function(){return i.loadQuestion(e,t,s)}),20);else if(l.somethingDirty&&null==n)window.setTimeout((function(){return i.loadQuestion(e,t,s,!0)}),50);else{l.inTransit=!0,t&&(this.clearInitValue(e),l.assessInfo.hasOwnProperty("scoreerrors")&&l.assessInfo.scoreerrors.hasOwnProperty(e)&&delete l.assessInfo.scoreerrors[e]);var a=new FormData;a.append("qn",e),a.append("practice",l.assessInfo.in_practice),a.append("regen",t?1:0),a.append("jumptoans",s?1:0),l.assessInfo.preview_all&&a.append("preview_all",!0),Object.keys(l.autosaveQueue).length>0&&(c.clearAutosaveTimer(),this.addAutosaveData(a)),window.$.ajax({url:l.APIbase+"loadquestion.php"+l.queryString,type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){s.hasOwnProperty("error")?i.handleError(s.error):(s.saved_autosaves&&i.markAutosavesDone(),delete s.saved_autosaves,t&&l.assessInfo.questions[e].jsparams&&window.imathasAssess.clearparams(l.assessInfo.questions[e].jsparams),s=i.processSettings(s),i.copySettings(s))})).fail((function(e,t,s){i.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){l.inTransit=!1}))}},submitAssessment:function(){var e=this,t="header.confirm_assess_submit";if("by_assessment"===l.assessInfo.submitby){var s=0,n=this.getChangedQuestions();for(var i in l.assessInfo.questions)(l.assessInfo.questions[i].try>0||l.assessInfo.questions[i].hasOwnProperty("parts_entered")&&l.assessInfo.questions[i].hasOwnProperty("answeights")&&l.assessInfo.questions[i].parts_entered.length>=l.assessInfo.questions[i].answeights.length||n.hasOwnProperty(i))&&s++;var a=l.assessInfo.questions.length;s!==a&&(t="header.confirm_assess_unattempted_submit"),l.confirmObj={body:t,action:function(){for(var t=[],s=0;s<l.assessInfo.questions.length;s++)t.push(s);e.submitQuestion(t,!0)}}}},submitWork:function(){var e=this;if(l.inTransit)window.setTimeout((function(){return e.submitWork()}),20);else{"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave(),l.inTransit=!0;var t={};for(var s in window.$(".swbox").each((function(){var e=parseInt(this.id.substr(2));l.assessInfo.questions[e].hasOwnProperty("work")&&this.value===l.assessInfo.questions[e].work||(l.work[e]=this.value)})),l.work)t[s]=l.work[s];if(0===Object.keys(t).length)return l.inTransit=!1,void(l.inAssess?r.c.push("/summary"):"yes"===l.assessInfo.available?r.c.push("/"):window.location=window.exiturl);window.$.ajax({url:l.APIbase+"savework.php"+l.queryString,type:"POST",dataType:"json",data:{work:t},xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){if(t.hasOwnProperty("error"))return e.handleError(t.error),void("already_submitted"===t.error&&(t=e.processSettings(t),e.copySettings(t)));for(var s in l.errorMsg=null,l.work)l.assessInfo.questions[parseInt(s)].work=l.work[s],delete l.work[s];l.inAssess?r.c.push("/summary"):"yes"===l.assessInfo.available?r.c.push("/"):window.location=window.exiturl})).fail((function(t,s,n){e.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){l.inTransit=!1}))}},submitQuestion:function(e,t){var s=this;if(l.somethingDirty=!1,this.clearAutosaveTimer(),l.inTransit)window.setTimeout((function(){return s.submitQuestion(e,t)}),20);else{for(var i in l.inTransit=!0,"object"!==(0,n.c)(e)&&(e=[e]),window.callbackstack)i=parseInt(i),e.indexOf(i<1e3?i:Math.floor(i/1e3)-1)>-1&&window.callbackstack[i](i);"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave();for(var o=[],u=this.getChangedQuestions(e),p=!1,d=0;d<e.length;d++){var h=parseInt(e[d]);if(document.getElementById("sw"+h)&&(l.work[h]=document.getElementById("sw"+h).value),l.work[h]&&l.work[h]!==c.getInitValue(h,"sw"+h)){p=!0;break}}if(0===Object.keys(u).length&&!p&&!t)return l.errorMsg="nochange",void(l.inTransit=!1);window.MQeditor.resetEditor(),window.imathasAssess.clearTips(),window.setTimeout((function(){return s.clearAutosave(e)}),100);var f,m=new FormData,g=[];for(var w in u){if("full"!==l.assessInfo.displaymethod){if(l.timeActivated.hasOwnProperty(w)){var v=new Date;l.timeActive[w]+=v-l.timeActivated[w]}g.push(l.timeActive[w])}1===u[w].length&&0===u[w][0]&&(f=window.imathasAssess.preSubmit(w),!1!==f&&m.append("qn"+w+"-val",f));for(var y=void 0,b=0;b<u[w].length;b++)y=1e3*(parseInt(w)+1)+u[w][b],f=window.imathasAssess.preSubmit(y),!1!==f&&m.append("qn"+y+"-val",f)}for(var _=0;_<e.length;_++){var q=parseInt(e[_]),A=new RegExp("^(qn|tc|qs)("+q+"\\b|"+(q+1)+"\\d{3})");window.$("#questionwrap"+q).find("input,select,textarea").each((function(e,t){t.name.match(A)&&("radio"!==t.type&&"checkbox"!==t.type||t.checked)&&("file"===t.type&&t.files.length>0?m.append(t.name,t.files[0]):"file"===t.type?document.getElementById(t.name+"-autosave")&&m.append(t.name,"file-autosave"):m.append(t.name,window.imathasAssess.preSubmitString(t.name,t.value)))})),l.work[q]&&l.work[q]!==c.getInitValue(q,"sw"+q)&&m.append("sw"+q,l.work[q]),o[_]=l.lastLoaded[q].getTime()}m.append("toscoreqn",JSON.stringify(u)),m.append("timeactive",g.join(",")),m.append("lastloaded",o.join(",")),m.append("verification",JSON.stringify(this.getVerificationData(u))),t&&m.append("endattempt",t),l.assessInfo.in_practice&&m.append("practice",!0),l.assessInfo.preview_all&&m.append("preview_all",!0),this.addAutosaveData(m,Object.keys(u));var k=1===e.length&&l.assessInfo.questions[e[0]].jsparams&&l.assessInfo.questions[e[0]].jsparams.hasseqnext;window.$.ajax({url:l.APIbase+"scorequestion.php"+l.queryString,type:"POST",dataType:"json",data:m,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(n){if(n.hasOwnProperty("error"))return s.handleError(n.error),void("already_submitted"===n.error&&(n=s.processSettings(n),s.copySettings(n)));for(var i in l.errorMsg=null,n.saved_autosaves&&s.markAutosavesDone(),delete n.saved_autosaves,u)l.assessInfo.hasOwnProperty("scoreerrors")&&l.assessInfo.scoreerrors.hasOwnProperty(i)&&delete l.assessInfo.scoreerrors[i],l.initValues.hasOwnProperty(i)&&delete l.initValues[i],l.work.hasOwnProperty(i)&&delete l.work[i];n=s.processSettings(n),s.copySettings(n),!l.assessInfo.in_practice&&window.inTreeReader&&s.updateTreeReader();for(var o=!1,c=0;c<l.assessInfo.questions.length;c++)if(2&l.assessInfo.questions[c].showwork){o=!0;break}t?(l.inProgress=!1,o&&!l.assessInfo.in_practice?r.c.push("/showwork"):r.c.push("/summary")):1===e.length&&(l.assessInfo.questions[e[0]].hadSeqNext=k,(0,a.o$)((function(){var t;k?(t=window.$("#questionwrap"+e[0]).find(".seqsep").last().next()[0],window.$("#questionwrap"+e[0]).find(".seqsep").last().focus()):(t=document.getElementById("questionwrap"+e[0]).parentNode.parentNode,window.$(t).find(".scoreresult").focus());var s=t.getBoundingClientRect();(s.top<0||s.bottom>document.documentElement.clientHeight)&&t.scrollIntoView()})))})).fail((function(e,t,n){s.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){l.inTransit=!1}))}},gotoSummary:function(){for(var e=!1,t=0;t<l.assessInfo.questions.length;t++)if(2&l.assessInfo.questions[t].showwork){e=!0,l.assessInfo.showwork_after=!0;break}"by_question"===l.assessInfo.submitby&&(e&&!l.assessInfo.in_practice?r.c.push("/showwork"):r.c.push("/summary"))},doAutosave:function(e,t,s){var n=this;l.inTransit?window.setTimeout((function(){return n.doAutosave(e,t,s)}),20):(l.somethingDirty=!1,l.autosaveQueue.hasOwnProperty(e)||(l.autosaveQueue[e]=[]),-1===l.autosaveQueue[e].indexOf(t)&&l.autosaveQueue[e].push(t),l.autosaveTimeactive[e]=s,null===l.autosaveTimer&&(l.autosaveTimer=window.setTimeout((function(){n.submitAutosave(!0)}),6e4)))},clearAutosave:function(e){for(var t in e)l.autosaveQueue.hasOwnProperty(e[t])&&delete l.autosaveQueue[e[t]];0===Object.keys(l.autosaveQueue).length&&this.clearAutosaveTimer()},clearAutosaveTimer:function(){window.clearTimeout(l.autosaveTimer),l.autosaveTimer=null},addAutosaveData:function(e,t){t=t||[];var s,n={},i={};for(var a in l.autosaveQueue)if(-1===t.indexOf(a)){i[a]=l.autosaveQueue[a],1===l.autosaveQueue[a].length&&0===l.autosaveQueue[a][0]&&(s=window.imathasAssess.preSubmit(a),!1!==s&&e.append("qn"+a+"-val",s));var r=[],o=void 0;for(var u in l.autosaveQueue[a]){var c=l.autosaveQueue[a][u];"sw"!==c?(0===c&&r.push(a),o=1e3*(1*a+1)+1*c,r.push(o),s=window.imathasAssess.preSubmit(o),!1!==s&&e.append("qn"+o+"-val",s)):e.append("sw"+a,l.work[a])}var p=new RegExp("^(qn|tc|qs)("+r.join("\\b|")+"\\b)");window.$("#questionwrap"+a).find("input,select,textarea").each((function(t,s){s.name.match(p)&&("radio"!==s.type&&"checkbox"!==s.type||s.checked)&&("file"===s.type?0===s.files.length?e.append(s.name,""):e.append(s.name,s.files[0]):e.append(s.name,window.imathasAssess.preSubmitString(s.name,s.value)))})),n[a]=l.lastLoaded[a].getTime()}e.append("autosave-tosaveqn",JSON.stringify(i)),e.append("autosave-lastloaded",JSON.stringify(n)),e.append("autosave-verification",JSON.stringify(this.getVerificationData(i))),"full"===l.assessInfo.displaymethod?e.append("autosave-timeactive",""):e.append("autosave-timeactive",JSON.stringify(l.autosaveTimeactive))},markAutosavesDone:function(){for(var e in l.autosaveQueue)for(var t in l.autosaveQueue[e])l.assessInfo.questions[parseInt(e)].hasOwnProperty("parts_entered")&&-1===l.assessInfo.questions[parseInt(e)].parts_entered.indexOf(l.autosaveQueue[e][t])&&l.assessInfo.questions[parseInt(e)].parts_entered.push(l.autosaveQueue[e][t]);l.autosaveQueue={}},submitAutosave:function(e){var t=this;if(l.somethingDirty=!1,this.clearAutosaveTimer(),0!==Object.keys(l.autosaveQueue).length)if(l.inTransit)window.setTimeout((function(){return t.submitAutosave(e)}),20);else{l.inTransit=!0,l.autoSaving=!0,"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave();var s=new FormData;if(this.addAutosaveData(s),l.assessInfo.in_practice&&s.append("practice",!0),l.assessInfo.preview_all&&s.append("preview_all",!0),!1===e&&navigator.sendBeacon)return navigator.sendBeacon(l.APIbase+"autosave.php"+l.queryString,s),l.inTransit=!1,l.autoSaving=!1,void(l.autosaveQueue={});window.$.ajax({url:l.APIbase+"autosave.php"+l.queryString,type:"POST",dataType:"json",data:s,async:e,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(e){if(e.hasOwnProperty("error"))return t.handleError(e.error),void("already_submitted"===e.error&&(e=t.processSettings(e),t.copySettings(e)));"done"===e.autosave&&(t.markAutosavesDone(),delete e.autosave),e=t.processSettings(e),t.copySettings(e)})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){l.inTransit=!1,l.autoSaving=!1}))}},handleTimelimitUp:function(){var e=this;l.assessInfo.has_active_attempt&&(l.errorMsg="timesup_submitting","undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave(),setTimeout((function(){var t=Object.keys(e.getChangedQuestions());e.submitQuestion(t,!0)}),1e3))},handleDueDate:function(){c.submitAutosave(),l.show_enddate_dialog=!0},endAssess:function(e){var t=this;l.somethingDirty=!1,this.clearAutosaveTimer(),window.MQeditor.resetEditor(),window.imathasAssess.clearTips(),l.inTransit?window.setTimeout((function(){return t.endAssess(e)}),20):(l.inTransit=!0,l.errorMsg=null,window.$.ajax({url:l.APIbase+"endassess.php"+l.queryString,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){s.hasOwnProperty("error")?t.handleError(s.error):(s=t.processSettings(s),t.copySettings(s),l.inProgress=!1,"function"===typeof e&&e())})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){l.inTransit=!1})))},getScores:function(){var e=this;l.inTransit?window.setTimeout((function(){return e.getScores()}),20):(l.inTransit=!0,window.$.ajax({url:l.APIbase+"getscores.php"+l.queryString,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?e.handleError(t.error):(t=e.processSettings(t),e.copySettings(t))})).fail((function(t,s,n){e.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){l.inTransit=!1})))},getQuestions:function(){var e=this;l.inTransit?window.setTimeout((function(){return e.getQuestions()}),20):(l.inTransit=!0,window.$.ajax({url:l.APIbase+"getquestions.php"+l.queryString,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?e.handleError(t.error):(t=e.processSettings(t),e.copySettings(t))})).fail((function(t,s,n){e.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){l.inTransit=!1})))},redeemLatePass:function(e){var t=this;l.inTransit?window.setTimeout((function(){return t.redeemLatePass(e)}),20):(l.inTransit=!0,window.$.ajax({url:l.APIbase+"uselatepass.php"+l.queryString,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){s.hasOwnProperty("error")?t.handleError(s.error):(s=t.processSettings(s),t.copySettings(s),"function"===typeof e?e():r.c.push("/"))})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){l.inTransit=!1})))},routeToStart:function(){r.c.push("/")},setLivepollStatus:function(e){var t=this;l.inTransit?window.setTimeout((function(){return t.setLivepollStatus(e)}),20):(l.inTransit=!0,l.errorMsg=null,window.$.ajax({url:l.APIbase+"livepollstatus.php"+l.queryString,type:"POST",dataType:"json",data:e,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(e){e.hasOwnProperty("error")?t.handleError(e.error):(e=t.processSettings(e),t.copySettings(e))})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){l.inTransit=!1})))},getVerificationData:function(e){var t={},s="by_question"===l.assessInfo.submitby,n=l.assessInfo.prev_attempts.length;for(var i in e){for(var a=[],r=l.assessInfo.questions[i],o=0;o<r.parts.length;o++)a[o]=r.parts[o].try;t[i]={tries:a,regen:s?r.regen:n}}return t},setInitValue:function(e,t,s){l.initValues.hasOwnProperty(e)||(l.initValues[e]={});var n=0;if(t.match(/^sw/))n="sw";else{var i=t.match(/^(qs|qn|tc)(\d+)/),a=i[2];a>1e3&&(n=a%1e3),"draw"===l.assessInfo.questions[e].jsparams[a].qtype&&""===s&&(s=";;;;;;;;")}l.assessInfo.questions[e].hasOwnProperty("usedautosave")&&-1!==l.assessInfo.questions[e].usedautosave.indexOf(n)||l.initValues[e].hasOwnProperty(t)||(l.initValues[e][t]=s)},getInitValue:function(e,t){return l.initValues.hasOwnProperty(e)&&l.initValues[e].hasOwnProperty(t)?l.initValues[e][t]:""},clearInitValue:function(e){l.initValues[e]={}},getInitTimeactive:function(e){if(l.assessInfo.questions[e].hasOwnProperty("autosave_timeactive")){var t=l.assessInfo.questions[e].autosave_timeactive;return l.assessInfo.questions[e].autosave_timeactive=0,t}return 0},setRendered:function(e,t){l.assessInfo&&(l.assessInfo.questions[e].rendered=t)},getChangedQuestions:function(e){if("object"!==(0,n.c)(e)){if(!l.assessInfo.hasOwnProperty("questions"))return{};e=[];for(var t=0;t<l.assessInfo.questions.length;t++)e.push(t)}for(var s,i,a={},r=function(){var t=e[o];if(l.assessInfo.questions[t].showwork&&l.work.hasOwnProperty(t)&&l.work[t]!==c.getInitValue(t,"sw"+t)&&(a.hasOwnProperty(t)||(a[t]=[])),i=new RegExp("^(qn|tc|qs)("+t+"\\b|"+(1*t+1)+"\\d{3})"),window.$("#questionwrap"+t).find("input,select,textarea").each((function(e,n){if(null!==(s=n.name.match(i))){var r=!1;if("radio"===n.type||"checkbox"===n.type?n.checked&&n.value!==c.getInitValue(t,n.name)?r=!0:n.checked||n.value!==c.getInitValue(t,n.name)||(r=!0):("file"===n.type&&null!==document.getElementById(n.name+"-autosave")||n.value.trim()!==c.getInitValue(t,n.name)&&""!==n.value.trim())&&(r=!0),r){a.hasOwnProperty(t)||(a[t]=[]);var o=0,u=parseInt(s[2]);u>1e3&&(o=u%1e3),-1===a[t].indexOf(o)&&a[t].push(o)}}})),l.assessInfo.questions[t].hasOwnProperty("jsparams")){var n=l.assessInfo.questions[t].jsparams;for(var r in n)if(n.submitall||r.match(/\d/)&&n[r].hasOwnProperty("submitblank")){var u=0;r>1e3&&(u=r%1e3),a.hasOwnProperty(t)||(a[t]=[]),-1===a[t].indexOf(u)&&a[t].push(u)}}},o=0;o<e.length;o++)r();return a},handleError:function(e){l.assessInfo.hasOwnProperty("is_lti")&&l.assessInfo.is_lti&&"no_session"===e&&(e="lti_no_session"),l.errorMsg=e},updateTreeReader:function(){var e=0;for(var t in l.assessInfo.questions)l.assessInfo.questions[t].try>0&&e++;var s=0;e===l.assessInfo.questions.length?s=2:e>0&&(s=1);try{top.updateTRunans(l.aid,s)}catch(n){}},enableMQ:function(){l.enableMQ=!0,window.imathasAssess.clearLivePreviewTimeouts(),window.$("input[type=button][id^=pbtn],button[id^=pbtn]").hide(),window.$("span[id^=p] span[id^=lpbuf]").empty(),window.MQeditor.toggleMQAll("input[data-mq]",!0)},disableMQ:function(){l.enableMQ=!1,window.$("input[type=button][id^=pbtn],button[id^=pbtn]").show().trigger("click"),window.MQeditor.toggleMQAll("input[data-mq]",!1)},copySettings:function(e){if(e.hasOwnProperty("questions")){for(var t in l.assessInfo.hasOwnProperty("questions")||(l.assessInfo.questions=[]),e.questions){var s=parseInt(t);null===e.questions[t].category&&l.assessInfo.questions.hasOwnProperty(s)&&l.assessInfo.questions[s].hasOwnProperty("category")&&(e.questions[t].category=l.assessInfo.questions[s].category),l.assessInfo.questions[s]=e.questions[t]}delete e.questions}l.assessInfo=Object.assign({},l.assessInfo,e)},processSettings:function(e){var t=this;if(e.hasOwnProperty("questions"))for(var s in e.questions){var n=e.questions[s];if(e.questions[s].canretry=n.try<n.tries_max,e.questions[s].canretry_primary=e.questions[s].canretry,e.questions[s].tries_remaining=n.tries_max-n.try,n.hasOwnProperty("parts")){var i=1e10,a=0,r=!1;for(var c in n.parts){var p=n.tries_max-n.parts[c].try,d=n.hasOwnProperty("answeights")&&0===parseFloat(n.answeights[c])||n.parts[c].hasOwnProperty("points_possible")&&0===parseFloat(n.parts[c].points_possible);p<i&&!d&&(i=p),p>a&&!d&&(a=p),p>0&&(!n.parts[c].hasOwnProperty("rawscore")||n.parts[c].rawscore<1||n.parts[c].req_manual)&&(r=!0)}e.questions[s].canretry_primary=r,i!==a&&(e.questions[s].tries_remaining_range=[i,a])}"undefined"!==n.hasOwnProperty("regens_max")&&n.regen<n.regens_max-1?(e.questions[s].canregen=!0,e.questions[s].regens_remaining=n.regens_max-n.regen-1):(e.questions[s].canregen=!1,e.questions[s].regens_remaining=0),e.questions[s].has_details=n.hasOwnProperty("parts")&&(n.parts.length>1||n.parts[0].hasOwnProperty("penalties")&&n.parts[0].penalties.length>0),0!==e.questions[s].withdrawn&&(e.questions[s].canretry=!1,e.questions[s].tries_remaining=0,e.questions[s].canregen=!1,e.questions[s].regens_remaining=0),l.lastLoaded[s]=new Date}if(e.hasOwnProperty("showscores")&&(e.show_scores_during="during"===e.showscores),e.hasOwnProperty("regen")&&(e.regens_remaining=e.regens_max-e.regen-1),e.hasOwnProperty("enableMQ")&&(l.enableMQ=e.enableMQ),e.hasOwnProperty("enddate_in")&&e.enddate_in>0&&null===l.timelimit_timer&&e.enddate_in<1728e3){window.clearTimeout(l.enddate_timer);var h=(new Date).getTime(),f=1e3*e.enddate_in;e.enddate_local=h+f,l.enddate_timer=setTimeout((function(){t.handleDueDate()}),f)}if(e.hasOwnProperty("timelimit_expiresin")){window.clearTimeout(l.timelimit_timer),window.clearTimeout(l.enddate_timer);var m=(new Date).getTime();e.hasOwnProperty("timelimit_expires")&&(e.timelimit_expires===e.enddate?l.timelimit_restricted=1:e.timelimit_grace===e.enddate&&(l.timelimit_restricted=2));var g=1e3*e.timelimit_expiresin,w=1e3*e.timelimit_gracein;e.timelimit_local_expires=m+g,e.timelimit_local_grace=w>0?m+w:0,g>0?(e.timelimit_gracein>0?l.timelimit_timer=setTimeout((function(){t.handleTimelimitUp()}),w):l.timelimit_timer=setTimeout((function(){t.handleTimelimitUp()}),g),l.timelimit_expired=!1,l.timelimit_grace_expired=!1):(l.timelimit_expired=!0,l.timelimit_grace_expired=!0,e.timelimit_gracein>0&&w>0&&(l.timelimit_timer=setTimeout((function(){t.handleTimelimitUp()}),w),l.timelimit_grace_expired=!1))}else e.timelimit>0&&(e.enddate_in<e.timelimit?l.timelimit_restricted=1:e.enddate_in<e.timelimit+e.overtime_grace?l.timelimit_restricted=2:l.timelimit_restricted=0);if(e.hasOwnProperty("questions")&&e.hasOwnProperty("interquestion_text")&&o(e,e.questions),e.hasOwnProperty("interquestion_text")&&u(e,e.questions),e.hasOwnProperty("noprint")&&1===e.noprint){var v=document.createElement("style");v.type="text/css",v.media="print",v.innerText="body { display: none;}",document.head.appendChild(v)}if(e.hasOwnProperty("livepoll_server")&&""===l.livepollServer){var y=document.createElement("script");y.src="https://"+e.livepoll_server+":3000/socket.io/socket.io.js",document.head.appendChild(y),l.livepollServer=e.livepoll_server}return e.hasOwnProperty("useMQ")&&(!0!==e.useMQ||l.enableMQ?!1===e.useMQ&&l.enableMQ&&this.disableMQ():this.enableMQ()),e}}},5980:function(e,t,s){s(9120),s(9628),s(8235),s(9768);var n=s(5328),i=s(6760),a=s(6372),r={id:"app",role:"main"},o={key:0};function u(e,t,s,n,u,l){var c=(0,i.E1)("router-view"),p=(0,i.E1)("error-dialog"),d=(0,i.E1)("due-dialog"),h=(0,i.E1)("confirm-dialog");return(0,i.Wz)(),(0,i.An)("div",r,[l.assessInfoLoaded?(0,i.g1)("",!0):((0,i.Wz)(),(0,i.An)("div",o,(0,a.WA)(e.$t("loading")),1)),l.assessInfoLoaded?((0,i.Wz)(),(0,i.Az)(c,{key:1})):(0,i.g1)("",!0),l.hasError?((0,i.Wz)(),(0,i.Az)(p,{key:2,errormsg:l.errorMsg,lastpos:l.lastPos,onClearerror:l.clearError},null,8,["errormsg","lastpos","onClearerror"])):(0,i.g1)("",!0),l.showDueDialog?((0,i.Wz)(),(0,i.Az)(d,{key:3})):(0,i.g1)("",!0),null!==l.confirmObj?((0,i.Wz)(),(0,i.Az)(h,{key:4,data:l.confirmObj,lastpos:l.lastPos,onClose:l.closeConfirm},null,8,["data","lastpos","onClose"])):(0,i.g1)("",!0)])}s(1408),s(1040);var l=s(7296),c=s(5424),p={class:"fullwrap",ref:"wrap"},d={class:"dialog-overlay",tabindex:"-1"},h={class:"pane-header flexrow",id:"duedialog_hdr"},f={style:{"flex-grow":"1"}},m={class:"pane-body",id:"duedialog_body"},g={key:0},w=(0,i.QD)("br",null,null,-1),v=(0,i.QD)("br",null,null,-1),y={key:1},b=(0,i.QD)("br",null,null,-1);function _(e,t,s,r,o,u){var l=(0,i.E1)("icons");return(0,i.Wz)(),(0,i.An)("div",p,[(0,i.QD)("div",d,[(0,i.QD)("div",{class:"dialog",ref:"dialog",role:"alertdialog","aria-modal":"true","aria-labelledby":"duedialog_hdr","aria-describedby":"duedialog_body",tabindex:"-1",onClick:t[3]||(t[3]=(0,n.Y7)((function(){}),["stop"]))},[(0,i.QD)("div",h,[(0,i.QD)("div",f,[(0,i.K2)(l,{name:"alert"}),(0,i.mY)(" "+(0,a.WA)(e.$t("duedialog.due")),1)])]),(0,i.QD)("div",m,[(0,i.QD)("p",null,(0,a.WA)(e.$t("duedialog.nowdue")),1),u.settings.can_use_latepass>0?((0,i.Wz)(),(0,i.An)("p",g,[(0,i.mY)((0,a.WA)(e.$tc("closed.latepassn",u.settings.latepasses_avail))+" ",1),w,(0,i.mY)(" "+(0,a.WA)(u.latepassExtendMsg)+" ",1),v,(0,i.QD)("button",{onClick:t[0]||(t[0]=function(){return u.useLatepass&&u.useLatepass.apply(u,arguments)}),class:"primary"},(0,a.WA)(e.$tc("closed.use_latepass",this.settings.can_use_latepass)),1)])):(0,i.g1)("",!0),u.hasUnsubmitted?((0,i.Wz)(),(0,i.An)("p",y,[(0,i.mY)((0,a.WA)(u.unsubmittedMessage)+" ",1),b,(0,i.QD)("button",{onClick:t[1]||(t[1]=function(){return u.submitNow&&u.submitNow.apply(u,arguments)}),class:"primary"},(0,a.WA)(e.$t("duedialog.submitnow")),1)])):(0,i.g1)("",!0),(0,i.QD)("p",null,[(0,i.QD)("button",{class:(0,a.WN)({primary:u.exitPrimary,secondary:!u.exitPrimary}),onClick:t[2]||(t[2]=function(){return u.exit&&u.exit.apply(u,arguments)})},(0,a.WA)(e.$t("closed.exit")),3)])])],512)])],512)}var q=s(5860),A=s(2408),k=s.n(A),I={name:"DueDialog",data:function(){return{dialog:null}},components:{Icons:q.c},computed:{settings:function(){return l.i.assessInfo},latepassExtendMsg:function(){return this.$tc("closed.latepass_needed",this.settings.can_use_latepass,{n:this.settings.can_use_latepass,date:this.settings.latepass_extendto_disp})},hasUnsubmitted:function(){return"by_assessment"===this.settings.submitby||Object.keys(l.a.getChangedQuestions()).length>0},unsubmittedMessage:function(){return"by_question"===this.settings.submitby?this.$t("duedialog.byq_unsubmitted"):this.$t("duedialog.bya_unsubmitted")},exitPrimary:function(){return!this.hasUnsubmitted&&!this.canUseLatePass}},methods:{closeDialog:function(){l.i.show_enddate_dialog=!1},submitNow:function(){var e=this;l.a.endAssess((function(){e.exit()}))},useLatepass:function(){l.a.redeemLatePass((function(){l.i.show_enddate_dialog=!1}))},exit:function(){this.closeDialog(),window.exiturl&&""!==window.exiturl?(l.i.noUnload=!0,window.location=window.exiturl):l.a.routeToStart()}},mounted:function(){var e=this,t=l.i.lastPos;window.$(document).on("keyup.dialog",(function(t){"Escape"===t.key&&e.closeDialog()})),this.dialog=new(k())(this.$refs.wrap),this.dialog.show(),window.innerHeight>2e3&&null!==t&&(this.$refs.dialog.style.top=Math.max(20,t-this.$refs.dialog.offsetHeight)+"px")},beforeUnmount:function(){window.$(document).off("keyup.dialog"),this.dialog.destroy()}},W=s(8152);const x=(0,W.c)(I,[["render",_]]);var D=x,Q=s(6248),$={components:{ErrorDialog:c.c,DueDialog:D,ConfirmDialog:Q.c},data:function(){return{prewarned:!1}},computed:{assessInfoLoaded:function(){return null!==l.i.assessInfo},hasError:function(){return null!==l.i.errorMsg},errorMsg:function(){return l.i.errorMsg},confirmObj:function(){return l.i.confirmObj},assessName:function(){return l.i.assessInfo.name},showDueDialog:function(){return l.i.show_enddate_dialog},lastPos:function(){return l.i.lastPos}},methods:{beforeUnload:function(e){Object.keys(l.i.autosaveQueue).length>0&&l.a.submitAutosave(!1);var t=!0;if(l.i.assessInfo.hasOwnProperty("questions")){var s=0,n=l.i.assessInfo.questions.length;for(var i in l.i.assessInfo.questions)l.i.assessInfo.questions[i].try>0&&s++;s===n&&(t=!1)}if(l.i.noUnload);else{if(!l.i.inProgress&&Object.keys(l.i.work).length>0&&!this.prewarned)return e.preventDefault(),this.prewarned=!1,this.$t("unload.unsubmitted_work");if(l.i.inProgress){if(Object.keys(l.a.getChangedQuestions()).length>0&&!this.prewarned)return e.preventDefault(),this.prewarned=!1,this.$t("unload.unsubmitted_questions");if("by_assessment"===l.i.assessInfo.submitby&&l.i.assessInfo.has_active_attempt&&!this.prewarned)return e.preventDefault(),t?this.$t("unload.unsubmitted_assessment"):this.$t("unload.unsubmitted_done_assessment")}else;}this.prewarned=!1},clearError:function(){l.i.errorMsg=null},closeConfirm:function(){l.i.confirmObj=null}},created:function(){window.$(document).on("click",(function(e){l.i.lastPos=e.pageY})),window.$(document).on("focusin",(function(e){e.target&&e.target.getBoundingClientRect&&(l.i.lastPos=e.target.getBoundingClientRect().top)})),window.$(window).on("beforeunload",this.beforeUnload);var e=this;window.$("a").not('#app a, a[href="#"]').on("click",(function(t){return"by_assessment"===l.i.assessInfo.submitby&&l.i.assessInfo.has_active_attempt?(t.preventDefault(),l.i.confirmObj={body:"unload.unsubmitted_assessment",action:function(){e.prewarned=!0,window.location=t.currentTarget.href}},!1):!l.i.inProgress&&Object.keys(l.i.work).length>0?(t.preventDefault(),l.i.confirmObj={body:"unload.unsubmitted_work",action:function(){e.prewarned=!0,window.location=t.currentTarget.href}},!1):void 0}))}};const z=(0,W.c)($,[["render",u]]);var P=z,O=s(9124),T=s(227);s.p=window.imasroot+"/assess2/vue/",(0,n.W0)(P).use(O.c).use(T._).mount("#app")},2627:function(e,t,s){s.d(t,{K:function(){return i}});var n=s(7296),i={computed:{qsAttempted:function(){var e=[];for(var t in n.i.assessInfo.questions)e[t]=0,"by_assessment"===n.i.assessInfo.submitby&&1===n.i.assessInfo.questions[t].tries_max&&n.i.assessInfo.questions[t].hasOwnProperty("parts_entered")&&n.i.assessInfo.questions[t].hasOwnProperty("answeights")?n.i.assessInfo.questions[t].parts_entered.length>=n.i.assessInfo.questions[t].answeights.length?e[t]=1:n.i.assessInfo.questions[t].parts_entered.length>0&&(e[t]=.5):n.i.assessInfo.questions[t].try>0&&(e[t]=1);return e}}}},9124:function(e,t,s){s.d(t,{c:function(){return di}});s(9640),s(2644),s(8928),s(2888),s(4004),s(8824),s(9708);var n=s(6760),i=s(5216),a=s(7296),r=(s(3248),s(1408),s(6372)),o={class:"home flexpanes"},u={style:{"flex-grow":"1"}},l=["innerHTML"],c={class:"settings-list"},p={key:0,class:"flexrow"},d={key:1,class:"flexrow"},h={key:0,class:"noticetext"},f={key:1,class:"noticetext"},m=(0,n.QD)("br",null,null,-1),g={key:0},w={key:1},v={key:2,class:"noticetext"},y={key:3},b=(0,n.QD)("br",null,null,-1),_={key:4},q=(0,n.QD)("br",null,null,-1),A={key:5},k=["href"],I=["href"],W={key:6,class:"noticetext"},x={key:0};function D(e,t,s,i,a,D){var Q=(0,n.E1)("settings-list"),$=(0,n.E1)("icons"),z=(0,n.E1)("password-entry"),P=(0,n.E1)("group-entry"),O=(0,n.E1)("summary-gb-score"),T=(0,n.E1)("previous-attempts");return(0,n.Wz)(),(0,n.An)("div",o,[(0,n.QD)("div",u,[(0,n.QD)("h1",null,(0,r.WA)(D.aInfo.name),1),(0,n.QD)("div",{class:"med-below",innerHTML:D.aInfo.summary,ref:"summary"},null,8,l),(0,n.K2)(Q),(0,n.QD)("div",c,[D.aInfo.has_password?((0,n.Wz)(),(0,n.An)("div",p,[(0,n.QD)("div",null,[(0,n.K2)($,{name:"lock",size:"small"})]),(0,n.K2)(z,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.password=t}),onOnenter:D.startAssess},null,8,["modelValue","onOnenter"])])):(0,n.g1)("",!0),D.aInfo.isgroup>0?((0,n.Wz)(),(0,n.An)("div",d,[(0,n.QD)("div",null,[(0,n.K2)($,{name:"group",size:"small"})]),(0,n.K2)(P,{onUpdateNewGroup:D.updateNewGroup},null,8,["onUpdateNewGroup"])])):(0,n.g1)("",!0)]),null!==D.errorMsg?((0,n.Wz)(),(0,n.An)("p",h,(0,r.WA)(D.errorMsg),1)):(0,n.g1)("",!0),""!==D.timeLimitExpired?((0,n.Wz)(),(0,n.An)("p",f,[(0,n.K2)($,{name:"alert"}),(0,n.mY)(" "+(0,r.WA)(D.timeLimitExpired)+" ",1),m,""!==D.timeLimitExt?((0,n.Wz)(),(0,n.An)("span",g,[(0,n.K2)($,{name:"alert"}),(0,n.mY)(" "+(0,r.WA)(D.timeLimitExt),1)])):((0,n.Wz)(),(0,n.An)("span",w,[(0,n.QD)("button",{type:"button",class:"primary",onClick:t[1]||(t[1]=function(){return D.endAssess&&D.endAssess.apply(D,arguments)})},(0,r.WA)(e.$t("closed.submit_now")),1)]))])):""!==D.timeLimitExt?((0,n.Wz)(),(0,n.An)("p",v,[(0,n.K2)($,{name:"alert"}),(0,n.mY)(" "+(0,r.WA)(D.timeLimitExt),1)])):(0,n.g1)("",!0),D.canAddWork?((0,n.Wz)(),(0,n.An)("p",y,[(0,n.mY)((0,r.WA)(e.$t("work.add_prev")),1),b,(0,n.QD)("button",{type:"button",class:"secondary",onClick:t[2]||(t[2]=function(t){return e.$router.push("/showwork")})},(0,r.WA)(e.$t("work.add")),1)])):(0,n.g1)("",!0),D.showReset?((0,n.Wz)(),(0,n.An)("p",_,[(0,n.mY)((0,r.WA)(e.$t("launch.resetmsg"))+" ",1),q,(0,n.QD)("button",{type:"button",class:"secondary",onClick:t[3]||(t[3]=function(){return D.doReset&&D.doReset.apply(D,arguments)})},(0,r.WA)(e.$t("launch.doreset")),1)])):(0,n.g1)("",!0),D.showTutorLinks?((0,n.Wz)(),(0,n.An)("p",A,[(0,n.mY)((0,r.WA)(e.$t("launch.gblinks"))+": ",1),(0,n.QD)("a",{href:D.aInfo.tutor_gblinks[0],target:"_blank"},(0,r.WA)(e.$t("launch.scorelist")),9,k),(0,n.mY)(" Â  "),(0,n.QD)("a",{href:D.aInfo.tutor_gblinks[1],target:"_blank"},(0,r.WA)(e.$t("launch.itemanalysis")),9,I)])):(0,n.g1)("",!0),D.aInfo.view_as_stu?((0,n.Wz)(),(0,n.An)("p",W,(0,r.WA)(e.$t("launch.view_as_stu",{name:D.aInfo.stu_fullname})),1)):(0,n.g1)("",!0),(0,n.QD)("p",null,[D.okToLaunch?((0,n.Wz)(),(0,n.An)("button",{key:0,type:"button",class:"primary",onClick:t[4]||(t[4]=function(){return D.startAssess&&D.startAssess.apply(D,arguments)})},(0,r.WA)(D.startLabel),1)):(0,n.g1)("",!0),(0,n.QD)("input",{type:"submit",style:{display:"none"},onClick:t[5]||(t[5]=function(){return D.startAssess&&D.startAssess.apply(D,arguments)}),value:"Submit"}),D.showPreviewAll?((0,n.Wz)(),(0,n.An)("button",{key:1,class:"secondary",onClick:t[6]||(t[6]=function(){return D.teacherPreviewAll&&D.teacherPreviewAll.apply(D,arguments)})},(0,r.WA)(e.$t("closed.teacher_previewall_button")),1)):(0,n.g1)("",!0),D.hasExit?((0,n.Wz)(),(0,n.An)("button",{key:2,type:"button",class:"secondary",onClick:t[7]||(t[7]=function(){return D.exitAssess&&D.exitAssess.apply(D,arguments)})},(0,r.WA)(e.$t("closed.exit")),1)):(0,n.g1)("",!0)])]),D.aInfo.hasOwnProperty("prev_attempts")&&D.aInfo.prev_attempts.length>0?((0,n.Wz)(),(0,n.An)("div",x,[(0,n.K2)(O),(0,n.K2)(T,{caption:e.$t("prev.previous_attempts")},null,8,["caption"])])):(0,n.g1)("",!0)])}s(9268);var Q={class:"settings-list"},$={key:0,class:"noticetext"},z={key:1,class:"small subdued"},P={key:2,class:"small subdued"},O={key:3,class:"small subdued"};function T(e,t,s,i,a,o){var u=(0,n.E1)("icons");return(0,n.Wz)(),(0,n.An)("div",Q,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.settingRows,(function(e,s){return(0,n.Wz)(),(0,n.An)("div",{class:"flexrow",key:s},[(0,n.QD)("div",null,[(0,n.K2)(u,{name:e.icon,size:"small"},null,8,["name"])]),(0,n.QD)("div",null,[(0,n.QD)("div",{class:(0,r.WN)({strikethrough:!!e.altstr})},(0,r.WA)(e.str),3),e.altstr?((0,n.Wz)(),(0,n.An)("div",$,(0,r.WA)(e.altstr),1)):(0,n.g1)("",!0),e.sub?((0,n.Wz)(),(0,n.An)("div",z,(0,r.WA)(e.sub),1)):(0,n.g1)("",!0),e.alert?((0,n.Wz)(),(0,n.An)("div",P,[(0,n.K2)(u,{name:"alert",size:"micro"}),(0,n.mY)(" "+(0,r.WA)(e.alert),1)])):(0,n.g1)("",!0),e.latepass?((0,n.Wz)(),(0,n.An)("div",O,[(0,n.mY)((0,r.WA)(e.latepass)+" ",1),(0,n.QD)("button",{onClick:t[0]||(t[0]=function(){return o.redeemLatePass&&o.redeemLatePass.apply(o,arguments)}),class:"slim secondary"},(0,r.WA)(e.latepass_label),1)])):(0,n.g1)("",!0)])])})),128))])}var S=s(5860),E={name:"SettingsList",components:{Icons:S.c},data:function(){return{now:new Date}},computed:{settingRows:function(){var e=[],t=a.i.assessInfo;return t.in_practice?e.push({icon:"alert",str:this.$t("setlist.practice")}):(e.push(this.getPointsObj()),t.enddate<2e9&&e.push(this.getDateObj()),"by_assessment"===t.submitby&&t.allowed_attempts>1&&e.push(this.getAttemptsObj()),t.timelimit>0&&e.push(this.getTimelimitObj())),e}},methods:{getPointsObj:function(){var e=a.i.assessInfo,t={icon:"square-check",str:this.$t("setlist.points_possible",{pts:e.points_possible})};return a.i.assessInfo.hasOwnProperty("excused")&&(t.alert=this.$t("setlist.excused")),t},getDateObj:function(){var e=a.i.assessInfo,t=e.enddate_disp,s={icon:"calendar",str:this.$t("setlist.due_at",{date:t})};if(e.hasOwnProperty("original_enddate")){var n=e.original_enddate_disp;s.sub=this.$t("setlist.originally_due",{date:n}),"latepass"===e.extended_with.type?s.sub+=" "+this.$tc("setlist.latepass_used",e.extended_with.n):s.sub+=" "+this.$t("setlist.extension"),e.exceptionpenalty>0&&(s.alert=this.$t("setlist.penalty",{p:e.exceptionpenalty}))}return e.can_use_latepass>0&&(s.latepass=this.$tc("setlist.latepass_needed",e.can_use_latepass,{n:e.can_use_latepass,date:e.latepass_extendto_disp}),s.latepass_label=this.$tc("closed.use_latepass",e.can_use_latepass)),s},getAttemptsObj:function(){var e,t,s,n,i=a.i.assessInfo,r=i.allowed_attempts-i.prev_attempts.length,o="";i.hasOwnProperty("attemptext")&&(o=0===i.prev_attempts.length?this.$tc("setlist.take",r):this.$tc("setlist.take_more",r),r=Math.max(0,r-i.attemptext)),t=0===i.prev_attempts.length?this.$tc("setlist.take",r):this.$tc("setlist.take_more",r),i.has_active_attempt?(e=this.$t("setlist.attempt_inprogress"),s=this.$t("setlist.cur_attempt_n_of",{n:i.prev_attempts.length+1,nmax:i.allowed_attempts})):(e=t,s=""),"best"===i.keepscore?s+=this.$t("setlist.keep_highest"):"average"===i.keepscore?s+=this.$t("setlist.keep_average"):"last"===i.keepscore&&(s+=this.$t("setlist.keep_last"));var u=i.prev_attempts.length+1;if(u>i.retake_penalty.n&&i.retake_penalty.penalty>0){var l=i.retake_penalty.penalty*(u-i.retake_penalty.n);n=this.$t("setlist.retake_penalty",{p:l})}return{icon:"retake",str:e,altstr:o,sub:s,alert:n}},getTimelimitObj:function(){var e=a.i.assessInfo,t={icon:"timer"};if(e.has_active_attempt&&e.timelimit_ext&&e.timelimit_ext<0)t.str=this.$t("setlist.timelimit_ext_used",{n:Math.abs(e.timelimit_ext)});else{var s=e.timelimit*e.timelimit_multiplier;e.overtime_grace>0?t.str=this.$t(e.overtime_penalty>0?"setlist.timelimit_wgrace_penalty":"setlist.timelimit_wgrace",{time:this.formatTimeLimit(s),grace:this.formatTimeLimit(e.overtime_grace*e.timelimit_multiplier),penalty:e.overtime_penalty}):t.str=this.$t("setlist.timelimit",{time:this.formatTimeLimit(s)}),1===a.i.timelimit_restricted?t.altstr=this.$t("setlist.timelimit_restricted",{due:e.enddate_disp}):2===a.i.timelimit_restricted&&(t.altstr=this.$t(e.overtime_penalty>0?"setlist.timelimit_wgrace_restricted_penalty":"setlist.timelimit_wgrace_restricted",{time:this.formatTimeLimit(s),due:e.enddate_disp,penalty:e.overtime_penalty})),e.timelimit_multiplier>1&&(t.sub=this.$t("setlist.timelimit_extend",{time:this.formatTimeLimit(e.timelimit)}))}if(e.has_active_attempt)if(a.i.timelimit_expired)a.i.timelimit_grace_expired?e.timelimit_ext&&e.timelimit_ext>0&&(t.str=this.$t("setlist.timelimit_ext",{n:e.timelimit_ext})):t.alert=this.$t("setlist.time_grace_expires",{date:e.timelimit_expires_disp,grace:e.timelimit_grace_disp});else{var n=e.timelimit_expires_disp;e.overtime_grace>0&&e.timelimit_grace>e.timelimit_expires?t.alert=this.$t("setlist.time_expires_wgrace",{date:n,grace:e.timelimit_grace_disp}):t.alert=this.$t("setlist.time_expires",{date:n})}else e.timelimit_ext&&e.timelimit_ext>0&&(t.alert=this.$t("setlist.timelimit_ext",{n:e.timelimit_ext}));return t},formatTimeLimit:function(e){var t=Math.floor(e/3600),s=Math.floor(e/60)-60*t,n=e-60*s-3600*t,i="";return t>0&&(i+=this.$tc("hours",t)),s>0&&(""!==i&&(i+=" "),i+=this.$tc("minutes",s)),n>0&&(""!==i&&(i+=" "),i+=this.$tc("seconds",n)),i},redeemLatePass:function(){var e=a.i.assessInfo;a.i.confirmObj={body:this.$tc("closed.latepassn",e.latepasses_avail)+" "+this.$tc("setlist.latepass_needed",e.can_use_latepass,{n:e.can_use_latepass,date:e.latepass_extendto_disp}),ok:this.$tc("closed.use_latepass",e.can_use_latepass),action:function(){return a.a.redeemLatePass()}}}}},C=s(8152);const M=(0,C.c)(E,[["render",T]]);var j=M,L=s(5328),K={for:"password"},F=["value"];function H(e,t,s,i,a,o){return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("label",K,(0,r.WA)(e.$t("password.label")),1),(0,n.QD)("input",{value:s.value,id:"password",name:"password",type:"password",autocomplete:"off",onInput:t[0]||(t[0]=function(){return o.handleInput&&o.handleInput.apply(o,arguments)}),onKeyup:t[1]||(t[1]=(0,L.jj)((function(t){return e.$emit("onenter")}),["enter"]))},null,40,F)])}var N={name:"PasswordEntry",props:["value"],methods:{handleInput:function(e){this.$emit("input",e.target.value)}}};const Y=(0,C.c)(N,[["render",H]]);var V=Y,B={key:0},R={key:1},U={key:0},G={class:"no-margin-top"},J=["onClick"],X={key:2},Z={key:3},ee={for:"addtogroup"},te={value:"0"},se=["value"];function ne(e,t,s,i,a,o){return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("div",null,(0,r.WA)(e.$t("group.isgroup")),1),o.canViewAll?((0,n.Wz)(),(0,n.An)("div",B,(0,r.WA)(o.teacherNote),1)):o.groupMembers.length>0?((0,n.Wz)(),(0,n.An)("div",R,[(0,n.mY)((0,r.WA)(e.$t("group.members"))+" ",1),o.showMax?((0,n.Wz)(),(0,n.An)("span",U," ("+(0,r.WA)(e.$t("group.max",{n:o.groupMax}))+") ",1)):(0,n.g1)("",!0),(0,n.QD)("ul",G,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.groupMembers,(function(t,s){return(0,n.Wz)(),(0,n.An)("li",{key:s},[(0,n.mY)((0,r.WA)(t.name)+" ",1),t.new?((0,n.Wz)(),(0,n.An)("button",{key:0,class:"plain slim subdued",tabindex:"0",onClick:function(e){return o.removeMember(t.index)}},(0,r.WA)(e.$t("group.remove")),9,J)):(0,n.g1)("",!0)])})),128))])])):o.isPresetGroups?((0,n.Wz)(),(0,n.An)("div",X,(0,r.WA)(e.$t("group.needpreset")),1)):(0,n.g1)("",!0),o.canAddMembers?((0,n.Wz)(),(0,n.An)("div",Z,[(0,n.QD)("label",ee,(0,r.WA)(e.$t("group.add")),1),(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newMember=t}),id:"addtogroup"},[(0,n.QD)("option",te,(0,r.WA)(e.$t("group.select")),1),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.availableUsers,(function(e){return(0,n.Wz)(),(0,n.An)("option",{value:e.id,key:e.id},(0,r.WA)(e.name),9,se)})),128))],512),[[L.Ip,e.newMember]]),(0,n.QD)("button",{class:"slim",onClick:t[1]||(t[1]=function(){return o.addMember&&o.addMember.apply(o,arguments)})},(0,r.WA)(e.$t("group.addbutton")),1)])):(0,n.g1)("",!0)])}s(6468);var ie={name:"GroupEntry",data:function(){return{newMember:0,newGroupMembers:[]}},computed:{groupMax:function(){return a.i.assessInfo.groupmax},groupMembers:function(){var e=[];if(!a.i.assessInfo.hasOwnProperty("group_members"))return e;for(var t=0;t<a.i.assessInfo.group_members.length;t++)e.push({name:a.i.assessInfo.group_members[t],new:!1});for(var s=0;s<this.newGroupMembers.length;s++)e.push({name:a.i.assessInfo.group_avail[this.newGroupMembers[s]],new:!0,index:s});return e},availableUsers:function(){var e=[];for(var t in a.i.assessInfo.group_avail)-1===this.newGroupMembers.indexOf(t)&&e.push({id:t,name:a.i.assessInfo.group_avail[t]});return e},showMax:function(){return 2===a.i.assessInfo.isgroup},canAddMembers:function(){return!this.canViewAll&&2===a.i.assessInfo.isgroup&&this.groupMembers.length<a.i.assessInfo.groupmax},isPresetGroups:function(){return 3===a.i.assessInfo.isgroup},canViewAll:function(){return a.i.assessInfo.can_view_all},teacherNote:function(){return this.isPresetGroups?this.$t("group.teacher_preset"):this.$t("group.teacher_auto",{n:a.i.assessInfo.groupmax})}},methods:{removeMember:function(e){this.newGroupMembers.splice(e,1),this.handleChange()},addMember:function(){this.newMember>0&&(this.newGroupMembers.push(this.newMember),this.newMember=0,this.handleChange())},handleChange:function(){this.$emit("update-new-group",this.newGroupMembers)}}};const ae=(0,C.c)(ie,[["render",ne]]);var re=ae,oe={class:"pane-body"},ue={class:"scorelist med-below"},le={key:0},ce={key:0,class:"med-left"},pe={key:0},de=["href"];function he(e,t,s,i,a,o){return(0,n.Wz)(),(0,n.An)("div",oe,[(0,n.QD)("table",ue,[(0,n.QD)("caption",null,(0,r.WA)(s.caption),1),(0,n.QD)("tr",null,[(0,n.QD)("th",null,(0,r.WA)(e.$t("prev.date")),1),o.prevAttempts[0].hasOwnProperty("score")?((0,n.Wz)(),(0,n.An)("th",le,(0,r.WA)(e.$t("prev.score")),1)):(0,n.g1)("",!0)]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.prevAttempts,(function(e,t){return(0,n.Wz)(),(0,n.An)("tr",{key:t},[(0,n.QD)("td",null,(0,r.WA)(e.date),1),e.hasOwnProperty("score")?((0,n.Wz)(),(0,n.An)("td",ce,(0,r.WA)(Math.round(1e3*e.score/o.totPoss)/10)+"% ",1)):(0,n.g1)("",!0)])})),128))]),o.showGbLink?((0,n.Wz)(),(0,n.An)("p",pe,[(0,n.QD)("a",{href:o.gbUrl},(0,r.WA)(e.$t("prev.viewingb")),9,de)])):(0,n.g1)("",!0)])}var fe={name:"PreviousAttempts",props:["caption"],computed:{prevAttempts:function(){return a.i.assessInfo.prev_attempts},totPoss:function(){return a.i.assessInfo.points_possible},ainfo:function(){return a.i.assessInfo},showGbLink:function(){var e=a.i.assessInfo.viewingb;return("immediately"===e||"after_take"===e)&&this.prevAttempts.length>0&&!a.i.assessInfo.can_view_all},gbUrl:function(){var e="gbviewassess.php?";return e+="cid="+a.i.cid,e+="&aid="+a.i.aid,e+="&uid="+a.i.uid,e}}};const me=(0,C.c)(fe,[["render",he]]);var ge=me,we={key:0,class:"pane-header"},ve=(0,n.QD)("br",null,null,-1),ye={class:"small subdued"};function be(e,t,s,i,a,o){return o.showGBScore?((0,n.Wz)(),(0,n.An)("div",we,[(0,n.QD)("strong",null,(0,r.WA)(e.$t("summary.recordedscore"))+": "+(0,r.WA)(o.gbScore)+"%",1),ve,(0,n.QD)("span",ye,(0,r.WA)(o.scoreUsed),1)])):(0,n.g1)("",!0)}var _e={name:"SummaryGbScore",computed:{ainfo:function(){return a.i.assessInfo},scoreUsed:function(){return"override"===this.ainfo.scored_attempt.kept?this.$t("summary.use_override"):"best"===this.ainfo.keepscore&&"by_assessment"===this.ainfo.submitby?this.$t("setlist.keep_highest"):"best"===this.ainfo.keepscore&&"by_question"===this.ainfo.submitby?this.$t("setlist.keep_highest_q"):"average"===this.ainfo.keepscore?this.$t("setlist.keep_average"):"last"===this.ainfo.keepscore?this.$t("setlist.keep_last"):""},showGBScore:function(){return this.ainfo.hasOwnProperty("scored_attempt")&&this.ainfo.scored_attempt.hasOwnProperty("score")&&"none"!==this.ainfo.showscores},gbScore:function(){return Math.round(1e3*this.ainfo.scored_attempt.score/this.ainfo.points_possible)/10}}};const qe=(0,C.c)(_e,[["render",be]]);var Ae=qe,ke={name:"Launch",components:{SettingsList:j,PasswordEntry:V,GroupEntry:re,SummaryGbScore:Ae,PreviousAttempts:ge,Icons:S.c},data:function(){return{password:"",newGroupMembers:[]}},computed:{aInfo:function(){return a.i.assessInfo},errorMsg:function(){return null===a.i.errorMsg?null:this.$t("error."+a.i.errorMsg)},startLabel:function(){return this.aInfo.has_active_attempt?this.$t("launch.continue_assess"):"by_assessment"===this.aInfo.submitby&&this.aInfo.prev_attempts.length>0?this.$t("launch.retake_assess"):this.$t("launch.start_assess")},timeLimitExpired:function(){if(a.i.timelimit_expired&&a.i.timelimit_grace_expired&&this.aInfo.has_active_attempt){var e=this.aInfo.timelimit_expires_disp;return this.$t("setlist.time_expired",{date:e})}return""},timeLimitExt:function(){return this.aInfo.timelimit_ext&&this.aInfo.timelimit_ext>0&&this.aInfo.has_active_attempt?this.$t("setlist.timelimit_ext",{n:this.aInfo.timelimit_ext}):""},okToLaunch:function(){return!(!this.showPreviewAll&&3===this.aInfo.isgroup&&0===this.aInfo.group_members.length)&&!(this.aInfo.timelimit>0&&this.aInfo.has_active_attempt&&(a.i.timelimit_expired&&"kick_out"===this.aInfo.timelimit_type||a.i.timelimit_grace_expired&&"allow_overtime"===this.aInfo.timelimit_type)&&""===this.timeLimitExt)},showPreviewAll:function(){return a.i.assessInfo.can_view_all&&!this.aInfo.view_as_stu},showReset:function(){return this.aInfo.is_teacher&&!this.aInfo.view_as_stu&&(this.aInfo.has_active_attempt||this.aInfo.prev_attempts.length>0||this.aInfo.has_unsubmitted_scored)},hasExit:function(){return window.exiturl&&""!==window.exiturl},canAddWork:function(){return(!this.aInfo.has_active_attempt||"by_question"===this.aInfo.submitby)&&this.aInfo.showwork_after},showTutorLinks:function(){return this.aInfo.hasOwnProperty("tutor_gblinks")}},methods:{startAssess:function(){var e=this;if(this.okToLaunch){var t=this.aInfo.timelimit;if(this.aInfo.has_password){var s=document.getElementById("password");s&&s.value!==this.password&&(this.password=s.value)}0===t?this.reallyStartAssess():a.i.confirmObj={body:"launch.timewarning",ok:"launch.start_assess",action:function(){return e.reallyStartAssess()}}}},teacherPreviewAll:function(){a.a.startAssess(!1,"",[],null,!0)},reallyStartAssess:function(){var e=this.password;this.password="",a.a.startAssess(!1,e,this.newGroupMembers)},endAssess:function(){a.a.endAssess()},doReset:function(){a.a.loadAssessData(null,!0)},updateNewGroup:function(e){this.newGroupMembers=e},exitAssess:function(){window.location=window.exiturl}},mounted:function(){if("livepoll"===this.aInfo.displaymethod){var e=document.createElement("script");e.src="https://"+this.aInfo.livepoll_server+":3000/socket.io/socket.io.js",document.getElementsByTagName("head")[0].appendChild(e)}else if("video_cued"===this.aInfo.displaymethod&&!window.YT){var t=document.createElement("script");t.id="yt_player_api",t.src="https://www.youtube.com/player_api",document.head.appendChild(t)}setTimeout(window.drawPics,50),window.rendermathnode(this.$refs.summary),window.initlinkmarkup(this.$refs.summary)}};const Ie=(0,C.c)(ke,[["render",D]]);var We=Ie,xe={class:"home flexpanes"},De={style:{"flex-grow":"1"}},Qe={key:0},$e=["href"],ze=["href"],Pe={key:1},Oe=(0,n.QD)("br",null,null,-1),Te={key:2},Se=(0,n.QD)("br",null,null,-1),Ee={key:3},Ce=(0,n.QD)("br",null,null,-1),Me={key:4},je={key:5},Le=(0,n.QD)("br",null,null,-1),Ke={key:0},Fe=(0,n.QD)("br",null,null,-1),He={key:6},Ne={key:0},Ye=(0,n.QD)("br",null,null,-1),Ve={key:7},Be=(0,n.QD)("br",null,null,-1),Re={key:8},Ue=(0,n.QD)("br",null,null,-1),Ge={key:0};function Je(e,t,s,i,a,o){var u=(0,n.E1)("icons"),l=(0,n.E1)("summary-gb-score"),c=(0,n.E1)("previous-attempts");return(0,n.Wz)(),(0,n.An)("div",xe,[(0,n.QD)("div",De,[(0,n.QD)("h1",null,(0,r.WA)(o.settings.name),1),(0,n.QD)("p",null,(0,r.WA)(o.closedMessage),1),o.showTutorLinks?((0,n.Wz)(),(0,n.An)("p",Qe,[(0,n.mY)((0,r.WA)(e.$t("launch.gblinks"))+": ",1),(0,n.QD)("a",{href:o.settings.tutor_gblinks[0],target:"_blank"},(0,r.WA)(e.$t("launch.scorelist")),9,$e),(0,n.mY)(" Â  "),(0,n.QD)("a",{href:o.settings.tutor_gblinks[1],target:"_blank"},(0,r.WA)(e.$t("launch.itemanalysis")),9,ze)])):(0,n.g1)("",!0),o.hasActive?((0,n.Wz)(),(0,n.An)("p",Pe,[(0,n.mY)((0,r.WA)(o.hasActiveMsg)+" ",1),Oe,(0,n.QD)("button",{type:"button",class:"primary",onClick:t[0]||(t[0]=function(){return o.endAssess&&o.endAssess.apply(o,arguments)})},(0,r.WA)(e.$t("closed.submit_now")),1)])):o.canAddWork?((0,n.Wz)(),(0,n.An)("p",Te,[(0,n.mY)((0,r.WA)(e.$t("work.add_prev")),1),Se,(0,n.QD)("button",{type:"button",class:"secondary",onClick:t[1]||(t[1]=function(t){return e.$router.push("/showwork")})},(0,r.WA)(e.$t("work.add")),1)])):(0,n.g1)("",!0),o.settings.can_use_latepass>0&&o.showLatePassOffer?((0,n.Wz)(),(0,n.An)("p",Ee,[(0,n.mY)((0,r.WA)(e.$tc("closed.latepassn",o.settings.latepasses_avail))+" ",1),Ce,(0,n.mY)(" "+(0,r.WA)(o.latepassExtendMsg),1)])):(0,n.g1)("",!0),"practice"===o.settings.available&&0===o.settings.can_use_latepass?((0,n.Wz)(),(0,n.An)("p",Me,(0,r.WA)(e.$t("closed.practice_no_latepass")),1)):"practice"===o.settings.available&&o.settings.can_use_latepass>0?((0,n.Wz)(),(0,n.An)("p",je,[(0,n.mY)((0,r.WA)(e.$t("closed.practice_w_latepass"))+" ",1),Le,(0,n.K2)(u,{name:"alert",size:"micro"}),(0,n.mY)(" "+(0,r.WA)(e.$t("closed.will_block_latepass"))+" ",1),o.settings.hasOwnProperty("excused")?((0,n.Wz)(),(0,n.An)("span",Ke,[Fe,(0,n.K2)(u,{name:"alert",size:"micro"}),(0,n.mY)(" "+(0,r.WA)(e.$t("setlist.excused")),1)])):(0,n.g1)("",!0)])):(0,n.g1)("",!0),o.canViewScored?((0,n.Wz)(),(0,n.An)("p",He,[(0,n.mY)((0,r.WA)(e.$t("closed.can_view_scored"))+" ",1),o.settings.can_use_latepass>0?((0,n.Wz)(),(0,n.An)("span",Ne,[Ye,(0,n.K2)(u,{name:"alert",size:"micro"}),(0,n.mY)(" "+(0,r.WA)(e.$t("closed.will_block_latepass")),1)])):(0,n.g1)("",!0)])):(0,n.g1)("",!0),(0,n.QD)("p",null,[""!=o.primaryButton?((0,n.Wz)(),(0,n.An)("button",{key:0,class:"primary",onClick:t[2]||(t[2]=function(){return o.handlePrimary&&o.handlePrimary.apply(o,arguments)})},(0,r.WA)(o.primaryButton),1)):(0,n.g1)("",!0),o.canViewScored?((0,n.Wz)(),(0,n.An)("button",{key:1,class:"secondarybtn",onClick:t[3]||(t[3]=function(){return o.handleViewScored&&o.handleViewScored.apply(o,arguments)})},(0,r.WA)(e.$t("closed.view_scored")),1)):(0,n.g1)("",!0),""!=o.secondaryButton?((0,n.Wz)(),(0,n.An)("button",{key:2,class:"secondarybtn",onClick:t[4]||(t[4]=function(){return o.handleSecondary&&o.handleSecondary.apply(o,arguments)})},(0,r.WA)(o.secondaryButton),1)):(0,n.g1)("",!0)]),o.canViewAll&&o.showReset?((0,n.Wz)(),(0,n.An)("p",Ve,[(0,n.mY)((0,r.WA)(e.$t("launch.resetmsg"))+" ",1),Be,(0,n.QD)("button",{type:"button",class:"primary",onClick:t[5]||(t[5]=function(){return o.doReset&&o.doReset.apply(o,arguments)})},(0,r.WA)(e.$t("launch.doreset")),1)])):(0,n.g1)("",!0),o.canViewAll?((0,n.Wz)(),(0,n.An)("p",Re,[(0,n.mY)((0,r.WA)(e.$t("closed.teacher_preview"))+" ",1),Ue,(0,n.QD)("button",{class:"primary",onClick:t[6]||(t[6]=function(){return o.teacherPreview&&o.teacherPreview.apply(o,arguments)})},(0,r.WA)(e.$t("closed.teacher_preview_button")),1),(0,n.QD)("button",{class:"secondary",onClick:t[7]||(t[7]=function(){return o.teacherPreviewAll&&o.teacherPreviewAll.apply(o,arguments)})},(0,r.WA)(e.$t("closed.teacher_previewall_button")),1)])):(0,n.g1)("",!0)]),o.settings.hasOwnProperty("prev_attempts")&&o.settings.prev_attempts.length>0?((0,n.Wz)(),(0,n.An)("div",Ge,[(0,n.K2)(l),(0,n.K2)(c,{caption:e.$t("prev.scored_attempts")},null,8,["caption"])])):(0,n.g1)("",!0)])}var Xe={name:"Closed",components:{Icons:S.c,PreviousAttempts:ge,SummaryGbScore:Ae},computed:{settings:function(){return a.i.assessInfo},closedMessage:function(){return"hidden"===this.settings.available?this.$t("closed.hidden"):"notyet"===this.settings.available?this.$t("closed.notyet",{sd:this.settings.startdate_disp,ed:this.settings.enddate_disp}):"practice"===this.settings.available||"pastdue"===this.settings.available?this.$t("closed.pastdue",{ed:this.settings.enddate_disp}):"needprereq"===this.settings.available?this.$t("closed.needprereq")+" "+this.$t("closed.prereqreq",{score:this.settings.reqscorevalue,name:this.settings.reqscorename}):this.settings.hasOwnProperty("pasttime")?this.$t("closed.pasttime"):!1===this.settings.has_active_attempt&&!1===this.settings.can_retake?this.$t("closed.no_attempts"):""},hasActive:function(){return"by_assessment"===this.settings.submitby&&("yes"===this.settings.available&&this.settings.has_active_attempt||"yes"!==this.settings.available&&this.settings.has_unsubmitted_scored)},hasActiveMsg:function(){if(this.settings.hasOwnProperty("timelimit_expiresin")){var e=1e3*this.settings.timelimit_expiresin;return e<0?this.$t("closed.unsubmitted_overtime"):this.$t("closed.unsubmitted_pastdue")}return this.$t("closed.unsubmitted_pastdue")},showLatePassOffer:function(){return"needprereq"!==this.settings.available&&!this.settings.hasOwnProperty("pasttime")},latepassExtendMsg:function(){return this.$tc("closed.latepass_needed",this.settings.can_use_latepass,{n:this.settings.can_use_latepass,date:this.settings.latepass_extendto_disp})},primaryAction:function(){return this.settings.can_use_latepass>0&&this.showLatePassOffer?"latepass":"practice"===this.settings.available?"practice":window.exiturl&&""!==window.exiturl?"exit":""},primaryButton:function(){return"latepass"===this.primaryAction?this.$tc("closed.use_latepass",this.settings.can_use_latepass):"practice"===this.primaryAction?this.$t("closed.do_practice"):"exit"===this.primaryAction?this.$t("closed.exit"):""},secondaryAction:function(){return"practice"!==this.primaryAction&&"practice"===this.settings.available?"practice":window.exiturl&&""!==window.exiturl&&"exit"!==this.primaryAction?"exit":""},secondaryButton:function(){return"practice"===this.secondaryAction?this.$t("closed.do_practice"):"exit"===this.secondaryAction?this.$t("closed.exit"):""},canViewScored:function(){return!this.canViewAll&&"never"!==this.settings.viewingb&&this.settings.prev_attempts.length>0&&("practice"===this.settings.available||"pastdue"===this.settings.available)},canViewAll:function(){return a.i.assessInfo.can_view_all},showReset:function(){return a.i.assessInfo.hasOwnProperty("show_reset")||a.i.assessInfo.is_teacher&&!a.i.assessInfo.view_as_stu&&(a.i.assessInfo.has_active_attempt||a.i.assessInfo.prev_attempts.length>0||a.i.assessInfo.has_unsubmitted_scored)},canAddWork:function(){return a.i.assessInfo.showwork_after},showTutorLinks:function(){return a.i.assessInfo.hasOwnProperty("tutor_gblinks")}},methods:{handleViewScored:function(){0===this.settings.can_use_latepass?window.location=a.i.APIbase+"gbviewassess.php?cid="+a.i.cid+"&aid="+a.i.aid+"&uid="+a.i.uid:a.i.confirmObj={body:"closed.confirm",action:function(){window.location=a.i.APIbase+"gbviewassess.php?cid="+a.i.cid+"&aid="+a.i.aid+"&uid="+a.i.uid}}},handlePrimary:function(){"latepass"===this.primaryAction?a.a.redeemLatePass():"practice"===this.primaryAction?a.a.startAssess(!0,"",[]):"exit"===this.primaryAction&&(window.location=window.exiturl)},handleSecondary:function(){"practice"===this.secondaryAction&&0===this.settings.can_use_latepass?a.a.startAssess(!0,"",[]):"practice"===this.secondaryAction?a.i.confirmObj={body:"closed.confirm",action:function(){a.a.startAssess(!0,"",[])}}:"exit"===this.secondaryAction&&(window.location=window.exiturl)},teacherPreview:function(){a.a.startAssess(!1,"",[])},teacherPreviewAll:function(){a.a.startAssess(!1,"",[],null,!0)},doReset:function(){a.a.loadAssessData(null,!0)},endAssess:function(){a.a.endAssess()}}};const Ze=(0,C.c)(Xe,[["render",Je]]);var et=Ze,tt=(s(1040),{class:"home"}),st={class:"flexpanes"},nt={style:{"flex-grow":"1"}},it=["innerHTML"],at={key:1},rt={id:"excusedlist"},ot={key:2},ut=(0,n.QD)("p",null,"Â ",-1),lt={key:0};function ct(e,t,s,i,a,o){var u=(0,n.E1)("summary-header"),l=(0,n.E1)("summary-diag-info"),c=(0,n.E1)("summary-score-total"),p=(0,n.E1)("summary-score-list"),d=(0,n.E1)("summary-categories"),h=(0,n.E1)("vue-tab"),f=(0,n.E1)("summary-reshow-questions"),m=(0,n.E1)("vue-tabs"),g=(0,n.E1)("summary-gb-score"),w=(0,n.E1)("previous-attempts");return(0,n.Wz)(),(0,n.An)("div",tt,[(0,n.K2)(u,{class:"headerpane"}),(0,n.QD)("div",st,[(0,n.QD)("div",nt,[(0,n.K2)(l),(0,n.K2)(c),o.ainfo.hasOwnProperty("endmsg")&&""!=o.ainfo.endmsg?((0,n.Wz)(),(0,n.An)("div",{key:0,innerHTML:o.ainfo.endmsg,class:"introtext"},null,8,it)):(0,n.g1)("",!0),o.ainfo.hasOwnProperty("newexcused")&&Object.keys(o.ainfo.newexcused).length>0?((0,n.Wz)(),(0,n.An)("div",at,[(0,n.QD)("p",null,(0,r.WA)(e.$t("summary.new_excused")),1),(0,n.QD)("ul",rt,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.ainfo.newexcused,(function(e,t){return(0,n.Wz)(),(0,n.An)("li",{key:t},(0,r.WA)(e),1)})),128))])])):(0,n.g1)("",!0),o.showScores?((0,n.Wz)(),(0,n.An)("div",ot,[(0,n.K2)(m,{id:"scoretabs"},{default:(0,n.Ql)((function(){return[(0,n.K2)(h,{name:e.$t("summary.scorelist")},{default:(0,n.Ql)((function(){return[(0,n.K2)(p),ut,o.hasCategories?((0,n.Wz)(),(0,n.Az)(d,{key:0,data:o.ainfo.questions},null,8,["data"])):(0,n.g1)("",!0)]})),_:1},8,["name"]),o.showReviewQ?((0,n.Wz)(),(0,n.Az)(h,{key:0,name:e.$t("summary.reshowquestions")},{default:(0,n.Ql)((function(e){var t=e.active;return[(0,n.K2)(f,{active:t},null,8,["active"])]})),_:1},8,["name"])):(0,n.g1)("",!0)]})),_:1})])):(0,n.g1)("",!0)]),o.ainfo.hasOwnProperty("prev_attempts")&&o.ainfo.prev_attempts.length>0?((0,n.Wz)(),(0,n.An)("div",lt,[(0,n.K2)(g),(0,n.K2)(w,{caption:e.$t("prev.all_attempts")},null,8,["caption"])])):(0,n.g1)("",!0)])])}var pt={class:"assess-header headerpane"},dt={style:{"flex-grow":"1"}};function ht(e,t,s,i,a,o){return(0,n.Wz)(),(0,n.An)("div",pt,[(0,n.QD)("div",dt,[(0,n.QD)("h1",null,(0,r.WA)(o.ainfo.name),1)]),(0,n.QD)("div",null,[""!=o.retakeLabel?((0,n.Wz)(),(0,n.An)("button",{key:0,onClick:t[0]||(t[0]=function(){return o.retake&&o.retake.apply(o,arguments)})},(0,r.WA)(o.retakeLabel),1)):(0,n.g1)("",!0),o.hasExit?((0,n.Wz)(),(0,n.An)("button",{key:1,onClick:t[1]||(t[1]=function(){return o.exit&&o.exit.apply(o,arguments)})},(0,r.WA)(e.$t("closed.exit")),1)):(0,n.g1)("",!0)])])}var ft={name:"SummaryHeader",computed:{ainfo:function(){return a.i.assessInfo},retakeLabel:function(){return"by_assessment"===this.ainfo.submitby&&this.ainfo.prev_attempts.length<this.ainfo.allowed_attempts?this.$t("launch.retake_assess"):"by_question"===this.ainfo.submitby&&a.i.inAssess&&this.ainfo.has_active_attempt?this.$t("launch.continue_assess"):""},hasExit:function(){return window.exiturl&&""!==window.exiturl&&!this.ainfo.is_lti}},methods:{exit:function(){window.location=window.exiturl},retake:function(){a.i.assessInfo=null,this.$router.push("/")}}};const mt=(0,C.c)(ft,[["render",ht]]);var gt=mt,wt={key:0},vt={class:"larger"},yt=(0,n.QD)("br",null,null,-1),bt={key:0},_t=(0,n.QD)("br",null,null,-1),qt={key:1},At=(0,n.QD)("br",null,null,-1),kt={key:1};function It(e,t,s,i,a,o){return(0,n.Wz)(),(0,n.An)("div",null,[o.showTotal?((0,n.Wz)(),(0,n.An)("p",wt,[(0,n.QD)("strong",vt,(0,r.WA)(e.$t("summary.score"))+": "+(0,r.WA)(o.scoreTotalPercent)+"% ",1),yt,(0,n.mY)(" "+(0,r.WA)(e.$tc("summary.scorepts",o.ainfo.points_possible,{pts:o.scoreTotal,poss:o.ainfo.points_possible}))+" ",1),o.retakePenalty>0?((0,n.Wz)(),(0,n.An)("span",bt,[_t,(0,n.mY)(" "+(0,r.WA)(e.$t("summary.retake_penalty",{n:o.retakePenalty})),1)])):(0,n.g1)("",!0),o.latePenalty>0?((0,n.Wz)(),(0,n.An)("span",qt,[At,(0,n.mY)(" "+(0,r.WA)(e.$t("summary.late_penalty",{n:o.latePenalty})),1)])):(0,n.g1)("",!0)])):((0,n.Wz)(),(0,n.An)("p",kt,(0,r.WA)(e.$t("summary.no_total"))+" "+(0,r.WA)(e.$t("summary.viewwork_"+o.viewWorkType)),1))])}var Wt={name:"SummaryScoreTotal",components:{},computed:{ainfo:function(){return a.i.assessInfo},showTotal:function(){return"none"!==this.ainfo.showscores},scoreTotal:function(){if(this.ainfo.hasOwnProperty("score"))return this.ainfo.score;var e=0;for(var t in this.ainfo.questions)e+=this.ainfo.questions[t].score;return e},retakePenalty:function(){if("by_question"===this.ainfo.submitby)return 0;var e=this.ainfo.prev_attempts.length;return e>this.ainfo.retake_penalty.n?this.ainfo.retake_penalty.penalty*(e-this.ainfo.retake_penalty.n):0},latePenalty:function(){if("by_question"===this.ainfo.submitby)return 0;var e=0;for(var t in this.ainfo.questions)for(var s=this.ainfo.questions[t].parts,n=0;n<s.length;n++)if(s[n].hasOwnProperty("penalties")&&s[n].penalties.hasOwnProperty("late"))e+=s[n].penalties.late;else if(e>0)return 0;return e},scoreTotalPercent:function(){return Math.round(1e3*this.scoreTotal/this.ainfo.points_possible)/10},viewWorkType:function(){return"never"===this.ainfo.viewingb?"never":"after_due"===this.ainfo.viewingb?"never"===this.ainfo.scoresingb?"work_after":"after_due":"never"===this.ainfo.scoresingb?"work":"after_due"===this.ainfo.scoresingb?"work_scores_after":"immediately"}}};const xt=(0,C.c)(Wt,[["render",It]]);var Dt=xt,Qt={class:"scorelist"},$t=(0,n.QD)("caption",{class:"sr-only"},"Scores",-1),zt={key:0,class:"small subdued"},Pt={key:0},Ot={key:1};function Tt(e,t,s,i,a,o){var u=(0,n.E1)("icons"),l=(0,n.E1)("question-details-table"),c=(0,n.E1)("click-to-show");return(0,n.Wz)(),(0,n.An)("table",Qt,[$t,(0,n.QD)("tr",null,[(0,n.QD)("th",null,(0,r.WA)(e.$t("scorelist.question")),1),(0,n.QD)("th",null,(0,r.WA)(e.$t("scorelist.score")),1)]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.questions,(function(t,s){return(0,n.Wz)(),(0,n.An)("tr",{key:s},[(0,n.QD)("td",null,[(0,n.K2)(u,{name:t.status},null,8,["name"]),(0,n.mY)(" "+(0,r.WA)(e.$t("question_n",{n:s+1}))+" ",1),t.extracredit?((0,n.Wz)(),(0,n.An)("em",zt,(0,r.WA)(e.$t("extracredit")),1)):(0,n.g1)("",!0)]),o.noTries[s]?((0,n.Wz)(),(0,n.An)("td",Pt,(0,r.WA)(e.$t("scorelist.unattempted")),1)):((0,n.Wz)(),(0,n.An)("td",Ot,[(0,n.mY)((0,r.WA)(e.$tc("scorelist.pts",t.points_possible,{pts:t.gbscore,poss:t.points_possible}))+" Â Â  ",1),t.has_details?((0,n.Wz)(),(0,n.Az)(c,{key:0,class:"question-details",id:"qd_"+s},{button:(0,n.Ql)((function(){return[(0,n.K2)(u,{name:"info",size:"small"}),(0,n.mY)(" "+(0,r.WA)(e.$t("header.details")),1)]})),default:(0,n.Ql)((function(){return[(0,n.K2)(l,{qinfo:t,showtries:!1},null,8,["qinfo"])]})),_:2},1032,["id"])):(0,n.g1)("",!0)]))])})),128))])}var St=s(860),Et=["id","aria-controls","aria-expanded"],Ct=["id"];function Mt(e,t,s,i,a,r){return(0,n.Wz)(),(0,n.An)("span",null,[(0,n.QD)("span",{id:s.id,ref:"button",role:"button",tabindex:"0",onClick:t[0]||(t[0]=function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),onKeydown:[t[1]||(t[1]=(0,L.jj)((0,L.Y7)((function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),["prevent"]),["enter"])),t[2]||(t[2]=(0,L.jj)((0,L.Y7)((function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),["prevent"]),["space"]))],class:"dropdown-button","aria-controls":s.id+"_pane","aria-expanded":e.open?"true":"false"},[(0,n.oF)(e.$slots,"button")],40,Et),e.open?((0,n.Wz)(),(0,n.An)("div",{key:0,id:s.id+"_pane"},[(0,n.oF)(e.$slots,"default")],8,Ct)):(0,n.g1)("",!0)])}var jt={name:"ClickToShow",props:["id"],data:function(){return{open:!1,closetimer:null}},methods:{triggerOpen:function(e){this.open="boolean"===typeof e?e:!this.open,this.open||this.$refs.button.focus()}}};const Lt=(0,C.c)(jt,[["render",Mt]]);var Kt=Lt,Ft={name:"SummaryScoreList",components:{Icons:S.c,QuestionDetailsTable:St.c,ClickToShow:Kt},computed:{questions:function(){return a.i.assessInfo.questions},noTries:function(){var e={};for(var t in this.questions)if(this.questions[t].hasOwnProperty("parts")){var s=!0;for(var n in this.questions[t].parts)if(this.questions[t].parts[n].try>0){s=!1;break}e[t]=s}else e[t]=!0;return e}}};const Ht=(0,C.c)(Ft,[["render",Tt]]);var Nt=Ht,Yt={key:0},Vt={class:"big"},Bt={class:"pii-full-name"};function Rt(e,t,s,i,a,o){return o.showDiagInfo?((0,n.Wz)(),(0,n.An)("div",Yt,[(0,n.QD)("p",Vt,[(0,n.QD)("span",Bt,(0,r.WA)(o.diagUserName),1)]),(0,n.QD)("p",null,(0,r.WA)(e.$d(new Date,"long")),1)])):(0,n.g1)("",!0)}var Ut={name:"SummaryDiagInfo",computed:{showDiagInfo:function(){return a.i.assessInfo.is_diag},diagUserName:function(){return a.i.assessInfo.userfullname+": "+a.i.assessInfo.diag_userid}}};const Gt=(0,C.c)(Ut,[["render",Rt]]);var Jt=Gt;function Xt(e,t,s,i,a,r){var o=(0,n.E1)("full-question-header"),u=(0,n.E1)("question");return(0,n.Wz)(),(0,n.An)("div",null,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(r.questions,(function(e,t){return(0,n.Wz)(),(0,n.An)("div",{key:t},[(0,n.K2)(o,{qn:t,showretry:!1},null,8,["qn"]),((0,n.Wz)(),(0,n.Az)(u,{qn:t,key:"sq"+t,active:s.active,disabled:!0},null,8,["qn","active"]))])})),128))])}var Zt=s(456),es=s(6092),ts={name:"SummaryReshowQuestions",props:["active"],components:{Question:Zt.c,FullQuestionHeader:es.c},computed:{questions:function(){return a.i.assessInfo.questions}}};const ss=(0,C.c)(ts,[["render",Xt]]);var ns=ss,is=s(9088),as=["id"],rs=["aria-selected","onClick","onKeydown","aria-controls","id"];function os(e,t,s,i,a,o){return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("ul",{class:"vuetablist",id:s.id},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e.tabs,(function(t,s){return(0,n.Wz)(),(0,n.An)("li",{key:s,class:(0,r.WN)({active:t.hash===e.activeTabHash}),"aria-selected":t.hash===e.activeTabHash,ref_for:!0,ref:"tab",tabindex:"0",onClick:function(e){return o.setActive(s)},onKeydown:function(e){return o.handleKey(e,s)},"aria-controls":t.hash,id:t.hash+"_tab"},(0,r.WA)(t.name),43,rs)})),128))],8,as),(0,n.oF)(e.$slots,"default",{ref:"slot"})])}var us={name:"VueTabs",props:["id"],data:function(){return{activeTabHash:"",tabs:[]}},provide:function(){var e=this;return{addTab:function(t){var s=e.tabs.push(t);1===s&&(e.activeTabHash=t.hash)},activeTabHash:(0,n.S6)((function(){return e.activeTabHash}))}},methods:{setActive:function(e){var t=this;this.activeTabHash=this.tabs[e].hash,this.$nextTick((function(){document.getElementById(t.tabs[e].hash).focus()}))},setFocus:function(e){this.$refs.tab[e].focus()},handleKey:function(e,t){var s=this.tabs.length,n=e.key.toLowerCase();"enter"===n||" "===n?this.setActive(t):"arrowleft"===n?this.setFocus((t-1+s)%s):"arrowright"===n?this.setFocus((t+1)%s):"home"===n?this.setFocus(0):"end"===n&&this.setFocus(s-1)}}};const ls=(0,C.c)(us,[["render",os]]);var cs=ls,ps=["id","aria-labelledby"];function ds(e,t,s,i,a,r){return(0,n.wt)(((0,n.Wz)(),(0,n.An)("div",{tabindex:"0",id:e.hash,"aria-labelledby":e.hash+"_tab",class:"vuetabpanel"},[(0,n.oF)(e.$slots,"default",{active:e.active})],8,ps)),[[L.Ub,e.active]])}var hs={name:"VueTab",data:function(){return{active:!1,hash:""}},props:["name"],inject:["addTab","activeTabHash"],created:function(){this.hash="vuetab_"+this.name.toLowerCase().replace(/ /g,"-"),this.addTab({name:this.name,hash:this.hash})},watch:{activeTabHash:function(){this.active=this.activeTabHash===this.hash}}};const fs=(0,C.c)(hs,[["render",ds]]);var ms=fs,gs={name:"Summary",components:{SummaryHeader:gt,SummaryScoreTotal:Dt,SummaryGbScore:Ae,SummaryScoreList:Nt,SummaryCategories:is.c,SummaryReshowQuestions:ns,SummaryDiagInfo:Jt,PreviousAttempts:ge,VueTabs:cs,VueTab:ms},data:function(){return{activeTab:0}},computed:{ainfo:function(){return a.i.assessInfo},hasScore:function(){return a.i.assessInfo.hasOwnProperty("score")},showTotal:function(){return"none"!==this.ainfo.showscores},showScores:function(){return"during"===this.ainfo.showscores||"at_end"===this.ainfo.showscores},showReviewQ:function(){return this.ainfo.questions&&null!==this.ainfo.questions[0].html},hasCategories:function(){var e=!1;if(!this.showScores)return!1;for(var t in this.ainfo.questions)if(this.ainfo.questions[t].hasOwnProperty("category")&&""!==this.ainfo.questions[t].category&&null!==this.ainfo.questions[t].category){e=!0;break}return e}},methods:{loadScoresIfNeeded:function(){this.hasScore||a.a.getScores()}},created:function(){this.loadScoresIfNeeded()},updated:function(){this.loadScoresIfNeeded()}};const ws=(0,C.c)(gs,[["render",ct]]);var vs=ws,ys={class:"home"},bs={class:"assess-header headerpane"},_s={style:{"flex-grow":"1"}},qs={key:0},As={key:0},ks={key:1};function Is(e,t,s,i,a,o){var u=(0,n.E1)("full-question-header"),l=(0,n.E1)("question"),c=(0,n.E1)("showwork-input");return(0,n.Wz)(),(0,n.An)("div",ys,[(0,n.QD)("div",bs,[(0,n.QD)("div",_s,[(0,n.QD)("h1",null,(0,r.WA)(e.$t("work.add"))+": "+(0,r.WA)(o.ainfo.name),1)]),(0,n.QD)("div",null,[(0,n.QD)("button",{onClick:t[0]||(t[0]=function(){return o.save&&o.save.apply(o,arguments)}),class:"primary"},(0,r.WA)(o.saveLabel),1)])]),o.readyToShow?((0,n.Wz)(),(0,n.An)("div",qs,[0===o.questions.length?((0,n.Wz)(),(0,n.An)("p",As,(0,r.WA)(e.$t("work.noquestions")),1)):(0,n.g1)("",!0),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.questions,(function(e,t){return(0,n.Wz)(),(0,n.An)("div",{key:t},[(0,n.K2)(u,{qn:t,showretry:!1},null,8,["qn"]),null!==e.html?((0,n.Wz)(),(0,n.Az)(l,{qn:t,key:"sq"+t,active:!0,disabled:!0,getwork:2,onWorkchanged:function(e){return o.workChanged(t,e)}},null,8,["qn","onWorkchanged"])):((0,n.Wz)(),(0,n.An)("div",ks,[(0,n.K2)(c,{id:"sw"+t,value:e.work,rows:"3",onInput:function(e){return o.workChanged(t,e)}},null,8,["id","value","onInput"])]))])})),128)),(0,n.QD)("div",null,[(0,n.QD)("button",{onClick:t[1]||(t[1]=function(){return o.save&&o.save.apply(o,arguments)}),class:"primary"},(0,r.WA)(o.saveLabel),1)])])):(0,n.g1)("",!0)])}var Ws=s(3492),xs={name:"Summary",components:{Question:Zt.c,FullQuestionHeader:es.c,ShowworkInput:Ws.c},data:function(){return{loaded:!1,duringAssess:!1,work:{}}},computed:{ainfo:function(){return a.i.assessInfo},mode:function(){return a.i.inAssess?"aftertake":"gb"},readyToShow:function(){return"gb"===this.mode&&a.i.assessInfo.hasOwnProperty("questions")||"aftertake"===this.mode&&a.i.assessInfo.hasOwnProperty("score")},hasScore:function(){return a.i.assessInfo.hasOwnProperty("score")},questions:function(){var e={};for(var t in a.i.assessInfo.questions)2&a.i.assessInfo.questions[t].showwork&&(e[t]=a.i.assessInfo.questions[t]);return e},saveLabel:function(){return a.i.inAssess?this.$t("work.save_continue"):this.$t("work.save")}},methods:{loadScoresIfNeeded:function(){"gb"!==this.mode||this.readyToShow?"aftertake"!==this.mode||this.readyToShow||a.a.getScores():a.a.getQuestions()},workChanged:function(e,t){a.i.work[e]=t},save:function(){a.a.submitWork()}},created:function(){this.loadScoresIfNeeded()},updated:function(){this.loadScoresIfNeeded()}};const Ds=(0,C.c)(xs,[["render",Is]]);var Qs=Ds,$s={class:"home"},zs=["aria-label"],Ps=["onClick","onKeypress"],Os=["aria-hidden"];function Ts(e,t,s,i,a,o){var u=(0,n.E1)("assess-header"),l=(0,n.E1)("skip-question-header"),c=(0,n.E1)("intro-text"),p=(0,n.E1)("icons"),d=(0,n.E1)("router-link"),h=(0,n.E1)("inter-question-text-skiplist"),f=(0,n.E1)("question");return(0,n.Wz)(),(0,n.An)("div",$s,[(0,n.QD)("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[0]||(t[0]=(0,L.Y7)((function(t){return e.$refs.scrollpane.focus()}),["prevent"]))},(0,r.WA)(e.$t("jumptocontent")),1),(0,n.K2)(u),(0,n.K2)(l,{qn:o.qn},null,8,["qn"]),(0,n.QD)("div",{class:"scrollpane",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[(0,n.K2)(c,{active:-1==o.qn,html:o.intro,key:"-1"},null,8,["active","html"]),-1==o.qn?((0,n.Wz)(),(0,n.Az)(d,{key:0,to:"/skip/1",custom:""},{default:(0,n.Ql)((function(t){var s=t.navigate;return[(0,n.QD)("button",{type:"button",onClick:s,onKeypress:(0,L.jj)(s,["enter"]),role:"link"},[(0,n.K2)(p,{name:"right",alt:""}),(0,n.mY)(" "+(0,r.WA)(e.$t("question.firstq")),1)],40,Ps)]})),_:1})):(0,n.g1)("",!0),(0,n.K2)(h,{pos:"before",qn:o.qn},null,8,["qn"]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.questionArray,(function(e){return(0,n.Wz)(),(0,n.An)("div",{key:e,class:(0,r.WN)({inactive:e!=o.qn}),"aria-hidden":e!=o.qn},[(0,n.K2)(f,{qn:e,active:e==o.qn,getwork:1},null,8,["qn","active"])],10,Os)})),128)),(0,n.K2)(h,{pos:"after",qn:o.qn},null,8,["qn"])],8,zs)])}var Ss=s(6016),Es={id:"skip-question-header"},Cs={class:"flexrow wrap",style:{"flex-grow":"1"}},Ms=["aria-label"],js=["onClick","onKeypress","disabled","aria-label","title"],Ls=["onClick","onKeypress","disabled","aria-label","title"];function Ks(e,t,s,i,a,r){var o=this,u=(0,n.E1)("skip-question-list-item"),l=(0,n.E1)("menu-button"),c=(0,n.E1)("icons"),p=(0,n.E1)("router-link"),d=(0,n.E1)("question-header-icons");return(0,n.Wz)(),(0,n.An)("div",Es,[(0,n.QD)("div",Cs,[(0,n.QD)("div",{id:"skip-question-select",role:"navigation","aria-label":e.$t("regions.qnav")},[(0,n.K2)(l,{id:"qnav",options:r.navOptions,selected:r.curOption,onChange:r.changeQuestion,searchby:"dispqn"},{default:(0,n.Ql)((function(e){var t=e.option,s=e.selected;return[(0,n.K2)(u,{showretry:r.anyHaveRetry,showretake:r.anyHaveRetake,option:t,selected:s},null,8,["showretry","showretake","option","selected"])]})),_:1},8,["options","selected","onChange"]),r.showNextPrev?((0,n.Wz)(),(0,n.Az)(p,{key:0,to:"/skip/"+(r.dispqn-1),custom:""},{default:(0,n.Ql)((function(t){var i=t.navigate;return[(0,n.QD)("button",{type:"button",onClick:i,onKeypress:(0,L.jj)(i,["enter"]),role:"link",disabled:s.qn<(o.hasIntro?0:1),class:"secondarybtn",id:"qprev","aria-label":e.$t("previous"),title:e.$t("previous")},[(0,n.K2)(c,{name:"left"})],40,js)]})),_:1},8,["to"])):(0,n.g1)("",!0),r.showNextPrev?((0,n.Wz)(),(0,n.Az)(p,{key:1,to:"/skip/"+(r.dispqn+1),custom:""},{default:(0,n.Ql)((function(t){var i=t.navigate;return[(0,n.QD)("button",{type:"button",onClick:i,onKeypress:(0,L.jj)(i,["enter"]),role:"link",disabled:s.qn>=r.ainfo.questions.length-1,class:"secondarybtn",id:"qnext","aria-label":e.$t("next"),title:e.$t("next")},[(0,n.K2)(c,{name:"right"})],40,Ls)]})),_:1},8,["to"])):(0,n.g1)("",!0)],8,Ms)]),(0,n.K2)(d,{showscore:r.showScore,curQData:r.curQData,qn:s.qn,showretry:!0},null,8,["showscore","curQData","qn"])])}var Fs=s(494),Hs=s(7548),Ns={class:"flex-nowrap-center"},Ys={class:"qname-wrap"},Vs=["title"],Bs={key:0,class:"small subdued"},Rs={key:1,class:"subdued"},Us={key:2,class:"redoicon"},Gs={key:3,class:"redoicon"};function Js(e,t,s,i,a,o){var u=(0,n.E1)("icons");return(0,n.Wz)(),(0,n.An)("span",Ns,[s.option.dispqn>0?((0,n.Wz)(),(0,n.Az)(u,{key:0,name:o.statusIcon,class:"qstatusicon"},null,8,["name"])):(0,n.g1)("",!0),(0,n.QD)("span",Ys,[(0,n.QD)("span",{class:(0,r.WN)({greystrike:s.option.withdrawn>0}),title:o.nameHover},[(0,n.mY)((0,r.WA)(o.nameDisp)+" ",1),s.option.extracredit?((0,n.Wz)(),(0,n.An)("em",Bs,(0,r.WA)(e.$t("extracredit")),1)):(0,n.g1)("",!0)],10,Vs)]),""===o.scoreDisplay||s.selected?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.An)("span",Rs,(0,r.WA)(o.scoreDisplay),1)),s.showretry&&!s.selected?((0,n.Wz)(),(0,n.An)("span",Us,[s.option.canretry?((0,n.Wz)(),(0,n.Az)(u,{key:0,name:"retry"})):(0,n.g1)("",!0)])):(0,n.g1)("",!0),s.showretake&&!s.selected?((0,n.Wz)(),(0,n.An)("span",Gs,[s.option.regens_remaining?((0,n.Wz)(),(0,n.Az)(u,{key:0,name:"retake"})):(0,n.g1)("",!0)])):(0,n.g1)("",!0)])}var Xs={name:"SkipQuestionListItem",props:["option","showretry","showretake","selected"],components:{Icons:S.c},computed:{statusIcon:function(){return 0===this.option.dispqn?"none":this.option.status},nameDisp:function(){return 0===this.option.dispqn?this.$t("intro"):this.$t("question_n",{n:this.option.dispqn})},nameHover:function(){return 0!==this.option.withdrawn?this.$t("header.withdrawn"):""},scoreDisplay:function(){return 0===this.option.dispqn?"":this.option.hasOwnProperty("gbscore")&&this.option.tries_max>1?this.option.gbscore+"/"+this.$tc("header.pts",this.option.points_possible):"("+this.$tc("header.pts",this.option.points_possible)+")"}}};const Zs=(0,C.c)(Xs,[["render",Js]]);var en=Zs,tn=s(2627),sn={name:"SkipQuestionHeader",props:["qn"],components:{QuestionHeaderIcons:Fs.c,Icons:S.c,MenuButton:Hs.c,SkipQuestionListItem:en},mixins:[tn.K],data:function(){return{}},computed:{ainfo:function(){return a.i.assessInfo},curQData:function(){return a.i.assessInfo.questions[this.qn]},dispqn:function(){return parseInt(this.qn)+1},hasIntro:function(){return""!==a.i.assessInfo.intro||a.i.assessInfo.resources.length>0},navOptions:function(){var e=[];for(var t in this.hasIntro&&e.push({internallink:"/skip/0",dispqn:0,withdrawn:0}),a.i.assessInfo.questions){var s=parseInt(t)+1,n={internallink:"/skip/"+s,dispqn:s};for(var i in a.i.assessInfo.questions[t])n[i]=a.i.assessInfo.questions[t][i];"unattempted"===n.status&&(1===this.qsAttempted[t]?n.status="attempted":this.qsAttempted[t]>0&&(n.status="partattempted")),e.push(n)}return e},showScore:function(){return this.qn>-1&&a.i.assessInfo.questions[this.qn].hasOwnProperty("gbscore")},anyHaveRetry:function(){for(var e in a.i.assessInfo.questions)if(a.i.assessInfo.questions[e].canretry)return!0;return!1},anyHaveRetake:function(){for(var e in a.i.assessInfo.questions)if(a.i.assessInfo.questions[e].regens_remaining)return!0;return!1},curOption:function(){return this.hasIntro?this.dispqn:this.dispqn-1},showNextPrev:function(){return Object.keys(this.navOptions).length>1}},methods:{changeQuestion:function(e){}}};const nn=(0,C.c)(sn,[["render",Ks]]);var an=nn,rn={key:0};function on(e,t,s,i,a,r){var o=(0,n.E1)("inter-question-text");return r.texts.length>0?((0,n.Wz)(),(0,n.An)("div",rn,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(r.texts,(function(e,t){return(0,n.Wz)(),(0,n.An)("div",{key:t},[(0,n.wt)((0,n.K2)(o,{class:"questionpane introtext",textobj:e,active:r.showtext[t]},null,8,["textobj","active"]),[[L.Ub,r.showtext[t]]])])})),128))])):(0,n.g1)("",!0)}var un=s(8616),ln={name:"InterQuestionTextSkiplist",props:["qn","pos"],components:{InterQuestionText:un.c},computed:{lastQuestion:function(){return a.i.assessInfo.questions.length-1},showtext:function(){var e=[];for(var t in this.texts){var s=this.texts[t];e[t]="before"===this.pos&&this.qn>=s.displayBefore&&this.qn<=s.displayUntil||"after"===this.pos&&this.qn===this.lastQuestion}return e},texts:function(){if(!a.i.assessInfo.hasOwnProperty("interquestion_text"))return[];var e=[];for(var t in a.i.assessInfo.interquestion_text){var s=a.i.assessInfo.interquestion_text[t];("before"===this.pos&&s.displayBefore<=this.lastQuestion||"after"===this.pos&&s.displayBefore>this.lastQuestion)&&""!==s.text&&e.push({html:s.text,expanded:!0,displayBefore:s.displayBefore,displayUntil:s.displayUntil})}return e}}};const cn=(0,C.c)(ln,[["render",on]]);var pn=cn,dn=s(2104),hn={name:"skip",components:{SkipQuestionHeader:an,Question:Zt.c,InterQuestionTextSkiplist:pn,AssessHeader:Ss.c,IntroText:dn.c,Icons:S.c},computed:{qn:function(){return parseInt(this.$route.params.qn)-1},intro:function(){return a.i.assessInfo.intro},questionArray:function(){for(var e={},t=0;t<a.i.assessInfo.questions.length;t++)e[t]=t;return e}}};const fn=(0,C.c)(hn,[["render",Ts]]);var mn=fn,gn={class:"home"},wn={key:0,class:"headerpane noticetext"},vn=["href"],yn=["href"],bn=["aria-label"],_n={key:1};function qn(e,t,s,i,a,o){var u=(0,n.E1)("assess-header"),l=(0,n.E1)("intro-text"),c=(0,n.E1)("inter-question-text-list"),p=(0,n.E1)("full-question-header"),d=(0,n.E1)("question");return(0,n.Wz)(),(0,n.An)("div",gn,[(0,n.QD)("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[0]||(t[0]=(0,L.Y7)((function(t){return e.$refs.scrollpane.focus()}),["prevent"]))},(0,r.WA)(e.$t("jumptocontent")),1),(0,n.K2)(u),o.isPreviewAll?((0,n.Wz)(),(0,n.An)("p",wn,[(0,n.mY)((0,r.WA)(e.$t("header.preview_all"))+" ",1),(0,n.QD)("button",{type:"button",class:"secondary",onClick:t[1]||(t[1]=function(){return o.showAllAns&&o.showAllAns.apply(o,arguments)})},(0,r.WA)(e.$t("gradebook.show_all_ans")),1),(0,n.QD)("button",{type:"button",class:"secondary",onClick:t[2]||(t[2]=function(t){return e.showTexts=!e.showTexts})},(0,r.WA)(o.textToggleLabel),1),(0,n.QD)("a",{href:o.settingsLink},(0,r.WA)(e.$t("links.settings")),9,vn),(0,n.mY)("Â  "),(0,n.QD)("a",{href:o.questionsLink},(0,r.WA)(e.$t("links.questions")),9,yn)])):(0,n.g1)("",!0),(0,n.QD)("div",{class:"scrollpane fulldisp",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[o.hasIntro?((0,n.Wz)(),(0,n.Az)(l,{key:0,active:e.showTexts,html:o.intro},null,8,["active","html"])):(0,n.g1)("",!0),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.questionArray,(function(t){return(0,n.Wz)(),(0,n.An)("div",{key:t},[(0,n.wt)(((0,n.Wz)(),(0,n.Az)(c,{pos:"beforeexact",qn:t,key:"iqt"+t,textlist:o.textList,lastq:o.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"])),[[L.Ub,e.showTexts]]),(0,n.K2)(p,{qn:t},null,8,["qn"]),((0,n.Wz)(),(0,n.Az)(d,{qn:t,active:"true",key:"q"+t,getwork:1},null,8,["qn"]))])})),128)),(0,n.wt)((0,n.K2)(c,{pos:"after",qn:o.lastQ,textlist:o.textList,lastq:o.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"]),[[L.Ub,e.showTexts]])],8,bn),o.showSubmit?((0,n.Wz)(),(0,n.An)("p",_n,[(0,n.QD)("button",{type:"button",class:"primary",onClick:t[3]||(t[3]=function(){return o.submitAssess&&o.submitAssess.apply(o,arguments)})},(0,r.WA)(e.$t("header.assess_submit")),1)])):(0,n.g1)("",!0)])}var An=s(3749),kn={name:"Full",data:function(){return{showTexts:!0}},components:{Question:Zt.c,AssessHeader:Ss.c,FullQuestionHeader:es.c,InterQuestionTextList:An.c,IntroText:dn.c},computed:{intro:function(){return a.i.assessInfo.intro},hasIntro:function(){return""!==a.i.assessInfo.intro||a.i.assessInfo.resources.length>0},isPreviewAll:function(){return!!a.i.assessInfo.preview_all},questionArray:function(){for(var e={},t=0;t<a.i.assessInfo.questions.length;t++)e[t]=t;return e},lastQ:function(){return a.i.assessInfo.questions.length-1},showSubmit:function(){return"by_assessment"===a.i.assessInfo.submitby},textToggleLabel:function(){return this.showTexts?this.$t("print.hide_text"):this.$t("print.show_text")},textList:function(){return a.i.assessInfo.hasOwnProperty("interquestion_text")?a.i.assessInfo.interquestion_text:[]},settingsLink:function(){return"../course/addassessment2.php?id="+a.i.aid+"&cid="+a.i.cid},questionsLink:function(){return"../course/addquestions2.php?aid="+a.i.aid+"&cid="+a.i.cid}},methods:{submitAssess:function(){a.a.submitAssessment()},showAllAns:function(){window.$("span[id^='ans']").removeClass("hidden").toggle(),window.$(".keybtn").attr("aria-expanded",(function(e,t){return!JSON.parse(t)}))}}};const In=(0,C.c)(kn,[["render",qn]]);var Wn=In,xn={class:"home print"},Dn={class:"assess-header headerpane"},Qn={style:{"flex-grow":"1"}},$n={class:"pii-full-name"},zn={class:"hideonprint headerpane"},Pn={class:"scrollpane"};function On(e,t,s,i,a,o){var u=(0,n.E1)("intro-text"),l=(0,n.E1)("inter-question-text-list"),c=(0,n.E1)("full-question-header"),p=(0,n.E1)("question");return(0,n.Wz)(),(0,n.An)("div",xn,[(0,n.QD)("div",Dn,[(0,n.QD)("h1",Qn,(0,r.WA)(o.ainfo.name),1),(0,n.QD)("div",null,[(0,n.QD)("span",$n,(0,r.WA)(o.ainfo.userfullname),1)])]),(0,n.QD)("p",zn,[(0,n.QD)("strong",null,(0,r.WA)(e.$t("print.print_version")),1),(0,n.QD)("button",{type:"button",class:"primary",onClick:t[0]||(t[0]=function(){return o.doPrint&&o.doPrint.apply(o,arguments)})},(0,r.WA)(e.$t("print.print")),1),(0,n.QD)("button",{type:"button",onClick:t[1]||(t[1]=function(t){return e.showTexts=!e.showTexts})},(0,r.WA)(o.textToggleLabel),1),(0,n.QD)("button",{type:"button",onClick:t[2]||(t[2]=function(t){return e.showQs=!e.showQs})},(0,r.WA)(o.qToggleLabel),1)]),(0,n.QD)("div",Pn,[""!==o.intro?((0,n.Wz)(),(0,n.Az)(u,{key:0,active:e.showTexts,html:o.intro},null,8,["active","html"])):(0,n.g1)("",!0),(0,n.QD)("div",null,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.questionArray,(function(t){return(0,n.Wz)(),(0,n.An)("div",{key:t},[(0,n.wt)(((0,n.Wz)(),(0,n.Az)(l,{pos:"beforeexact",qn:t,key:"iqt"+t,textlist:o.textList,lastq:o.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"])),[[L.Ub,e.showTexts]]),e.showQs?((0,n.Wz)(),(0,n.Az)(c,{key:0,qn:t},null,8,["qn"])):(0,n.g1)("",!0),(0,n.wt)(((0,n.Wz)(),(0,n.Az)(p,{class:"med-left",qn:t,active:e.showQs,key:"q"+t,disabled:!0},null,8,["qn","active"])),[[L.Ub,e.showQs]])])})),128)),(0,n.wt)((0,n.K2)(l,{pos:"after",qn:o.lastQ,active:e.showTexts,textlist:o.textList,lastq:o.lastQ},null,8,["qn","active","textlist","lastq"]),[[L.Ub,e.showTexts]])])])])}var Tn={name:"Print",components:{Question:Zt.c,FullQuestionHeader:es.c,InterQuestionTextList:An.c,IntroText:dn.c},data:function(){return{showTexts:!0,showQs:!0}},computed:{ainfo:function(){return a.i.assessInfo},intro:function(){return a.i.assessInfo.intro},questionArray:function(){for(var e={},t=0;t<a.i.assessInfo.questions.length;t++)e[t]=t;return e},lastQ:function(){return a.i.assessInfo.questions.length-1},textToggleLabel:function(){return this.showTexts?this.$t("print.hide_text"):this.$t("print.show_text")},qToggleLabel:function(){return this.showQs?this.$t("print.hide_qs"):this.$t("print.show_qs")},textList:function(){return a.i.assessInfo.hasOwnProperty("interquestion_text")?a.i.assessInfo.interquestion_text:[]}},methods:{doPrint:function(){window.print()}}};const Sn=(0,C.c)(Tn,[["render",On]]);var En=Sn,Cn={class:"home"},Mn=["aria-label"],jn=["aria-hidden"],Ln={key:0,class:"noqtext"},Kn={key:1},Fn={key:0},Hn=(0,n.QD)("p",null,"Â ",-1),Nn={key:1};function Yn(e,t,s,i,a,o){var u=(0,n.E1)("assess-header"),l=(0,n.E1)("full-paged-nav"),c=(0,n.E1)("intro-text"),p=(0,n.E1)("inter-question-text-list"),d=(0,n.E1)("full-question-header"),h=(0,n.E1)("question"),f=(0,n.E1)("router-link");return(0,n.Wz)(),(0,n.An)("div",Cn,[(0,n.QD)("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[0]||(t[0]=(0,L.Y7)((function(t){return e.$refs.scrollpane.focus()}),["prevent"]))},(0,r.WA)(e.$t("jumptocontent")),1),(0,n.K2)(u),(0,n.K2)(l,{page:o.page},null,8,["page"]),(0,n.QD)("div",{class:"scrollpane",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[(0,n.K2)(c,{active:-1===o.page&&o.hasIntro,html:o.intro},null,8,["active","html"]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.allPages,(function(e,t){return(0,n.Wz)(),(0,n.An)("div",{key:t,class:(0,r.WN)({inactive:t!==o.page}),"aria-hidden":t!==o.page},[0===e[0].questions.length?((0,n.Wz)(),(0,n.An)("div",Ln,[((0,n.Wz)(),(0,n.Az)(p,{pos:"all",textlist:e,lastq:o.lastQ[t],active:t===o.page,key:"iqtp"+t},null,8,["textlist","lastq","active"]))])):((0,n.Wz)(),(0,n.An)("div",Kn,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e[0].questions,(function(s){return(0,n.Wz)(),(0,n.An)("div",{key:s,class:"fullpaged"},[((0,n.Wz)(),(0,n.Az)(p,{pos:"beforeexact",qn:s,key:"iqt"+s,textlist:e,lastq:o.lastQ[t],active:t===o.page},null,8,["qn","textlist","lastq","active"])),(0,n.QD)("div",null,[(0,n.K2)(d,{qn:s},null,8,["qn"]),((0,n.Wz)(),(0,n.Az)(h,{qn:s,active:t===o.page,key:"q"+s,getwork:1},null,8,["qn","active"]))])])})),128)),((0,n.Wz)(),(0,n.Az)(p,{id:"aftertext",pos:"after",qn:e[0].questions[e[0].questions.length-1],key:"iqte"+t,textlist:e,lastq:o.lastQ[t],active:t===o.page},null,8,["qn","textlist","lastq","active"]))]))],10,jn)})),128)),o.page<o.allPages.length-1?((0,n.Wz)(),(0,n.An)("div",Fn,[Hn,(0,n.QD)("p",null,[(0,n.K2)(f,{to:"/full/page/"+(o.page+2)},{default:(0,n.Ql)((function(){return[(0,n.mY)((0,r.WA)(e.$t("pages.next")),1)]})),_:1},8,["to"])])])):o.showSubmit?((0,n.Wz)(),(0,n.An)("p",Nn,[(0,n.QD)("button",{type:"button",class:"primary",onClick:t[1]||(t[1]=function(){return o.submitAssess&&o.submitAssess.apply(o,arguments)})},(0,r.WA)(e.$t("header.assess_submit")),1)])):(0,n.g1)("",!0)],8,Mn)])}var Vn=["aria-label"],Bn=["onClick","onKeypress","disabled","aria-label"],Rn=["onClick","onKeypress","disabled","aria-label"];function Un(e,t,s,i,a,r){var o=this,u=(0,n.E1)("full-paged-list-item"),l=(0,n.E1)("menu-button"),c=(0,n.E1)("icons"),p=(0,n.E1)("router-link");return(0,n.Wz)(),(0,n.An)("div",{class:"subheader pagenav",role:"navigation","aria-label":e.$t("regions.pagenav")},[(0,n.K2)(l,{id:"qnav",options:r.navOptions,selected:r.disppage,searchby:"title"},{default:(0,n.Ql)((function(e){var t=e.option,s=e.selected;return[(0,n.K2)(u,{option:t,selected:s},null,8,["option","selected"])]})),_:1},8,["options","selected"]),r.showNextPrev?((0,n.Wz)(),(0,n.Az)(p,{key:0,to:"/full/page/"+(r.disppage-1),custom:""},{default:(0,n.Ql)((function(t){var i=t.navigate;return[(0,n.QD)("button",{type:"button",onClick:i,onKeypress:(0,L.jj)(i,["enter"]),role:"link",disabled:s.page<(o.hasIntro?0:1),class:"secondarybtn",id:"qprev","aria-label":e.$t("previous")},[(0,n.K2)(c,{name:"left"})],40,Bn)]})),_:1},8,["to"])):(0,n.g1)("",!0),r.showNextPrev?((0,n.Wz)(),(0,n.Az)(p,{key:1,to:"/full/page/"+(r.disppage+1),custom:""},{default:(0,n.Ql)((function(t){var i=t.navigate;return[(0,n.QD)("button",{type:"button",onClick:i,onKeypress:(0,L.jj)(i,["enter"]),role:"link",disabled:s.page>=r.pagesData.length-1,class:"secondarybtn",id:"qnext","aria-label":e.$t("next")},[(0,n.K2)(c,{name:"right"})],40,Rn)]})),_:1},8,["to"])):(0,n.g1)("",!0)],8,Vn)}var Gn={class:"flex-nowrap-center"},Jn={class:"qname-wrap"},Xn={class:"subdued nowrap"};function Zn(e,t,s,i,a,o){var u=(0,n.E1)("icons");return(0,n.Wz)(),(0,n.An)("span",Gn,[(0,n.QD)("span",Jn,["none"!==o.statusIcon?((0,n.Wz)(),(0,n.Az)(u,{key:0,name:o.statusIcon,class:"qstatusicon"},null,8,["name"])):(0,n.g1)("",!0),(0,n.mY)(" "+(0,r.WA)(o.nameDisp),1)]),(0,n.QD)("span",Xn,(0,r.WA)(o.qStatus),1)])}var ei={name:"FullPagedListItem",props:["option","selected"],components:{Icons:S.c},computed:{statusIcon:function(){return 0===this.option.disppage?"none":this.option.numquestions===this.option.numattempted?"attempted":"unattempted"},nameDisp:function(){return 0===this.option.disppage?this.$t("intro"):this.option.title},qStatus:function(){return 0===this.option.disppage||0===this.option.numquestions?"":this.$t("header.answered",{n:this.option.numattempted,tot:this.option.numquestions})}}};const ti=(0,C.c)(ei,[["render",Zn]]);var si=ti,ni={name:"FullPagedNav",props:["page"],components:{Icons:S.c,MenuButton:Hs.c,FullPagedListItem:si},mixins:[tn.K],data:function(){return{}},computed:{disppage:function(){return parseInt(this.page)+1},pagesData:function(){return a.i.assessInfo.interquestion_pages},hasIntro:function(){return""!==a.i.assessInfo.intro||a.i.assessInfo.resources.length>0},navOptions:function(){var e=[];for(var t in this.hasIntro&&(e[0]={internallink:"/full/page/0",title:this.$t("intro"),disppage:0}),this.pagesData){for(var s=parseInt(t)+1,n=0,i=0;i<this.pagesData[t][0].questions.length;i++){var r=this.pagesData[t][0].questions[i];("unattempted"!==a.i.assessInfo.questions[r].status||1===this.qsAttempted[r])&&n++}e[s]={disppage:s,title:this.pagesData[t][0].pagetitle,internallink:"/full/page/"+s,numquestions:this.pagesData[t][0].questions.length,numattempted:n}}return e},showNextPrev:function(){return Object.keys(this.navOptions).length>1}}};const ii=(0,C.c)(ni,[["render",Un]]);var ai=ii,ri={name:"FullPaged",components:{Question:Zt.c,AssessHeader:Ss.c,FullPagedNav:ai,FullQuestionHeader:es.c,InterQuestionTextList:An.c,IntroText:dn.c},computed:{page:function(){return parseInt(this.$route.params.page)-1},allPages:function(){return a.i.assessInfo.interquestion_pages},intro:function(){return a.i.assessInfo.intro},hasIntro:function(){return""!==a.i.assessInfo.intro||a.i.assessInfo.resources.length>0},showSubmit:function(){return"by_assessment"===a.i.assessInfo.submitby},lastQ:function(){var e,t=[];for(var s in this.allPages)e=this.allPages[s][0].questions,t[s]=e[e.length-1];return t}},methods:{submitAssess:function(){a.a.submitAssessment()}}};const oi=(0,C.c)(ri,[["render",Yn]]);var ui=oi,li=function(){return s.e(12).then(s.bind(s,8352))},ci=function(){return s.e(12).then(s.bind(s,4132))},pi=(0,i.gv)({history:(0,i.Ow)(window.imasroot+"/assess2/"),routes:[{path:"/",name:"launch",component:We,beforeEnter:function(e,t,s){("yes"===a.i.assessInfo.available||"practice"===a.i.assessInfo.available&&a.i.assessInfo.in_practice)&&(a.i.assessInfo.has_active_attempt||a.i.assessInfo.can_retake)?s():s({path:"/closed",replace:!0})}},{path:"/closed",name:"closed",component:et,beforeEnter:function(e,t,s){("yes"===a.i.assessInfo.available||"practice"===a.i.assessInfo.available&&a.i.assessInfo.in_practice)&&(a.i.assessInfo.has_active_attempt||a.i.assessInfo.can_retake)?s({path:"/",replace:!0}):s()}},{path:"/skip/:qn",name:"skip",component:mn,beforeEnter:function(e,t,s){a.i.inProgress?s():s({path:"/",replace:!0})}},{path:"/full",name:"full",component:Wn,beforeEnter:function(e,t,s){a.i.inProgress?s():s({path:"/",replace:!0})}},{path:"/full/page/:page",name:"fullpaged",component:ui,beforeEnter:function(e,t,s){a.i.inProgress?s():s({path:"/",replace:!0})}},{path:"/videocued",component:li,beforeEnter:function(e,t,s){a.i.inProgress?s():s({path:"/",replace:!0})}},{path:"/livepoll",component:ci,beforeEnter:function(e,t,s){a.i.inProgress?s():s({path:"/",replace:!0})}},{path:"/summary",name:"summary",component:vs,beforeEnter:function(e,t,s){!("yes"===a.i.assessInfo.available||"practice"===a.i.assessInfo.available&&a.i.assessInfo.in_practice)||a.i.assessInfo.has_active_attempt&&"by_question"!==a.i.assessInfo.submitby?s({path:"/",replace:!0}):s()}},{path:"/showwork",name:"showwork",component:Qs,beforeEnter:function(e,t,s){a.i.assessInfo.in_practice||a.i.assessInfo.has_active_attempt&&"by_question"!==a.i.assessInfo.submitby?s({path:"/",replace:!0}):s()}},{path:"/print",name:"print",component:En,beforeEnter:function(e,t,s){if("yes"===a.i.assessInfo.available&&a.i.assessInfo.has_active_attempt||"practice"===a.i.assessInfo.available||a.i.assessInfo.can_view_all)if(a.i.inPrintView=!0,a.i.assessInfo.hasOwnProperty("questions"))s();else{var n="practice"===a.i.assessInfo.available;a.a.startAssess(n,"",[],(function(){return s()}))}else s({path:"/",replace:!0})}}],scrollBehavior:function(e,t,s){return s||{x:0,y:0}}});pi.beforeEach((function(e,t,s){"undefined"!==typeof window.APIbase?a.i.APIbase=window.APIbase:a.i.APIbase="vue/";var n=window.location.search.replace(/^.*cid=(\d+).*$/,"$1"),i=window.location.search.replace(/^.*aid=(\d+).*$/,"$1"),r=0;window.location.search.match(/uid=/)&&(r=window.location.search.replace(/^.*uid=(\d+).*$/,"$1")),null===a.i.assessInfo||a.i.cid!==n||a.i.aid!==i||a.i.uid!==r?(a.i.cid=n,window.cid=n,a.i.aid=i,a.i.uid=r,a.i.queryString="?cid="+a.i.cid+"&aid="+a.i.aid,0!==a.i.uid&&(a.i.queryString+="&uid="+a.i.uid),a.a.loadAssessData((function(){return s()}))):s()})),pi.afterEach((function(e,t){(0,n.o$)(window.sendLTIresizemsg)}));var di=pi},6016:function(e,t,s){s.d(t,{c:function(){return M}});s(1408);var n=s(6760),i=s(6372),a=["aria-label"],r={style:{"flex-grow":"1"}},o={class:"med-left subdued"},u={class:"flexgroup"},l=["disabled"],c={key:1,class:"noticetext"},p=["disabled"],d={class:"assess-header"},h=["href","aria-label"],f=["aria-label","aria-pressed"],m=(0,n.QD)("span",{class:"switch-toggle__ui"},null,-1);function g(e,t,s,g,w,v){var y=(0,n.E1)("timer"),b=(0,n.E1)("icons"),_=(0,n.E1)("resource-pane"),q=(0,n.E1)("dropdown"),A=(0,n.E1)("tooltip-span"),k=(0,n.E1)("badged-icon"),I=(0,n.E1)("lti-menu");return(0,n.Wz)(),(0,n.An)("div",{id:"assess-header",class:(0,i.WN)({"assess-header":!0,headerpane:!0,practice:v.ainfo.in_practice}),role:"region","aria-label":e.$t("regions.aheader")},[(0,n.QD)("div",r,[(0,n.QD)("h1",null,(0,i.WA)(v.ainfo.name),1),(0,n.QD)("div",null,[(0,n.QD)("span",{class:(0,i.WN)({practicenotice:v.ainfo.in_practice})},(0,i.WA)(v.curScorePoints),3),(0,n.QD)("span",o,(0,i.WA)(v.curAnswered),1)])]),v.ainfo.timelimit>0?((0,n.Wz)(),(0,n.Az)(y,{key:0,total:v.ainfo.timelimit,end:v.ainfo.timelimit_local_expires,grace:v.ainfo.timelimit_local_grace},null,8,["total","end","grace"])):(0,n.g1)("",!0),(0,n.QD)("div",u,[3===v.saveStatus?((0,n.Wz)(),(0,n.An)("button",{key:0,class:"secondary",onClick:t[0]||(t[0]=function(){return v.handleSaveWork&&v.handleSaveWork.apply(v,arguments)}),disabled:!v.canSubmit},(0,i.WA)(e.$t("header.work_save")),9,l)):(0,n.g1)("",!0),1===v.saveStatus||2===v.saveStatus?((0,n.Wz)(),(0,n.An)("span",c,(0,i.WA)(1===v.saveStatus?e.$t("header.work_saving"):e.$t("header.work_saved")),1)):(0,n.g1)("",!0),""!==v.assessSubmitLabel?((0,n.Wz)(),(0,n.An)("button",{key:2,class:(0,i.WN)({primary:v.primarySubmit,secondary:!v.primarySubmit}),onClick:t[1]||(t[1]=function(){return v.handleSubmit&&v.handleSubmit.apply(v,arguments)}),disabled:!v.canSubmit},(0,i.WA)(v.assessSubmitLabel),11,p)):(0,n.g1)("",!0)]),(0,n.QD)("div",d,[v.ainfo.resources.length>0?((0,n.Wz)(),(0,n.Az)(q,{key:0,id:"resource-dropdown",tip:e.$t("header.resources_header")},{button:(0,n.Ql)((function(){return[(0,n.K2)(b,{name:"file",size:"medium"})]})),default:(0,n.Ql)((function(){return[(0,n.K2)(_)]})),_:1},8,["tip"])):(0,n.g1)("",!0),v.showPrint?((0,n.Wz)(),(0,n.Az)(A,{key:1,tip:e.$t("print.print_version")},{default:(0,n.Ql)((function(){return[(0,n.QD)("a",{href:v.printLink,class:"noextlink",target:"_blank","aria-label":e.$t("print.print_version")},[(0,n.K2)(b,{name:"print",size:"medium"})],8,h)]})),_:1},8,["tip"])):(0,n.g1)("",!0),(0,n.K2)(A,{tip:v.MQenabled?e.$t("header.disable_mq"):e.$t("header.enable_mq"),style:{display:"inline-block"}},{default:(0,n.Ql)((function(){return[(0,n.QD)("button",{onClick:t[2]||(t[2]=function(){return v.toggleMQuse&&v.toggleMQuse.apply(v,arguments)}),class:(0,i.WN)({plain:!0,"switch-toggle":!0}),"aria-label":v.MQenabled?e.$t("header.disable_mq"):e.$t("header.enable_mq"),"aria-pressed":v.MQenabled},[(0,n.K2)(b,{name:v.MQenabled?"eqned":"eqnedoff",color:v.MQenabled?"#060":"#600",size:"medium"},null,8,["name","color"]),m],8,f)]})),_:1},8,["tip"]),v.ainfo.is_lti&&v.ainfo.lti_showmsg?((0,n.Wz)(),(0,n.Az)(k,{key:2,link:v.msglink,icon:"message",label:"lti.msgs",cnt:v.ainfo.lti_msgcnt},null,8,["link","cnt"])):(0,n.g1)("",!0),v.ainfo.is_lti&&v.ainfo.help_features.forum>0?((0,n.Wz)(),(0,n.Az)(k,{key:3,link:v.forumlink,icon:"forum",label:"lti.forum",cnt:v.ainfo.lti_forumcnt},null,8,["link","cnt"])):(0,n.g1)("",!0),v.ainfo.is_lti?((0,n.Wz)(),(0,n.Az)(I,{key:4})):(0,n.g1)("",!0)])],10,a)}s(1040),s(2644),s(8824);var w=s(440),v=s(2608),y=s(5936),b=s(5860);function _(e,t,s,i,a,r){var o=(0,n.E1)("icons"),u=(0,n.E1)("menu-button");return(0,n.Wz)(),(0,n.Az)(u,{options:r.LtiOptions,position:"right",nobutton:"true",noarrow:"true",searchby:"label",id:"ltimenubutton",header:e.$t("lti.more")},{button:(0,n.Ql)((function(){return[(0,n.K2)(o,{name:"more",size:"medium"})]})),_:1},8,["options","header"])}s(3248);var q=s(7548),A=s(7296),k={name:"LtiMenu",components:{MenuButton:q.c,Icons:b.c},computed:{LtiOptions:function(){var e=this,t=[];return t.push({label:this.$t("lti.userprefs"),onclick:function(){window.GB_show(e.$t("lti.userprefs"),A.i.APIbase+"../admin/ltiuserprefs.php?cid="+A.i.cid+"&greybox=true",800,"auto",!0,0,0,{label:"Update Info",func:"doSubmit"})}}),A.i.assessInfo.in_practice&&A.i.assessInfo.prev_attempts.length>0&&t.push({label:this.$t("closed.view_scored"),link:A.i.APIbase+"gbviewassess.php?cid="+A.i.cid+"&aid="+A.i.aid+"&uid="+A.i.uid,target:"_self"}),A.i.assessInfo.can_use_latepass&&t.push({label:this.$t("lti.use_latepass"),link:A.i.APIbase+"../course/redeemlatepass.php?cid="+A.i.cid+"&aid="+A.i.aid,target:"_self"}),t}}},I=s(8152);const W=(0,I.c)(k,[["render",_]]);var x=W,D=s(6676),Q=(s(4956),["href","aria-label"]),$={key:0,class:"badgeicon"};function z(e,t,s,a,r,o){var u=(0,n.E1)("icons"),l=(0,n.E1)("tooltip-span");return(0,n.Wz)(),(0,n.Az)(l,{tip:e.$tc(s.label,s.cnt),style:{display:"inline-block"}},{default:(0,n.Ql)((function(){return[(0,n.QD)("a",{href:s.link,class:"noextlink badgewrap",target:"_blank","aria-label":e.$tc(s.label,s.cnt)},[(0,n.K2)(u,{name:s.icon,size:"medium"},null,8,["name"]),s.cnt>0?((0,n.Wz)(),(0,n.An)("div",$,(0,i.WA)(s.cnt),1)):(0,n.g1)("",!0)],8,Q)]})),_:1},8,["tip"])}var P={name:"BadgedIcon",props:["link","icon","label","cnt"],components:{Icons:b.c,TooltipSpan:D.c},computed:{msglink:function(){return A.i.APIbase+"../msgs/msglist.php?cid="+A.i.cid},msgcnt:function(){return A.i.assessInfo.lti_msgcnt}}};const O=(0,I.c)(P,[["render",z]]);var T=O,S=s(2627),E={name:"AssessHeader",components:{Icons:b.c,LtiMenu:x,Dropdown:v.c,ResourcePane:y.c,Timer:w.c,TooltipSpan:D.c,BadgedIcon:T},data:function(){return{resourceMenuShowing:!1}},mixins:[S.K],computed:{ainfo:function(){return A.i.assessInfo},canSubmit:function(){return!A.i.inTransit},primarySubmit:function(){return"by_assessment"===this.ainfo.submitby&&Object.keys(A.i.initValues).length===this.ainfo.questions.length||"by_question"===this.ainfo.submitby&&this.qAttempted===this.ainfo.questions.length},curScorePoints:function(){var e=0,t=0;for(var s in this.ainfo.questions)0===this.ainfo.questions[s].extracredit&&(e+=1*this.ainfo.questions[s].points_possible),this.ainfo.show_scores_during&&this.ainfo.questions[s].hasOwnProperty("gbscore")&&(t+=1*this.ainfo.questions[s].gbscore);return t=Math.round(1e3*t)/1e3,this.ainfo.in_practice?this.$t("header.practicescore",{pts:t,poss:e}):this.ainfo.show_scores_during?this.$t("header.score",{pts:t,poss:e}):this.$tc("header.possible",e)},qAttempted:function(){for(var e=0,t=0;t<this.qsAttempted.length;t++)1===this.qsAttempted[t]&&e++;return e},curAnswered:function(){var e=this.ainfo.questions.length;return this.$t("header.answered",{n:this.qAttempted,tot:e})},assessSubmitLabel:function(){return"by_assessment"===this.ainfo.submitby?this.$t("header.assess_submit"):this.hasShowWorkAfter?this.$t("work.add"):"during"===this.ainfo.showscores?this.$t("header.done"):""},saveStatus:function(){return A.i.autoSaving?1:0!==Object.keys(A.i.autosaveQueue).length||A.i.somethingDirty?3:2},showPrint:function(){return 1!==this.ainfo.noprint},printLink:function(){return window.location.pathname+window.location.search+"#/print"},MQenabled:function(){return A.i.enableMQ},hasShowWorkAfter:function(){for(var e=!1,t=0;t<A.i.assessInfo.questions.length;t++)if(2&A.i.assessInfo.questions[t].showwork){e=!0;break}return e},msglink:function(){return A.i.APIbase+"../msgs/msglist.php?cid="+A.i.cid},forumlink:function(){return A.i.APIbase+"../forums/thread.php?cid="+A.i.cid+"&forum= "+this.ainfo.help_features.forum}},methods:{handleSubmit:function(){"by_assessment"===this.ainfo.submitby?A.a.submitAssessment():A.a.gotoSummary()},handleSaveWork:function(){0===Object.keys(A.i.autosaveQueue).length?(A.i.autoSaving=!0,setTimeout((function(){A.i.autoSaving=!1}),300)):A.a.submitAutosave()},toggleMQuse:function(){A.i.enableMQ?A.a.disableMQ():A.a.enableMQ()}}};const C=(0,I.c)(E,[["render",g]]);var M=C},6092:function(e,t,s){s.d(t,{c:function(){return g}});var n=s(6760),i=s(6372),a={class:"full-question-header"},r={style:{"flex-grow":"1"}},o={key:0,class:"small subdued"};function u(e,t,s,u,l,c){var p=(0,n.E1)("icons"),d=(0,n.E1)("question-header-icons");return(0,n.Wz)(),(0,n.An)("div",a,[(0,n.QD)("div",r,[(0,n.K2)(p,{name:c.statusIcon,class:"qstatusicon"},null,8,["name"]),(0,n.QD)("h2",{class:(0,i.WN)({inlineheader:!0,greystrike:0!==c.curQData.withdrawn})},[(0,n.mY)((0,i.WA)(e.$t("question_n",{n:c.dispqn}))+" ",1),c.curQData.extracredit?((0,n.Wz)(),(0,n.An)("em",o,(0,i.WA)(e.$t("extracredit")),1)):(0,n.g1)("",!0)],2)]),(0,n.K2)(d,{showscore:!0,curQData:c.curQData,qn:s.qn,showretry:s.showretry},null,8,["curQData","qn","showretry"])])}var l=s(494),c=s(5860),p=s(2627),d=s(7296),h={name:"SkipQuestionHeader",props:["qn","showretry"],components:{QuestionHeaderIcons:l.c,Icons:c.c},mixins:[p.K],data:function(){return{}},computed:{ainfo:function(){return d.i.assessInfo},curQData:function(){return d.i.assessInfo.questions[this.qn]},dispqn:function(){return parseInt(this.qn)+1},statusIcon:function(){if(0===this.dispqn)return"none";if("unattempted"===this.curQData.status){if(1===this.qsAttempted[this.qn])return"attempted";if(this.qsAttempted[this.qn]>0)return"partattempted"}return this.curQData.status},nameHover:function(){return 0!==this.curQData.withdrawn?this.$t("header.withdrawn"):""}}},f=s(8152);const m=(0,f.c)(h,[["render",u]]);var g=m},2104:function(e,t,s){s.d(t,{c:function(){return h}});var n=s(6760),i=s(5328),a={class:"questionpane introtext"},r=["innerHTML"];function o(e,t,s,o,u,l){var c=(0,n.E1)("resource-pane");return(0,n.wt)(((0,n.Wz)(),(0,n.An)("div",a,[""!==s.html?((0,n.Wz)(),(0,n.An)("div",{key:0,innerHTML:s.html,ref:"introtext"},null,8,r)):(0,n.g1)("",!0),(0,n.K2)(c,{showicon:!0,style:{display:"inline-block"}})],512)),[[i.Ub,s.active]])}var u=s(5120),l=s(5936),c={name:"IntroText",components:{ResourcePane:l.c},props:["html","active"],mounted:function(){""!==this.html&&(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.introtext),window.initSageCell(this.$refs.introtext),window.initlinkmarkup(this.$refs.introtext))},watch:{active:function(e,t){!1===e&&""!==this.html&&(0,u.k)(this.$refs.introtext)}}},p=s(8152);const d=(0,p.c)(c,[["render",o]]);var h=d},860:function(e,t,s){s.d(t,{c:function(){return y}});var n=s(6760),i=s(6372),a={class:"qdetails"},r={key:0},o={key:0},u={key:1},l={key:2},c={key:0},p={key:1},d={key:2};function h(e,t,s,h,f,m){var g=(0,n.E1)("icons"),w=(0,n.E1)("penalties-applied");return(0,n.Wz)(),(0,n.An)("table",a,[s.caption?((0,n.Wz)(),(0,n.An)("caption",r,(0,i.WA)(s.caption),1)):(0,n.g1)("",!0),(0,n.QD)("thead",null,[(0,n.QD)("tr",null,[(0,n.QD)("th",null,(0,i.WA)(e.$t("qdetails.part")),1),m.showScore?((0,n.Wz)(),(0,n.An)("th",o,(0,i.WA)(e.$t("qdetails.score")),1)):(0,n.g1)("",!0),m.doShowTries?((0,n.Wz)(),(0,n.An)("th",u,(0,i.WA)(e.$t("qdetails.try")),1)):(0,n.g1)("",!0),m.hasPenalty?((0,n.Wz)(),(0,n.An)("th",l,(0,i.WA)(e.$t("qdetails.penalties")),1)):(0,n.g1)("",!0)])]),(0,n.QD)("tbody",null,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(m.parts,(function(e,t){return(0,n.Wz)(),(0,n.An)("tr",{key:t},[(0,n.QD)("td",null,[(0,n.K2)(g,{name:m.partIcons[t]},null,8,["name"]),(0,n.mY)(" "+(0,i.WA)(t+1),1)]),m.showScore?((0,n.Wz)(),(0,n.An)("td",c,(0,i.WA)(e.score)+"/"+(0,i.WA)(e.points_possible),1)):(0,n.g1)("",!0),m.doShowTries?((0,n.Wz)(),(0,n.An)("td",p,(0,i.WA)(m.triesRemaining[t]),1)):(0,n.g1)("",!0),m.hasPenalty?((0,n.Wz)(),(0,n.An)("td",d,[-1!=m.partHasPenalties.indexOf(t)?((0,n.Wz)(),(0,n.Az)(w,{key:0,part:e,submitby:s.submitby},null,8,["part","submitby"])):(0,n.g1)("",!0)])):(0,n.g1)("",!0)])})),128))])])}s(3248);var f=s(5860),m=s(7864),g={name:"QuestionDetailsTable",props:["qinfo","caption","showtries","submitby"],components:{Icons:f.c,PenaltiesApplied:m.c},computed:{parts:function(){return this.qinfo.parts},doShowTries:function(){return!(!1===this.showtries)},partHasPenalties:function(){for(var e=[],t=0;t<this.parts.length;t++)this.parts[t].hasOwnProperty("penalties")&&this.parts[t].penalties.length>0&&e.push(t);return e},triesRemaining:function(){for(var e=[],t=0;t<this.parts.length;t++)0===this.parts[t].points_possible?e[t]="":this.qinfo.hasOwnProperty("did_jump_to_ans")?e[t]=0:e[t]=this.qinfo.tries_max-this.parts[t].try;return e},hasPenalty:function(){return this.partHasPenalties.length>0},showScore:function(){return this.qinfo.hasOwnProperty("score")},partIcons:function(){for(var e=[],t=0;t<this.parts.length;t++)0===this.parts[t].try?e[t]="unattempted":this.parts[t].hasOwnProperty("rawscore")?this.parts[t].rawscore>.99?e[t]="correct":this.parts[t].rawscore<.01?e[t]="incorrect":e[t]="partial":e[t]="attempted";return e}}},w=s(8152);const v=(0,w.c)(g,[["render",h]]);var y=v},494:function(e,t,s){s.d(t,{c:function(){return z}});var n=s(6760),i=s(6372),a={class:"headericons"};function r(e,t,s,r,o,u){var l=(0,n.E1)("icons"),c=(0,n.E1)("tooltip-span"),p=(0,n.E1)("question-details-pane"),d=(0,n.E1)("dropdown");return(0,n.Wz)(),(0,n.An)("div",a,[""!==u.scoreDisplay?((0,n.Wz)(),(0,n.Az)(c,{key:0,tip:u.scoreTip},{default:(0,n.Ql)((function(){return[(0,n.K2)(l,{name:"square-check"}),(0,n.mY)(" "+(0,i.WA)(u.scoreDisplay),1)]})),_:1},8,["tip"])):(0,n.g1)("",!0),s.qn>=0&&s.curQData.canretry&&!1!==s.showretry?((0,n.Wz)(),(0,n.Az)(c,{key:1,tip:u.retryInfo.msg},{default:(0,n.Ql)((function(){return[(0,n.K2)(l,{name:"retry"}),(0,n.mY)(" "+(0,i.WA)(u.retryInfo.cnt),1)]})),_:1},8,["tip"])):(0,n.g1)("",!0),s.qn>=0&&s.curQData.canregen&&!1!==s.showretry?((0,n.Wz)(),(0,n.Az)(c,{key:2,tip:e.$tc("qinfo.regens_remaining",s.curQData.regens_remaining)},{default:(0,n.Ql)((function(){return[(0,n.K2)(l,{name:"retake"}),(0,n.mY)(" "+(0,i.WA)(s.curQData.regens_remaining),1)]})),_:1},8,["tip"])):(0,n.g1)("",!0),u.showDetails?((0,n.Wz)(),(0,n.Az)(d,{key:3,id:"qd-dd-"+s.qn,class:"question-details",tip:e.$t("qdetails.question_details")},{button:(0,n.Ql)((function(){return[(0,n.K2)(l,{name:"info",size:"medium"}),(0,n.mY)(" "+(0,i.WA)(e.$t("header.details")),1)]})),default:(0,n.Ql)((function(){return[(0,n.K2)(p,{qn:s.qn},null,8,["qn"])]})),_:1},8,["id","tip"])):(0,n.g1)("",!0)])}var o={class:"pane-header nowrap"},u={class:"pane-body"},l={key:0},c={key:1},p={class:"nowrap"},d={key:2},h={class:"nowrap"},f={key:4},m={key:5},g={class:"small subdued",style:{"text-align":"right"}},w=["href"];function v(e,t,s,a,r,v){var y=(0,n.E1)("question-details-table"),b=(0,n.E1)("penalties-applied");return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("div",o,(0,i.WA)(e.$t("qdetails.question_details")),1),(0,n.QD)("div",u,[1===v.qinfo.extracredit?((0,n.Wz)(),(0,n.An)("p",l,(0,i.WA)(e.$t("qdetails.extracredit")),1)):(0,n.g1)("",!0),v.showGBScore?((0,n.Wz)(),(0,n.An)("p",c,[(0,n.mY)((0,i.WA)(v.gbScoreString)+": ",1),(0,n.QD)("span",p,(0,i.WA)(e.$tc("scoreresult.scorepts",v.qinfo.points_possible,{pts:v.qinfo.gbscore,poss:v.qinfo.points_possible})),1)])):(0,n.g1)("",!0),v.showScore?((0,n.Wz)(),(0,n.An)("p",d,[(0,n.mY)((0,i.WA)(e.$t("qdetails.lastscore"))+": ",1),(0,n.QD)("span",h,(0,i.WA)(e.$tc("scoreresult.scorepts",v.qinfo.points_possible,{pts:v.qinfo.score,poss:v.qinfo.points_possible})),1)])):(0,n.g1)("",!0),v.hasParts?((0,n.Wz)(),(0,n.Az)(y,{key:3,caption:e.$t("qdetails.lasttry"),qinfo:v.qinfo,submitby:v.submitby},null,8,["caption","qinfo","submitby"])):(0,n.g1)("",!0),v.hasOnePartPenalties?((0,n.Wz)(),(0,n.An)("div",f,[(0,n.QD)("p",null,(0,i.WA)(e.$t("penalties.applied"))+":",1),(0,n.K2)(b,{class:"med-left",part:v.qinfo.parts[0],submitby:v.submitby},null,8,["part","submitby"])])):(0,n.g1)("",!0),v.hasCategory?((0,n.Wz)(),(0,n.An)("p",m,[(0,n.QD)("strong",null,(0,i.WA)(e.$t("qdetails.category"))+":",1),(0,n.mY)(" "+(0,i.WA)(v.qinfo.category),1)])):(0,n.g1)("",!0),(0,n.QD)("p",g,[(0,n.QD)("a",{target:"license",href:v.licenseUrl},(0,i.WA)(e.$t("qdetails.license")),9,w)])])])}var y=s(7296),b=s(860),_=s(7864),q={name:"QuestionDetailPane",props:["qn","className","id"],components:{QuestionDetailsTable:b.c,PenaltiesApplied:_.c},computed:{qinfo:function(){return y.i.assessInfo.questions[this.qn]},hasParts:function(){return this.qinfo.hasOwnProperty("parts")&&this.qinfo.parts.length>1&&0===this.qinfo.withdrawn&&this.qinfo.parts[0].hasOwnProperty("points_possible")&&!this.qinfo.singlescore},hasOnePartPenalties:function(){return this.qinfo.hasOwnProperty("parts")&&1===this.qinfo.parts.length&&this.qinfo.parts[0].hasOwnProperty("penalties")&&this.qinfo.parts[0].penalties.length>0},showScore:function(){return this.qinfo.hasOwnProperty("score")},showGBScore:function(){return this.qinfo.hasOwnProperty("gbscore")},gbScoreString:function(){return y.i.assessInfo.in_practice?this.$t("qdetails.bestpractice"):this.$t("qdetails.gbscore")},hasCategory:function(){return 1===y.i.assessInfo.showcat&&this.qinfo.hasOwnProperty("category")&&""!==this.qinfo.category&&null!==this.qinfo.category},submitby:function(){return y.i.assessInfo.submitby},licenseUrl:function(){return window.imasroot+"/course/showlicense.php?id="+this.qinfo.questionsetid}}},A=s(8152);const k=(0,A.c)(q,[["render",v]]);var I=k,W=s(2608),x=s(6676),D=s(5860),Q={name:"QuestionHeaderIcons",props:["showscore","curQData","qn","showretry"],components:{Dropdown:W.c,Icons:D.c,QuestionDetailsPane:I,TooltipSpan:x.c},computed:{dispqn:function(){return parseInt(this.qn)+1},scoreDisplay:function(){return 0===this.dispqn?"":this.showscore&&this.curQData.hasOwnProperty("gbscore")&&this.curQData.tries_max>1?this.curQData.gbscore+"/"+this.$tc("header.pts",this.curQData.points_possible):this.$tc("header.pts",this.curQData.points_possible)},scoreTip:function(){return this.showscore&&this.curQData.hasOwnProperty("gbscore")&&this.curQData.tries_max>1?this.$t("qdetails.gbscore"):this.$tc("header.possible",this.curQData.points_possible)},retryInfo:function(){if(this.qn<0)return{};var e,t;if(this.curQData.hasOwnProperty("tries_remaining_range")){var s=this.curQData.tries_remaining_range;e=this.$t("qinfo.tries_remaining_range",{min:s[0],max:s[1]}),t=s[0]+"-"+s[1]}else e=this.$tc("qinfo.tries_remaining",this.curQData.tries_remaining),t=this.curQData.tries_remaining;return{msg:e,cnt:t}},showDetails:function(){if(this.qn<0)return!1;var e=this.curQData.hasOwnProperty("category")&&""!==this.curQData.category;return this.curQData.has_details||e||this.curQData.hasOwnProperty("gbscore")}}};const $=(0,A.c)(Q,[["render",r]]);var z=$},5936:function(e,t,s){s.d(t,{c:function(){return w}});s(4956);var n=s(6760),i=s(6372),a={key:0,id:"resource-pane"},r={class:"pane-header"},o={class:"pane-body"},u={style:{"flex-grow":"1","margin-right":"12px"}},l=["onClick","title","aria-label"],c=["href","target","title","aria-label"];function p(e,t,s,p,d,h){var f=(0,n.E1)("icons");return h.assessResources.length>0?((0,n.Wz)(),(0,n.An)("div",a,[(0,n.QD)("div",r,[s.showicon?((0,n.Wz)(),(0,n.Az)(f,{key:0,name:"file"})):(0,n.g1)("",!0),(0,n.mY)(" Resources ")]),(0,n.QD)("div",o,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(h.assessResources,(function(t,s){return(0,n.Wz)(),(0,n.An)("div",{key:s,class:"flexrow"},[(0,n.QD)("span",u,(0,i.WA)(t.label),1),(0,n.QD)("button",{onClick:function(e){return h.popout(t)},class:"min1000",title:e.$t("resource.sidebar"),"aria-label":e.$t("resource.sidebar")+" "+t.label},[(0,n.K2)(f,{name:"sidebar",alt:""})],8,l),(0,n.QD)("a",{class:"abutton",href:t.link,target:"res"+s,title:e.$t("resource.newtab"),"aria-label":e.$t("resource.newtab")+" "+t.label},[(0,n.K2)(f,{name:"extlink",alt:""})],8,c)])})),128))])])):(0,n.g1)("",!0)}var d=s(7296),h=s(5860),f={name:"ResourcePane",props:["showicon"],components:{Icons:h.c},computed:{assessResources:function(){return d.i.assessInfo.resources},docEl:function(){return window.document.documentElement}},methods:{popout:function(e){window.GB_show(e.label,e.link,760,"auto",!1,"left",["skip-question-header","assess-header","resource-dropdown"])}}},m=s(8152);const g=(0,m.c)(f,[["render",p]]);var w=g},3492:function(e,t,s){s.d(t,{c:function(){return y}});var n=s(6760),i=s(6372),a={class:"showworkwrap"},r={key:0},o=["id","rows"],u={key:1,class:"feedbackwrap"},l={class:"nomark"},c=["href"],p=["onClick"],d={key:0,class:"noticetext"},h=(0,n.QD)("div",null,null,-1);function f(e,t,s,f,m,g){return(0,n.Wz)(),(0,n.An)("div",a,[0===g.worktype?((0,n.Wz)(),(0,n.An)("div",r,[(0,n.mY)((0,i.WA)(e.$t("question.showwork"))+" ",1),(0,n.QD)("textarea",{id:g.computedId,ref:"inbox",class:"fbbox swbox",rows:s.rows},null,8,o)])):((0,n.Wz)(),(0,n.An)("div",u,[(0,n.mY)((0,i.WA)(e.$t("question.uploadwork"))+" ",1),(0,n.QD)("ul",l,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e.filelist,(function(t,s){return(0,n.Wz)(),(0,n.An)("li",{key:s},[(0,n.QD)("a",{href:t,class:"attach",target:"_blank"},(0,i.WA)(t.split("/").pop()),9,c),(0,n.QD)("button",{onClick:function(e){return g.removeFile(s)}},(0,i.WA)(e.$t("group.remove")),9,p)])})),128)),(0,n.QD)("li",null,[(0,n.QD)("input",{type:"file",ref:"fileinput",onChange:t[0]||(t[0]=function(){return g.uploadFile&&g.uploadFile.apply(g,arguments)})},null,544),e.uploading?((0,n.Wz)(),(0,n.An)("span",d,(0,i.WA)(e.$t("question.uploading")),1)):(0,n.g1)("",!0)])]),h]))])}s(3248),s(6468),s(9640),s(2644),s(5716),s(2888),s(4004);var m=s(7296),g={name:"ShowworkInput",props:{id:{default:null},value:{default:""},rows:{default:2},active:{default:!0}},data:function(){return{objTinymce:null,filelist:[],uploading:!1}},computed:{computedId:function(){return"editor"===this.id||""===this.id||null===this.id?"editor-"+this.guidGenerator():this.id},worktype:function(){return 4===m.i.assessInfo.showworktype?1:0}},mounted:function(){0===this.worktype&&(this.$refs.inbox.innerHTML=this.value),this.active&&this.initEditor()},updated:function(){this.active&&0===this.worktype&&this.initEditor()},methods:{guidGenerator:function(){function e(){return Math.random().toString(36).substr(2,9)}return"ed-"+e()+"-"+e()},initEditor:function(){var e=this;1===this.worktype?(window.$(this.$refs.fileinput).on("focus",(function(t){e.$emit("focus",!0)})),this.updateFilelist(this.value),this.objTinymce={value:this.value}):window.tinymce?window.initeditor("exact",this.computedId,null,!1,(function(t){t.on("input change keyup undo redo",(function(s){e.updateValue(t.getContent())})).on("blur",(function(t){e.$emit("blur",!0)})).on("focus",(function(t){e.$emit("focus",!0)})),e.objTinymce=t})):(window.$(this.$refs.inbox).on("focus",(function(t){e.$emit("focus",!0)})).on("blur",(function(t){e.$emit("blur",!0)})).on("input change keyup undo redo",(function(t){e.updateValue(t.target.value)})),e.objTinymce=this.$refs.inbox)},updateFilelist:function(e){var t=[],s=e.match(/<(a[^>]*href|img[^>]*src)="(.*?)"/g);if(null!==s)for(var n=0;n<s.length;n++)t.push(s[n].replace(/^.*?(href|src)="(.*?)"/,"$2"));this.filelist=t},updateValue:function(e){e.length>3e4&&(e=e.substr(0,3e4)),this.$emit("input",e)},focus:function(){this.objTinymce.focus()},uploadFile:function(){var e=this;window.doImageUploadResize(this.$refs.fileinput,(function(t){if(t.files[0].size>1536e4)return m.a.handleError("file_toolarge"),void(e.$refs.fileinput.value="");var s=new FormData;s.append("type","attach"),s.append("file",t.files[0]),e.uploading=!0,window.$.ajax({url:m.i.APIbase.replace(/\/\w+\/$/,"")+"/tinymce4/upload_handler.php",type:"POST",dataType:"json",data:s,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.location?(e.filelist.push(t.location),e.updateValueFromFilelist()):m.a.handleError("file_upload_error")})).fail((function(e){m.a.handleError("file_upload_error")})).always((function(){e.$refs.fileinput.value=null,e.uploading=!1}))}))},removeFile:function(e){var t=this;m.i.confirmObj={body:"work.remove",action:function(){var s=t.filelist[e];t.filelist.splice(e,1),t.updateValueFromFilelist(),window.$.ajax({url:m.i.APIbase+"../tinymce4/upload_handler.php",type:"POST",dataType:"json",data:{remove:s},xhrFields:{withCredentials:!0},crossDomain:!0})}}},updateValueFromFilelist:function(){var e="";if(this.filelist.length>0){e+='<ul class="nomark">';for(var t=0;t<this.filelist.length;t++)e+='<li><a href="'+this.filelist[t]+'" class="attach" target="_blank">'+this.filelist[t].split("/").pop()+"</a></li>";e+="</ul>"}this.objTinymce.value=e,this.$emit("input",e),this.$emit("blur",e)}},watch:{active:function(e,t){!0===e&&null===this.objTinymce&&this.initEditor()},value:function(e,t){"string"!==typeof e&&(e=""),1===this.worktype?e!==this.objTinymce.value&&this.updateFilelist(e):window.tinymce?e!==this.objTinymce.getContent()&&this.objTinymce.setContent(e):e!==this.objTinymce.value&&(this.objTinymce.value=e)}}},w=s(8152);const v=(0,w.c)(g,[["render",f]]);var y=v},440:function(e,t,s){s.d(t,{c:function(){return p}});var n=s(6760),i=s(6372),a={key:2,class:"sronly"};function r(e,t,s,r,o,u){var l=(0,n.E1)("icons");return(0,n.Wz)(),(0,n.An)("button",{type:"button",class:"plain",id:"timerbox",onClick:t[0]||(t[0]=function(){return u.toggleShow&&u.toggleShow.apply(u,arguments)})},[(0,n.K2)(l,{name:"timer",size:"small"}),e.open?((0,n.Wz)(),(0,n.An)("span",{key:0,class:(0,i.WN)({noticetext:0===e.hours&&60*e.minutes+e.seconds<u.warningTime})},(0,i.WA)(e.timeString),3)):(0,n.g1)("",!0),e.open?((0,n.Wz)(),(0,n.Az)(l,{key:1,name:"close",size:"small",color:"subdued"})):((0,n.Wz)(),(0,n.An)("span",a,(0,i.WA)(e.$t("timer.show")),1))])}var o=s(5860),u={name:"Timer",props:["end","total","grace"],components:{Icons:o.c},data:function(){return{hours:0,minutes:0,seconds:0,timeString:"",interval:null,open:!0,gaveWarning:!1}},created:function(){this.updateTimer(),this.interval=setInterval(this.updateTimer,1e3)},mounted:function(){var e=window.$("#timerbox"),t=e.offset();window.$(window).scroll((function(){var s=window.$(window).scrollTop();s>=t.top?e.addClass("sticky"):e.removeClass("sticky")}))},beforeUnmount:function(){clearInterval(this.interval)},computed:{warningTime:function(){return Math.max(60,Math.min(.05*this.total,300))}},methods:{updateTimer:function(){var e=(new Date).getTime();this.timeString="";var t=Math.max(0,this.end-e);0===t&&this.grace>0&&(t=Math.max(0,this.grace-e),this.timeString+=this.$t("timer.overtime")+" "),!this.gaveWarning&&t<1e3*this.warningTime&&(this.open=!0,this.gaveWarning=!0),this.hours=Math.floor(t/36e5),this.minutes=Math.floor(t%36e5/6e4),this.seconds=Math.floor(t%6e4/1e3),0===this.hours&&this.minutes<5?(this.timeString+=this.hours>0?this.hours+":":"",this.timeString+=(this.minutes<10?"0":"")+this.minutes+":",this.timeString+=(this.seconds<10?"0":"")+this.seconds):(this.timeString+=this.hours>0?this.hours+this.$tc("timer.hrs",this.hours):"",this.timeString+=this.minutes>0?this.minutes+this.$tc("timer.min",this.minutes):"")},toggleShow:function(){this.open=!this.open}}},l=s(8152);const c=(0,l.c)(u,[["render",r]]);var p=c},456:function(e,t,s){s.d(t,{c:function(){return tt}});var n=s(6760),i=s(6372),a=s(5328),r={class:"questionwrap questionpane",ref:"main"},o={key:0},u={key:2,class:"scoreresult neutral",tabindex:"-1"},l={key:3,class:"noticetext"},c={key:4,class:"small"},p=["innerHTML","id"],d={key:7},h={key:9,class:"submitbtnwrap"},f=["disabled"],m={class:"sr-only"},g=["disabled"],w={key:10,class:"submitbtnwrap"},v=["onClick","onKeypress","disabled"];function y(e,t,s,y,b,_){var q=(0,n.E1)("score-result"),A=(0,n.E1)("icons"),k=(0,n.E1)("question-helps"),I=(0,n.E1)("showwork-input"),W=(0,n.E1)("desmos-calculator"),x=(0,n.E1)("router-link");return(0,n.Wz)(),(0,n.An)("div",r,[_.questionContentLoaded?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.An)("div",o,(0,i.WA)(e.$t("loading")),1)),_.showScore&&_.showResults?((0,n.Wz)(),(0,n.Az)(q,{key:1,qdata:_.questionData,qn:s.qn},null,8,["qdata","qn"])):_.showScore&&_.questionData.canregen?((0,n.Wz)(),(0,n.An)("div",u,[(0,n.QD)("button",{type:"button",onClick:t[0]||(t[0]=function(){return _.trySimilar&&_.trySimilar.apply(_,arguments)})},[(0,n.K2)(A,{name:"retake",alt:""}),(0,n.mY)(" "+(0,i.WA)(e.$t("scoreresult.trysimilar")),1)])])):(0,n.g1)("",!0),0!==_.questionData.withdrawn?((0,n.Wz)(),(0,n.An)("p",l,[(0,n.K2)(A,{name:"alert",color:"warn",size:"medium"}),(0,n.mY)(" "+(0,i.WA)(e.$t("question.withdrawn")),1)])):(0,n.g1)("",!0),_.errorsToShow.length>0?((0,n.Wz)(),(0,n.An)("div",c,[(0,n.QD)("ul",null,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(_.errorsToShow,(function(e,t){return(0,n.Wz)(),(0,n.An)("li",{key:t},(0,i.WA)(e),1)})),128))])])):(0,n.g1)("",!0),_.questionContentLoaded?((0,n.Wz)(),(0,n.An)("div",{key:5,innerHTML:_.questionData.html,class:"question",id:"questionwrap"+s.qn,ref:"thisqwrap"},null,8,p)):(0,n.g1)("",!0),_.showHelps?((0,n.Wz)(),(0,n.Az)(k,{key:6,qn:s.qn},null,8,["qn"])):(0,n.g1)("",!0),_.showWork&&_.questionContentLoaded?((0,n.Wz)(),(0,n.An)("div",d,[2!==s.getwork?((0,n.Wz)(),(0,n.An)("button",{key:0,onClick:t[1]||(t[1]=function(t){return e.showWorkInput=!e.showWorkInput})},(0,i.WA)(e.showWorkInput?e.$t("work.hide"):e.$t("work.add")),1)):(0,n.g1)("",!0),(0,n.wt)((0,n.QD)("div",null,[(0,n.K2)(I,{id:"sw"+s.qn,value:_.questionData.work,rows:"3",active:2===s.getwork||e.showWorkInput,onInput:_.updateWork,onBlur:_.workChanged,onFocus:_.workFocused},null,8,["id","value","active","onInput","onBlur","onFocus"])],512),[[a.Ub,2===s.getwork||e.showWorkInput]])])):(0,n.g1)("",!0),_.questionHasCalculator?((0,n.Wz)(),(0,n.Az)(W,{key:8,calctype:_.questionHasCalculator,qn:s.qn},null,8,["calctype","qn"])):(0,n.g1)("",!0),_.showSubmit?((0,n.Wz)(),(0,n.An)("div",h,[(0,n.QD)("button",{type:"button",onClick:t[2]||(t[2]=function(){return _.submitQuestion&&_.submitQuestion.apply(_,arguments)}),class:(0,i.WN)(_.submitClass),disabled:!_.canSubmit},[(0,n.mY)((0,i.WA)(_.submitLabel)+" ",1),(0,n.QD)("span",m,(0,i.WA)(e.$t("question_n",{n:s.qn+1})),1)],10,f),_.canJumpToAnswer?((0,n.Wz)(),(0,n.An)("button",{key:0,type:"button",onClick:t[3]||(t[3]=function(){return _.jumpToAnswer&&_.jumpToAnswer.apply(_,arguments)}),class:"secondary",disabled:!_.canSubmit},(0,i.WA)(e.$t("question.jump_to_answer")),9,g)):(0,n.g1)("",!0)])):_.showNext?((0,n.Wz)(),(0,n.An)("div",w,[(0,n.K2)(x,{to:"/skip/"+(this.qn+2),custom:""},{default:(0,n.Ql)((function(t){var s=t.navigate;return[(0,n.QD)("button",{type:"button",onClick:s,onKeypress:(0,a.jj)(s,["enter"]),role:"link",class:"secondarybtn",disabled:!_.canSubmit},[(0,n.K2)(A,{name:"right"}),(0,n.mY)(" "+(0,i.WA)(e.$t("question.next")),1)],40,v)]})),_:1},8,["to"])])):(0,n.g1)("",!0)],512)}s(4248),s(7532),s(1408),s(1040),s(9640),s(2632),s(3500),s(2644),s(1768),s(5716),s(2888),s(1872);var b=s(7296),_={key:0},q={key:1},A={key:2},k={key:3},I=["onClick","onKeypress"],W={key:3};function x(e,t,s,r,o,u){var l=this,c=(0,n.E1)("icons"),p=(0,n.E1)("router-link");return(0,n.Wz)(),(0,n.Az)(a.Ox,{name:"fade"},{default:(0,n.Ql)((function(){return[e.expanded?((0,n.Wz)(),(0,n.An)("div",{key:0,class:(0,i.WN)(["scoreresult",u.status]),tabindex:"-1"},[u.showScores?((0,n.Wz)(),(0,n.An)("p",_,[(0,n.mY)((0,i.WA)(e.$t("scoreresult.scorelast"))+" ",1),(0,n.QD)("strong",null,(0,i.WA)(e.$tc("scoreresult.scorepts",s.qdata.points_possible,{pts:s.qdata.score,poss:s.qdata.points_possible}))+". ",1),(0,n.mY)(" "+(0,i.WA)(e.$t("scoreresult.see_details")),1)])):((0,n.Wz)(),(0,n.An)("p",q,(0,i.WA)(e.$t("scoreresult.submitted")),1)),u.hasManualScore?((0,n.Wz)(),(0,n.An)("p",A,[(0,n.K2)(c,{name:"info"}),(0,n.mY)(" "+(0,i.WA)(e.$t("scoreresult.manual_grade")),1)])):(0,n.g1)("",!0),u.showRetryButtons?((0,n.Wz)(),(0,n.An)("p",k,[u.showNext?((0,n.Wz)(),(0,n.Az)(p,{key:0,to:"/skip/"+(l.qn+2),custom:""},{default:(0,n.Ql)((function(t){var s=t.navigate;return[(0,n.QD)("button",{type:"button",onClick:s,onKeypress:(0,a.jj)(s,["enter"]),role:"link"},[(0,n.K2)(c,{name:"right",alt:""}),(0,n.mY)(" "+(0,i.WA)(e.$t("scoreresult.next")),1)],40,I)]})),_:1},8,["to"])):(0,n.g1)("",!0),u.showSubmit?((0,n.Wz)(),(0,n.An)("button",{key:1,type:"button",class:"primary",onClick:t[0]||(t[0]=function(){return u.submitAssess&&u.submitAssess.apply(u,arguments)})},(0,i.WA)(e.$t("header.assess_submit")),1)):(0,n.g1)("",!0),s.qdata.canregen?((0,n.Wz)(),(0,n.An)("button",{key:2,type:"button",onClick:t[1]||(t[1]=function(){return u.trySimilar&&u.trySimilar.apply(u,arguments)})},[(0,n.K2)(c,{name:"retake",alt:""}),(0,n.mY)(" "+(0,i.WA)(e.$t("scoreresult.trysimilar")),1)])):(0,n.g1)("",!0),s.qdata.canretry_primary?((0,n.Wz)(),(0,n.An)("span",W,(0,i.WA)(e.$t("scoreresult.retryq")),1)):(0,n.g1)("",!0)])):(0,n.g1)("",!0)],2)):(0,n.g1)("",!0)]})),_:1})}var D=s(5860),Q={name:"ScoreResult",props:["qdata","qn"],data:function(){return{expanded:!0}},watch:{qdata:function(e){this.expanded=!0}},components:{Icons:D.c},computed:{showScores:function(){return(!this.qdata.hasOwnProperty("parts")||1!==this.qdata.parts.length||!this.qdata.parts[0].req_manual)&&"during"===b.i.assessInfo.showscores},status:function(){if(!this.showScores||!this.qdata.hasOwnProperty("parts")||1===this.qdata.parts.length&&this.qdata.parts[0].req_manual)return"neutral";if(this.qdata.singlescore)return this.qdata.rawscore>.99?"correct":this.qdata.rawscore<.01?"incorrect":"partial";for(var e=0,t=0,s=0;s<this.qdata.parts.length;s++)this.qdata.parts[s].hasOwnProperty("rawscore")&&(this.qdata.parts[s].rawscore>.99?e++:this.qdata.parts[s].rawscore<.01&&t++);return e===this.qdata.parts.length?"correct":t===this.qdata.parts.length?"incorrect":"partial"},hasManualScore:function(){if("during"!==b.i.assessInfo.showscores||!this.qdata.hasOwnProperty("parts"))return!1;for(var e=0;e<this.qdata.parts.length;e++)if(this.qdata.parts[e].hasOwnProperty("req_manual")&&this.qdata.parts[e].req_manual)return!0;return!1},showRetryButtons:function(){return"livepoll"!==b.i.assessInfo.displaymethod},showNext:function(){return"skip"===b.i.assessInfo.displaymethod&&this.qn<b.i.assessInfo.questions.length-1},showSubmit:function(){return"by_assessment"===b.i.assessInfo.submitby&&this.qn===b.i.assessInfo.questions.length-1}},methods:{trySimilar:function(){b.a.loadQuestion(this.qn,!0)},submitAssess:function(){b.a.submitAssessment()}}},$=s(8152);const z=(0,$.c)(Q,[["render",x]]);var P=z,O=["id"],T={class:"sr-only"},S=["aria-labelledby"],E=["onClick"],C={key:0,class:"sr-only"},M={key:0},j=["href"],L={key:1},K=["href"];function F(e,t,s,r,o,u){var l=(0,n.E1)("icons"),c=(0,n.E1)("tooltip-span");return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("span",{id:"qhelp"+s.qn},[(0,n.mY)((0,i.WA)(e.$t("helps.help")),1),(0,n.QD)("span",T,(0,i.WA)(e.$t("question_n",{n:s.qn+1})),1),(0,n.mY)(": ")],8,O),(0,n.QD)("ul",{class:"helplist","aria-labelledby":"qhelp"+s.qn},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(u.qHelps,(function(e,t){return(0,n.Wz)(),(0,n.An)("li",{key:t},[(0,n.K2)(c,{tip:e.descr},{default:(0,n.Ql)((function(){return[(0,n.QD)("a",{href:"#",onClick:(0,a.Y7)((function(t){return u.loadHelp(e)}),["prevent"])},[(0,n.K2)(l,{name:e.icon,alt:""},null,8,["name"]),(0,n.mY)(" "+(0,i.WA)(e.title)+" ",1),(0,n.QD)("span",{class:(0,i.WN)({"sr-only":!u.showCnts})},(0,i.WA)(e.cnt),3),e.descr?((0,n.Wz)(),(0,n.An)("span",C,(0,i.WA)(e.descr),1)):(0,n.g1)("",!0)],8,E)]})),_:2},1032,["tip"])])})),128)),u.showMessage?((0,n.Wz)(),(0,n.An)("li",M,[(0,n.QD)("a",{href:u.messageHref,target:"help"},[(0,n.K2)(l,{name:"message"}),(0,n.mY)(" "+(0,i.WA)(e.$t("helps.message_instructor")),1)],8,j)])):(0,n.g1)("",!0),u.postToForum>0?((0,n.Wz)(),(0,n.An)("li",L,[(0,n.QD)("a",{href:u.forumHref,target:"help"},[(0,n.K2)(l,{name:"forum"}),(0,n.mY)(" "+(0,i.WA)(e.$t("helps.post_to_forum")),1)],8,K)])):(0,n.g1)("",!0)],8,S)])}s(1956),s(2808);var H=s(6676),N={name:"QuestionHelps",props:["qn"],components:{Icons:D.c,TooltipSpan:H.c},computed:{showMessage:function(){return b.i.assessInfo.hasOwnProperty("help_features")&&!0===b.i.assessInfo.help_features.message},postToForum:function(){return b.i.assessInfo.hasOwnProperty("help_features")&&b.i.assessInfo.help_features.forum},qHelps:function(){var e={};if(b.i.assessInfo.questions[this.qn].jsparams){var t=b.i.assessInfo.questions[this.qn].jsparams.helps;for(var s in t)e.hasOwnProperty(t[s].label)?e[t[s].label]++:e[t[s].label]=1,"video"===t[s].label?(t[s].icon="video",t[s].title=this.$t("helps.video")):"read"===t[s].label?(t[s].icon="file",t[s].title=this.$t("helps.read")):"ex"===t[s].label?(t[s].icon="file",t[s].title=this.$t("helps.written_example")):(t[s].icon="file",t[s].title=t[s].label),t[s].cnt=e[t[s].label];return t}return[]},showCnts:function(){return this.qHelps.filter((function(e){return e.cnt>1})).length>0},quoteQ:function(){var e=b.i.assessInfo.questions[this.qn].questionsetid,t=b.i.assessInfo.questions[this.qn].seed,s=2;return this.qn+"-"+e+"-"+t+"-"+b.i.aid+"-"+s},messageHref:function(){var e=window.imasroot+"/msgs/msglist.php?";return e+=window.$.param({cid:b.i.cid,add:"new",quoteq:this.quoteQ,to:"instr"}),e},forumHref:function(){var e=window.imasroot+"/forums/thread.php?";return e+=window.$.param({cid:b.i.cid,forum:b.i.assessInfo.help_features.forum,modify:"new",quoteq:this.quoteQ}),e}},methods:{loadHelp:function(e){if(e.ref){var t=e.ref.split(/-/),s="Q"+t[1]+": ";if(e.url.match(/watchvid\.php/)){var n=e.url.split(/url=/);window.recclick("extref",e.ref,s+decodeURIComponent(n[1]))}else window.recclick("extref",e.ref,s+e.url)}window.popupwindow("help",e.url,e.w,e.h,!0)}}};const Y=(0,$.c)(N,[["render",F]]);var V=Y,B=s(3492),R=s(5120),U=["id"],G=["disabled"],J={slot:"br"},X={class:"calc-header"},Z={key:0},ee={key:1},te=["aria-label"],se={class:"calc-body"},ne=["id"];function ie(e,t,s,r,o,u){var l=(0,n.E1)("icon-calc"),c=(0,n.E1)("icon-drag"),p=(0,n.E1)("icon-pop-out"),d=(0,n.E1)("icon-pop-in"),h=(0,n.E1)("icon-close"),f=(0,n.E1)("vue-draggable-resizeable");return(0,n.Wz)(),(0,n.An)("div",{class:"calculator",id:"qa-"+s.calctype+"-"+s.qn,"aria-label":"Use calculator"},[(0,n.wt)((0,n.QD)("button",{type:"button",onClick:t[0]||(t[0]=function(){return u.openCalc&&u.openCalc.apply(u,arguments)}),disabled:e.calcIsPoppedOut},[(0,n.K2)(l,{"calc-type":s.calctype},null,8,["calc-type"]),(0,n.mY)(" Calculator ")],8,G),[[a.Ub,!e.showCalculator||e.calcIsPoppedOut]]),(0,n.QD)("div",{class:(0,i.WN)({"calc-fixed-container":e.calcIsPoppedOut,graphing:"graphing"===s.calctype})},[(0,n.wt)((0,n.K2)(f,{"class-name-active":"calculator-active",ref:"calcResize",onResizing:u.getCalcDimensions,class:(0,i.WN)({"reset-heightwidth":!e.calcIsPoppedOut,"calc-popout":e.calcIsPoppedOut}),"drag-cancel":".drag-cancel",style:(0,i.MN)({position:u.calcPosition}),draggable:e.calcIsPoppedOut,resizable:e.calcIsPoppedOut,handles:["br"],h:500,w:"graphing"===s.calctype?600:500,x:400,y:-32,z:2,"min-width":"graphing"===s.calctype?500:400,"min-height":400},{default:(0,n.Ql)((function(){return[(0,n.QD)("div",J,[(0,n.K2)(c)]),(0,n.QD)("div",X,[e.calcIsPoppedOut?((0,n.Wz)(),(0,n.An)("span",ee," Question "+(0,i.WA)(s.qn+1)+" Calculator",1)):((0,n.Wz)(),(0,n.An)("span",Z,[(0,n.K2)(l,{"calc-type":s.calctype},null,8,["calc-type"]),(0,n.mY)(" Calculator ")])),(0,n.QD)("div",null,[(0,n.QD)("button",{type:"button","aria-label":e.calcIsPoppedOut?"Pop in calculator":"Pop out calculator",class:"button popout",onClick:t[1]||(t[1]=function(){return u.toggleCalcPopOut&&u.toggleCalcPopOut.apply(u,arguments)})},[e.calcIsPoppedOut?((0,n.Wz)(),(0,n.Az)(d,{key:1})):((0,n.Wz)(),(0,n.Az)(p,{key:0}))],8,te),(0,n.QD)("button",{type:"button","aria-label":"Close calculator",class:"button",onClick:t[2]||(t[2]=function(){return u.closeCalc&&u.closeCalc.apply(u,arguments)})},[(0,n.K2)(h)])])]),(0,n.QD)("div",se,[(0,n.QD)("figure",{class:(0,i.WN)(["drag-cancel",{graphing:"graphing"===s.calctype}]),id:"calc"+s.qn,ref:"figure",style:(0,i.MN)({height:e.calcHeight-84+"px"})},null,14,ne)])]})),_:1},8,["onResizing","class","drag-cancel","style","draggable","resizable","w","min-width"]),[[a.Ub,e.showCalculator]])],2)],8,U)}var ae={"aria-hidden":"true",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},re={key:0,fill:"none","fill-rule":"evenodd"},oe=(0,n.IL)('<rect fill="#212B36" x="6" y="3" width="13" height="18" rx="1"></rect><path fill="#DDE3E9" d="M7 9h2v2H7z"></path><path fill="#F49342" d="M13 9h2v2h-2zM16 9h2v2h-2z"></path><path fill="#DDE3E9" d="M10 9h2v2h-2zM7 12h2v2H7zM7 15h2v2H7z"></path><path fill="#F49342" d="M13 12h2v2h-2zM16 12h2v2h-2z"></path><path fill="#DDE3E9" d="M10 12h2v2h-2z"></path><path fill="#2DCF77" d="M13 15h2v2h-2zM13 18h2v2h-2z"></path><path fill="#DDE3E9" d="M10 15h2v2h-2zM10 18h2v2h-2zM7 18h2v2H8a1 1 0 01-1-1v-1z"></path><path d="M16 15h2v4a1 1 0 01-1 1h-1v-5z" fill="#2DCF77"></path><path d="M8 4h9a1 1 0 011 1v3H7V5a1 1 0 011-1z" fill="#FFF"></path>',10),ue=[oe],le={key:1,fill:"none","fill-rule":"evenodd"},ce=(0,n.IL)('<rect fill="#212B36" x="4" y="3" width="17" height="18" rx="1"></rect><rect fill="#FFF" x="5" y="4" width="15" height="16" rx="1"></rect><path fill="#D8D8D8" d="M12 4h1v16h-1z"></path><path fill="#D8D8D8" d="M5 12v-1h15v1z"></path><path stroke="#50B83C" stroke-linecap="round" d="M6.5 18.5l12-13"></path><path stroke="#F49342" stroke-linecap="round" d="M6.5 18.5l12-5"></path>',6),pe=[ce],de={key:2,fill:"none","fill-rule":"evenodd"},he=(0,n.IL)('<rect fill="#212B36" x="4" y="3" width="17" height="18" rx="1"></rect><path fill="#DDE3E9" d="M5 9h3v3H5zM9 9h3v3H9zM5 13h3v3H5zM9 13h3v3H9zM9 17h3v3H9zM13 9h3v3h-3z"></path><path fill="#F49342" d="M17 9h3v3h-3z"></path><path fill="#DDE3E9" d="M13 13h3v3h-3zM13 17h3v3h-3zM5 17h3v3H6a1 1 0 01-1-1v-2z"></path><path d="M17 13h3v6a1 1 0 01-1 1h-2v-7z" fill="#2DCF77"></path><path d="M6 4h13a1 1 0 011 1v3H5V5a1 1 0 011-1z" fill="#FFF"></path>',6),fe=[he];function me(e,t,s,i,a,r){return(0,n.Wz)(),(0,n.An)("svg",ae,["scientific"===s.calcType?((0,n.Wz)(),(0,n.An)("g",re,ue)):"graphing"===s.calcType?((0,n.Wz)(),(0,n.An)("g",le,pe)):"basic"===s.calcType?((0,n.Wz)(),(0,n.An)("g",de,fe)):(0,n.g1)("",!0)])}var ge={name:"CalcIcons",props:["calcType"]};const we=(0,$.c)(ge,[["render",me]]);var ve=we,ye={"aria-hidden":"true",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},be=(0,n.QD)("defs",null,[(0,n.QD)("path",{d:"M13.414 12l8.293-8.293a.999.999 0 10-1.414-1.414L12 10.586 3.707 2.293a.999.999 0 10-1.414 1.414L10.586 12l-8.293 8.293a.999.999 0 101.414 1.414L12 13.414l8.293 8.293a.997.997 0 001.414 0 .999.999 0 000-1.414L13.414 12z",id:"a"})],-1),_e=(0,n.QD)("use",{"xlink:href":"#a","fill-rule":"evenodd"},null,-1),qe=[be,_e];function Ae(e,t,s,i,a,r){return(0,n.Wz)(),(0,n.An)("svg",ye,qe)}var ke={name:"Close"};const Ie=(0,$.c)(ke,[["render",Ae]]);var We=Ie,xe={"aria-hidden":"true",role:"image",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 11"},De=(0,n.QD)("path",{d:"M.146 10.855a.5.5 0 01-.057-.638l.057-.07L9.231 1.09H2.439a.5.5 0 01-.09-.992l.09-.008 7.993-.001c.03 0 .061.002.092.008L10.439.09a.502.502 0 01.311.108l.02.018a.48.48 0 01.162.288l.007.086v7.363a.5.5 0 01-.992.09l-.008-.09V1.797L.854 10.855a.5.5 0 01-.708 0z",fill:"#212B36","fill-rule":"evenodd"},null,-1),Qe=[De];function $e(e,t,s,i,a,r){return(0,n.Wz)(),(0,n.An)("svg",xe,Qe)}var ze={name:"PopOut"};const Pe=(0,$.c)(ze,[["render",$e]]);var Oe=Pe,Te={"aria-hidden":"true",role:"image",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 11"},Se=(0,n.QD)("path",{d:"M10.792.235a.5.5 0 01.058.638l-.058.07L1.708 10H8.5a.5.5 0 01.09.992L8.5 11l-7.993.001a.503.503 0 01-.092-.008L.5 11a.502.502 0 01-.311-.108l-.02-.018a.48.48 0 01-.162-.288L0 10.5V3.136a.5.5 0 01.992-.09l.008.09v6.157L10.085.235a.5.5 0 01.707 0z",fill:"#FFF","fill-rule":"evenodd"},null,-1),Ee=[Se];function Ce(e,t,s,i,a,r){return(0,n.Wz)(),(0,n.An)("svg",Te,Ee)}var Me={name:"PopIn"};const je=(0,$.c)(Me,[["render",Ce]]);var Le=je,Ke={"aria-hidden":"true",role:"image",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Fe=(0,n.QD)("path",{d:"M15.854.146a.5.5 0 01.057.638l-.057.07-15 15a.5.5 0 01-.765-.638l.057-.07 15-15a.5.5 0 01.708 0zm0 6a.5.5 0 01.057.638l-.057.07-9 9a.5.5 0 01-.765-.638l.057-.07 9-9a.5.5 0 01.708 0zm0 6a.5.5 0 01.057.638l-.057.07-3 3a.5.5 0 01-.765-.638l.057-.07 3-3a.5.5 0 01.708 0z",fill:"#637381","fill-rule":"evenodd"},null,-1),He=[Fe];function Ne(e,t,s,i,a,r){return(0,n.Wz)(),(0,n.An)("svg",Ke,He)}var Ye={name:"DragHandle"};const Ve=(0,$.c)(Ye,[["render",Ne]]);var Be=Ve,Re=s(5560),Ue=s.n(Re),Ge={name:"DesmosCalculator",props:["qn","calctype"],components:{IconCalc:ve,IconClose:We,IconPopOut:Oe,IconPopIn:Le,IconDrag:Be,VueDraggableResizeable:Ue()},data:function(){return{showCalculator:!1,calcIsPoppedOut:!1,calcHeight:500,calcObj:null,hadFirstOpen:!1}},computed:{calcPosition:function(){return this.calcIsPoppedOut?"absolute":"initial"}},methods:{openCalc:function(){this.hadFirstOpen||(this.initCalc(),b.i.assessInfo.can_view_all||window.recclick("desmoscalc",b.i.aid,this.qn,this.calctype)),this.hadFirstOpen=!0,this.showCalculator=!0},closeCalc:function(){this.showCalculator=!1,this.calcIsPoppedOut=!1},toggleCalcPopOut:function(){this.calcIsPoppedOut=!this.calcIsPoppedOut},getCalcDimensions:function(e,t,s,n){this.calcHeight=n},initCalc:function(){"basic"===this.calctype?this.calcObj=window.Desmos.FourFunctionCalculator(this.$refs.figure):"scientific"===this.calctype&&(this.calcObj=window.Desmos.ScientificCalculator(this.$refs.figure),this.calcObj.updateSettings({degreeMode:!0})),"graphing"===this.calctype&&(this.calcObj=window.Desmos.GraphingCalculator(this.$refs.figure))}},beforeDestroy:function(){this.calcObj&&this.calcObj.destroy()},watch:{calctype:function(e,t){e!==t&&this.calcObj&&(this.calcObj.destroy(),this.showCalculator?this.initCalc():this.hadFirstOpen=!1)}}};const Je=(0,$.c)(Ge,[["render",ie]]);var Xe=Je,Ze={name:"Question",props:["qn","active","state","seed","disabled","getwork"],components:{ScoreResult:P,QuestionHelps:V,ShowworkInput:B.c,Icons:D.c,DesmosCalculator:Xe},data:function(){return{work:"",lastWorkVal:"",showWorkInput:!1,loadingAttempted:!1}},computed:{questionData:function(){return b.i.assessInfo.questions[this.qn]},canSubmit:function(){return!b.i.inTransit},canJumpToAnswer:function(){return this.questionData.jump_to_answer},questionContentLoaded:function(){return null!==this.questionData.html},questionHasCalculator:function(){return this.questionData.showcalculator},hasSeqNext:function(){return this.questionData.jsparams&&this.questionData.jsparams.hasseqnext},hasSubmitAll:function(){return this.questionData.jsparams&&1===this.questionData.jsparams.submitall},buttonsOk:function(){return b.i.inProgress&&this.questionContentLoaded&&!b.i.inPrintView&&!this.disabled&&0===this.questionData.withdrawn&&this.questionData.canretry},showSubmit:function(){return this.buttonsOk&&("by_question"===b.i.assessInfo.submitby||"during"===b.i.assessInfo.showscores||this.hasSeqNext)&&("livepoll"!==b.i.assessInfo.displaymethod||2===this.state)},showNext:function(){return this.buttonsOk&&!this.showSubmit&&"skip"===b.i.assessInfo.displaymethod&&this.qn<b.i.assessInfo.questions.length-1},submitClass:function(){return"by_assessment"!==b.i.assessInfo.submitby&&this.questionData.canretry_primary?"primary":"secondary"},showScore:function(){return b.i.inProgress&&!b.i.inPrintView&&!this.disabled&&!0!==this.questionData.hadSeqNext&&(this.questionData.hasOwnProperty("score")||"attempted"===this.questionData.status)&&(this.questionData.try>0||this.questionData.hasOwnProperty("tries_remaining_range"))&&0===this.questionData.withdrawn},showResults:function(){return b.i.assessInfo.show_results},submitLabel:function(){var e="question.";return"by_question"===b.i.assessInfo.submitby?e+="submit":"during"===b.i.assessInfo.showscores?e+="checkans":e+="saveans",this.hasSeqNext?e+="_seqnext":this.hasSubmitAll&&(e+="_submitall"),this.$t(e)},showHelps:function(){return b.i.assessInfo.hasOwnProperty("help_features")&&(!0===b.i.assessInfo.help_features.message||b.i.assessInfo.help_features.forum>0)||this.questionData.jsparams&&this.questionData.jsparams.helps.length>0},errorsToShow:function(){var e=[];return b.i.assessInfo.hasOwnProperty("scoreerrors")&&b.i.assessInfo.scoreerrors.hasOwnProperty(this.qn)&&(e=e.concat(b.i.assessInfo.scoreerrors[this.qn])),this.questionData.hasOwnProperty("errors")&&(e=e.concat(this.questionData.errors)),e},showWork:function(){return 1===this.getwork&&1&b.i.assessInfo.questions[this.qn].showwork||2===this.getwork&&2&b.i.assessInfo.questions[this.qn].showwork}},methods:{loadQuestionIfNeeded:function(e){this.questionContentLoaded&&!this.loadingAttempted&&(this.loadingAttempted=this.questionContentLoaded),this.questionContentLoaded||this.loadingAttempted||!this.active||null!==b.i.errorMsg?this.questionContentLoaded&&this.active&&!this.questionData.rendered&&!0!==e&&this.renderAndTrack():(this.loadingAttempted=!0,b.a.loadQuestion(this.qn,!1,!1))},submitQuestion:function(){b.a.submitQuestion(this.qn,!1),b.i.timeActive[this.qn]=0,b.i.timeActivated[this.qn]=new Date},jumpToAnswer:function(){var e=this;b.i.confirmObj={body:"question.jump_warn",action:function(){return b.a.loadQuestion(e.qn,!1,!0)}}},updateTime:function(e){if(!b.i.timeActivated.hasOwnProperty(this.qn)||e)b.i.timeActivated[this.qn]=new Date;else if(b.i.timeActivated.hasOwnProperty(this.qn)){var t=new Date;b.i.timeActive[this.qn]+=t-b.i.timeActivated[this.qn],delete b.i.timeActivated[this.qn]}},addDirtyTrackers:function(){window.$("#questionwrap"+this.qn).find("input[name],select[name],textarea[name]").off("focus.dirtytrack").off("change.dirtytrack").off("input.dirtytrack").on("focus.dirtytrack",(function(){"radio"===this.type||"checkbox"===this.type||window.$(this).attr("data-lastval",window.$(this).val())})).on("input.dirtytrack",(function(){b.i.somethingDirty=!0})).on("change.dirtytrack",(function(){var e=window.$(this).val().trim(),t=!1;if(("radio"===this.type||"checkbox"===this.type||e!==window.$(this).attr("data-lastval")&&""!==e)&&(t=!0),t){b.i.somethingDirty=!0;var s=window.$(this).attr("name"),n=s.match(/^(qs|qn|tc)(\d+)/);if(null!==n){var i=1*n[2],a=0;i>=1e3&&(a=i%1e3,i=Math.floor(i/1e3+.001)-1);var r=new Date,o=b.i.timeActive[i]+(r-b.i.timeActivated[i]);b.a.doAutosave(i,a,o)}}}))},disableOutOfTries:function(){var e=this.questionData.tries_max;for(var t in this.questionData.parts){var s;this.questionData.parts[t].try>=e&&this.questionData.answeights[t]>0&&(s=1===Object.keys(this.questionData.parts).length&&Object.keys(this.questionData.jsparams).length>1?new RegExp("^(qn|tc|qs)("+this.qn+"\\b|"+(this.qn+1)+"\\d{3}\\b)"):0===t?new RegExp("^(qn|tc|qs)("+this.qn+"\\b|"+(1e3*(this.qn+1)+1*t)+"\\b)"):new RegExp("^(qn|tc|qs)"+(1e3*(this.qn+1)+1*t)+"\\b"),window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(e,t){t.name.match(s)&&(t.disabled=!0)})))}},renderAndTrack:function(){!this.questionData.rendered&&this.active&&(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.thisqwrap),window.initSageCell(this.$refs.thisqwrap),window.initlinkmarkup(this.$refs.thisqwrap),window.setupSeqPartToggles(this.$refs.thisqwrap),this.updateTime(!0),this.setInitValues(),b.i.timeActive[this.qn]+=b.a.getInitTimeactive(this.qn),this.addDirtyTrackers(),this.work=this.questionData.work,window.$("#questionwrap"+this.qn).find(".seqsep").attr("aria-level","full"===b.i.assessInfo.displaymethod?3:2),this.disabled&&window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(e,t){t.name.match(/^(qn|tc|qs)\d/)&&(t.disabled=!0)})),window.imathasAssess.init(this.questionData.jsparams,b.i.enableMQ,this.$refs.thisqwrap),b.a.setRendered(this.qn,!0))},setInitValues:function(){var e=/^(qn|tc|qs)\d/,t=this.qn;window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(s,n){n.name.match(e)&&("radio"===n.type||"checkbox"===n.type?n.checked&&b.a.setInitValue(t,n.name,n.value):b.a.setInitValue(t,n.name,window.$(n).val()))})),this.showWork&&(b.a.setInitValue(t,"sw"+this.qn,this.questionData.work),this.work=this.questionData.work)},updateWork:function(e){this.work=e},workChanged:function(){if(this.work!==this.lastWorkVal)if(b.i.work[this.qn]=this.work,1===this.getwork){var e=new Date,t=b.i.timeActive[this.qn]+(e-b.i.timeActivated[this.qn]);b.a.doAutosave(this.qn,"sw",t)}else 2===this.getwork&&this.$emit("workchanged",this.work)},workFocused:function(){this.lastWorkVal=this.work},trySimilar:function(){b.a.loadQuestion(this.qn,!0)}},updated:function(){this.questionContentLoaded?(this.disableOutOfTries(),this.renderAndTrack()):this.loadQuestionIfNeeded()},created:function(){this.loadQuestionIfNeeded(!0),b.i.timeActive.hasOwnProperty(this.qn)||(b.i.timeActive[this.qn]=0)},mounted:function(){this.questionContentLoaded&&(this.disableOutOfTries(),this.renderAndTrack())},beforeUnmount:function(){b.a.setRendered(this.qn,!1)},watch:{active:function(e,t){this.loadQuestionIfNeeded(),this.updateTime(e),!1===e&&(0,R.k)(this.$refs.main)},state:function(e,t){(e>1&&t<=1||4===e&&t<4||3===e&&4===t)&&b.a.loadQuestion(this.qn,!1,!1)},qn:function(e,t){b.a.setRendered(t,!1)},seed:function(e,t){b.a.loadQuestion(this.qn,!1,!1)}}};const et=(0,$.c)(Ze,[["render",y]]);var tt=et},2608:function(e,t,s){s.d(t,{c:function(){return d}});var n=s(6760),i=s(5328),a=["id","aria-controls","aria-expanded"],r=["id"];function o(e,t,s,o,u,l){var c=(0,n.E1)("tooltip-span");return(0,n.Wz)(),(0,n.An)("span",{onKeydown:t[3]||(t[3]=(0,i.jj)((function(e){return l.triggerOpen(!1)}),["esc"])),class:"dropdown-wrap",onFocusin:t[4]||(t[4]=function(){return l.handleFocusin&&l.handleFocusin.apply(l,arguments)}),onFocusout:t[5]||(t[5]=function(){return l.handleFocusout&&l.handleFocusout.apply(l,arguments)})},[(0,n.K2)(c,{show:!e.open&&s.tip,tip:s.tip},{default:(0,n.Ql)((function(){return[(0,n.QD)("span",{id:s.id,ref:"button",role:"button",tabindex:"0",onClick:t[0]||(t[0]=function(){return l.triggerOpen&&l.triggerOpen.apply(l,arguments)}),onKeydown:[t[1]||(t[1]=(0,i.jj)((0,i.Y7)((function(){return l.triggerOpen&&l.triggerOpen.apply(l,arguments)}),["prevent"]),["enter"])),t[2]||(t[2]=(0,i.jj)((0,i.Y7)((function(){return l.triggerOpen&&l.triggerOpen.apply(l,arguments)}),["prevent"]),["space"]))],class:"dropdown-button noselect","aria-controls":s.id+"_pane","aria-expanded":e.open?"true":"false"},[(0,n.oF)(e.$slots,"button")],40,a)]})),_:3},8,["show","tip"]),(0,n.K2)(i.Ox,{name:"fade"},{default:(0,n.Ql)((function(){return[e.open?((0,n.Wz)(),(0,n.An)("div",{key:0,class:"dropdown-pane",id:s.id+"_pane",ref:"pane"},[(0,n.oF)(e.$slots,"default")],8,r)):(0,n.g1)("",!0)]})),_:3})],32)}var u=s(6676),l={name:"Dropdown",props:["id","position","tip"],components:{TooltipSpan:u.c},data:function(){return{open:!1,closetimer:null}},methods:{triggerOpen:function(e){var t=this;this.open="boolean"===typeof e?e:!this.open,this.open?this.$nextTick((function(){t.$refs.pane.style.right="",t.$refs.pane.style.left="";var e=t.$refs.pane.getBoundingClientRect(),s=document.documentElement.clientWidth;e.right>s?t.$refs.pane.style.right="12px":e.left<0&&(t.$refs.pane.style.left="12px")})):this.$refs.button.focus()},handleFocusout:function(){var e=this;this.closetimer=setTimeout((function(){e.open=!1}),50)},handleFocusin:function(){clearTimeout(this.closetimer)}}},c=s(8152);const p=(0,c.c)(l,[["render",o]]);var d=p}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,n,i,a){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],a=e[c][2];for(var o=!0,u=0;u<n.length;u++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](n[u])}))?n.splice(u--,1):(o=!1,a<r&&(r=a));if(o){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var a=Object.create(null);s.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},s.d(a,r),a}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+{12:"special",316:"lang-de-json"}[e]+".legacy.js?v="+{12:"88e89a9589d939d6",316:"f3dcdc1420a2bcb6"}[e]}}(),function(){s.miniCssF=function(e){return"css/special.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="imathas-assess2:";s.l=function(n,i,a,r){if(e[n])e[n].push(i);else{var o,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var p=l[c];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+a){o=p;break}}o||(u=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[i];var d=function(t,s){o.onerror=o.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(s)})),t)return t(s)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),u&&document.head.appendChild(o)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.j=656}(),function(){s.p="vue/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,s,n,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var r=function(s){if(a.onerror=a.onload=null,"load"===s.type)n();else{var r=s&&s.type,o=s&&s.target&&s.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+o+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=r,u.request=o,a.parentNode&&a.parentNode.removeChild(a),i(u)}};return a.onerror=a.onload=r,a.href=t,s?s.parentNode.insertBefore(a,s.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var s=document.getElementsByTagName("link"),n=0;n<s.length;n++){var i=s[n],a=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){i=r[n],a=i.getAttribute("data-href");if(a===e||a===t)return i}},n=function(n){return new Promise((function(i,a){var r=s.miniCssF(n),o=s.p+r;if(t(r,o))return i();e(n,o,null,i,a)}))},i={656:0};s.f.miniCss=function(e,t){var s={12:1};i[e]?t.push(i[e]):0!==i[e]&&s[e]&&t.push(i[e]=n(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={656:0};s.f.j=function(t,n){var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(s,n){i=e[t]=[s,n]}));n.push(i[2]=a);var r=s.p+s.u(t),o=new Error,u=function(n){if(s.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",o.name="ChunkLoadError",o.type=a,o.request=r,i[1](o)}};s.l(r,u,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,r=n[0],o=n[1],u=n[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(u)var c=u(s)}for(t&&t(n);l<r.length;l++)a=r[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},n=self["webpackChunkimathas_assess2"]=self["webpackChunkimathas_assess2"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[999,640],(function(){return s(5980)}));n=s.O(n)})();
//# sourceMappingURL=index.legacy.js.map