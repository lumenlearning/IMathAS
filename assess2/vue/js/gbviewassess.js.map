{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/gbviewassess/GBViewAssess.vue?7833","webpack:///./src/gbviewassess/GBViewAssess.vue?a83d","webpack:///./src/gbviewassess/gbstore.js","webpack:///./src/gbviewassess/GbQuestion.vue?25dd","webpack:///src/gbviewassess/GbQuestion.vue","webpack:///./src/gbviewassess/GbQuestion.vue?68be","webpack:///./src/gbviewassess/GbQuestion.vue","webpack:///./src/gbviewassess/GbAssessSelect.vue?8829","webpack:///./src/gbviewassess/GbAssessListItem.vue?97a6","webpack:///src/gbviewassess/GbAssessListItem.vue","webpack:///./src/gbviewassess/GbAssessListItem.vue?821d","webpack:///./src/gbviewassess/GbAssessListItem.vue","webpack:///src/gbviewassess/GbAssessSelect.vue","webpack:///./src/gbviewassess/GbAssessSelect.vue?f901","webpack:///./src/gbviewassess/GbAssessSelect.vue","webpack:///./src/gbviewassess/GbQuestionSelect.vue?f535","webpack:///./src/gbviewassess/GbQuestionListItem.vue?012d","webpack:///src/gbviewassess/GbQuestionListItem.vue","webpack:///./src/gbviewassess/GbQuestionListItem.vue?8843","webpack:///./src/gbviewassess/GbQuestionListItem.vue","webpack:///src/gbviewassess/GbQuestionSelect.vue","webpack:///./src/gbviewassess/GbQuestionSelect.vue?15ee","webpack:///./src/gbviewassess/GbQuestionSelect.vue","webpack:///./src/gbviewassess/GbScoreDetails.vue?7059","webpack:///./src/gbviewassess/GbAllTries.vue?a7fc","webpack:///src/gbviewassess/GbAllTries.vue","webpack:///./src/gbviewassess/GbAllTries.vue?b7cd","webpack:///./src/gbviewassess/GbAllTries.vue","webpack:///./src/gbviewassess/GbPenalties.vue?86e2","webpack:///src/gbviewassess/GbPenalties.vue","webpack:///./src/gbviewassess/GbPenalties.vue?4a4f","webpack:///./src/gbviewassess/GbPenalties.vue","webpack:///./src/components/TinymceInput.vue?1cf1","webpack:///src/components/TinymceInput.vue","webpack:///./src/components/TinymceInput.vue?2e83","webpack:///./src/components/TinymceInput.vue","webpack:///src/gbviewassess/GbScoreDetails.vue","webpack:///./src/gbviewassess/GbScoreDetails.vue?65d1","webpack:///./src/gbviewassess/GbScoreDetails.vue?336f","webpack:///./src/gbviewassess/GbClearAttempts.vue?fe45","webpack:///src/gbviewassess/GbClearAttempts.vue","webpack:///./src/gbviewassess/GbClearAttempts.vue?8ed8","webpack:///./src/gbviewassess/GbClearAttempts.vue","webpack:///src/gbviewassess/GBViewAssess.vue","webpack:///./src/gbviewassess/GBViewAssess.vue?65b1","webpack:///./src/gbviewassess/GBViewAssess.vue?6caa","webpack:///./src/gbviewassess/main.js","webpack:///./src/gbviewassess/GbScoreDetails.vue?409d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","assessInfoLoaded","staticClass","_v","_s","$t","aData","userfullname","startedString","lastchangeString","timeontask","totalTimeOnTask","_e","enddate_disp","on","makeException","exceptionActionLabel","original_enddate_disp","extensionString","clearLPblock","canEdit","domProps","scoreoverride","setScoreOverride","points_possible","gbscore","scoresingb","$event","showOverride","directives","rawName","expression","target","composing","assessOverride","clearAttempts","has_active_attempt","viewAsStuUrl","assess_versions","scoreCalc","submitby","has_practice","curAver","changeAssessVersion","submitVersion","can_use_latepass","redeemLatePass","hidePerfect","hidePerfectLabel","hideCorrect","hideCorrectLabel","hideUnanswered","hideUnansweredLabel","showAllAns","isByQuestion","_l","qdata","qn","$tc","curQver","changeQuestionVersion","showQuestion","useEditor","assessFeedback","updateFeedback","canSubmit","submitChanges","savedMsg","exit","curQuestionVers","staticStyle","errorMsg","clearError","staticRenderFns","store","Vue","observable","assessInfo","APIbase","aid","cid","uid","stu","queryString","exitUrl","inTransit","saving","ispractice","orig_submitby","scoreOverrides","feedbacks","show","type","actions","loadGbAssessData","callback","keepversion","gbAssessData","$","ajax","url","dataType","xhrFields","withCredentials","crossDomain","done","response","handleError","error","scored_version","setQverAsScored","nextTick","initAnswerboxHighlights","location","hash","el","document","getElementById","substring","scrollIntoView","fail","xhr","textStatus","errorThrown","always","loadGbAssessVersion","ver","practice","qs","set","loadGbQuestionVersion","forceload","beforeSet","questions","html","assign","saveChanges","FormData","append","JSON","stringify","processData","contentType","exiturl","pts","split","parts","score","Math","round","newscores","an","assess_info","scoredvers","qvers","qv","scored","delete","clearAttempt","keepver","aver","qver","latepass_blocked_by_practice","regex","RegExp","match","newver","assessinfo","status","qinfo","endAssess","qloop","pn","av","try","abs","setFeedback","feedback","isNew","props","rendered","methods","renderInit","setTimeout","drawPics","rendermathnode","imathasAssess","init","jsparams","svgchk","svgx","find","after","svgychk","mounted","watch","newVal","$nextTick","component","navOptions","selected","scopedSlots","_u","fn","ref","option","attemptNum","verStatus","computed","out","lastchange_disp","components","MenuButton","GbAssessListItem","onclick","thisoption","ptsposs","GbQuestionListItem","moreOptions","proxy","canedit","poss","isPractice","curScores","partPoss","$set","updateScore","rubric","showRubric","allFull","fullCreditLabel","showfeedback","timeactive","total","timeSpent","maxTry","showAllTries","showPenalties","other_tries","showfull","qHelps","help","idx","title","part","index","tries","trystr","tryn","drawToRender","processedTries","tn","canvases","partout","$refs","trywrap","imathasDraw","initCanvases","partHasPenalties","indexOf","PenaltiesApplied","computedId","rows","id","objTinymce","guidGenerator","initeditor","ed","e","updateValue","getContent","updated","s4","random","toString","substr","setContent","GbAllTries","GbPenalties","Icons","TinymceInput","answeights","map","initScores","partscore","isLastVersion","avercnt","maxtry","questionEditUrl","qid","questionErrorUrl","qerror_cid","useInMsg","label","hasPenalties","helps","icon","partposs","content","tinymce","activeEditor","evt","clearWork","initCurScores","imasrubrics","imasrubric_show","showType","_q","close","doAction","dialog","showModal","isLastAttempt","isLastQAttempt","off","destroy","event","A11yDialog","wrap","GbQuestion","GbAssessSelect","GbQuestionSelect","GbScoreDetails","GbClearAttempts","SummaryCategories","ErrorDialog","starttime","starttime_disp","lastchange","extended_with","curQuestions","showCategories","hascat","hasScores","showit","hasexception","isUnsubmitted","hasError","keys","confirm","val","test","k","hasUnsaved","trim","doexit","removeClass","replaceWith","attr","beforeUnload","preventDefault","returnValue","created","querycid","queryaid","queryuid","querystu","config","productionTip","i18n","render","h","GBViewAssess","$mount"],"mappings":"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","file":"js/gbviewassess.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"gbviewassess\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\",\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GBViewAssess.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GBViewAssess.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\",\"role\":\"main\"}},[(!_vm.assessInfoLoaded)?_c('div',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('loading'))+\"\\n  \")]):_c('div',{staticClass:\"gbmainview\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('gradebook.detail_title')))]),_c('h2',[_vm._v(_vm._s(_vm.aData.userfullname))]),_c('h3',[_vm._v(_vm._s(_vm.aData.name))]),_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.started'))+\": \"+_vm._s(_vm.startedString)),_c('br'),_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.lastchange'))+\": \"+_vm._s(_vm.lastchangeString)+\"\\n      \"),(_vm.aData.timeontask > 0)?_c('span',[_c('br'),_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.time_onscreen'))+\": \"+_vm._s(_vm.totalTimeOnTask)+\"\\n      \")]):_vm._e()]),_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.due'))+\": \"+_vm._s(_vm.aData.enddate_disp)+\"\\n        \"),(_vm.canEdit)?_c('button',{staticClass:\"slim\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.makeException}},[_vm._v(\"\\n          \"+_vm._s(_vm.exceptionActionLabel)+\"\\n        \")]):_vm._e(),(_vm.aData.hasOwnProperty('original_enddate'))?_c('span',[_c('br'),_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.originally_due'))+\":\\n          \"+_vm._s(_vm.aData.original_enddate_disp)+\".\\n        \"+_vm._s(_vm.extensionString)+\"\\n      \")]):_vm._e()]),(_vm.aData.latepass_blocked_by_practice)?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.latepass_blocked_practice'))+\"\\n      \"),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearLPblock}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.clear_latepass_block' ))+\"\\n      \")])]):_vm._e(),_c('div',[_c('strong',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.gb_score'))+\":\\n        \"),(_vm.aData.hasOwnProperty('scoreoverride') && _vm.canEdit)?_c('span',[_c('input',{attrs:{\"id\":\"assessoverride\",\"size\":\"4\"},domProps:{\"value\":_vm.aData.scoreoverride},on:{\"input\":_vm.setScoreOverride}}),_vm._v(\"/\"+_vm._s(_vm.aData.points_possible)+\"\\n        \")]):_c('span',[(!_vm.canEdit && _vm.aData.gbscore === 'N/A')?_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('gradebook.avail_' + _vm.aData.scoresingb))+\"\\n          \")]):_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.aData.gbscore)+\"/\"+_vm._s(_vm.aData.points_possible)+\"\\n          \")])])]),(_vm.aData.hasOwnProperty('scoreoverride'))?_c('span',[_vm._v(\"\\n        (\"+_vm._s(_vm.$t('gradebook.overridden'))+\")\\n      \")]):(_vm.canEdit)?_c('span',[_c('button',{staticClass:\"slim\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showOverride = !_vm.showOverride}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.override'))+\"\\n        \")]),(_vm.showOverride)?_c('span',[_c('label',{attrs:{\"for\":\"assessoverride\"}},[_vm._v(_vm._s(_vm.$t('gradebook.override')))]),_vm._v(\":\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.assessOverride),expression:\"assessOverride\"}],attrs:{\"id\":\"assessoverride\",\"size\":\"4\"},domProps:{\"value\":(_vm.assessOverride)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.assessOverride=$event.target.value}}})]):_vm._e()]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"slim\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.clearAttempts('all')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.clear_all'))+\"\\n      \")]):_vm._e()]),(_vm.canEdit && _vm.aData.has_active_attempt)?_c('div',[_c('a',{attrs:{\"href\":_vm.viewAsStuUrl}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.view_as_stu'))+\"\\n      \")]),_vm._v(\" |\\n      \"),_c('a',{attrs:{\"href\":_vm.viewAsStuUrl + '#/print'}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.print'))+\"\\n      \")])]):_vm._e(),(_vm.aData.assess_versions.length == 0)?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.no_versions'))+\"\\n    \")]):_c('div',{staticClass:\"gbmainview\"},[_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.scoreCalc)+\"\\n        \"),_c('gb-assess-select',{attrs:{\"versions\":_vm.aData.assess_versions,\"submitby\":_vm.aData.submitby,\"haspractice\":_vm.aData.has_practice,\"selected\":_vm.curAver},on:{\"setversion\":_vm.changeAssessVersion}}),(_vm.isUnsubmitted)?_c('div',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.unsubmitted'))+\".\\n          \"),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.submitVersion}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('closed.submit_now'))+\"\\n          \")]),(!_vm.canEdit && _vm.aData.can_use_latepass)?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.redeemLatePass}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('lti.use_latepass'))+\"\\n          \")]):_vm._e()]):_vm._e()],1),(_vm.canEdit)?_c('div',[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.hidePerfect = !_vm.hidePerfect}}},[_vm._v(\"\\n          \"+_vm._s(_vm.hidePerfectLabel)+\"\\n        \")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.hideCorrect = !_vm.hideCorrect}}},[_vm._v(\"\\n          \"+_vm._s(_vm.hideCorrectLabel)+\"\\n        \")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.hideUnanswered = !_vm.hideUnanswered}}},[_vm._v(\"\\n          \"+_vm._s(_vm.hideUnansweredLabel)+\"\\n        \")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.showAllAns}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.show_all_ans'))+\"\\n        \")]),(!_vm.isByQuestion)?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.clearAttempts('attempt')}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_attempt'))+\"\\n        \")]):_vm._e()]):_vm._e(),_c('div',_vm._l((_vm.curQuestions),function(qdata,qn){return _c('div',{key:qn,staticClass:\"bigquestionwrap\",attrs:{\"id\":'qwrap' + (qn+1)}},[_c('div',{staticClass:\"headerpane\"},[_c('strong',[_vm._v(\"\\n              \"+_vm._s(_vm.$tc('question_n', qn+1))+\".\\n            \")]),(_vm.aData.submitby === 'by_question')?_c('gb-question-select',{staticClass:\"med-left\",attrs:{\"versions\":qdata,\"selected\":_vm.curQver[qn],\"qn\":qn},on:{\"setversion\":_vm.changeQuestionVersion}}):(qdata[_vm.curQver[qn]].hasOwnProperty('gbscore') && qdata[_vm.curQver[qn]].gbscore !== 'N/A')?_c('span',[_vm._v(\"\\n              \"+_vm._s(_vm.$t('gradebook.score'))+\":\\n              \"),_c('strong',[_vm._v(\"\\n                \"+_vm._s(qdata[_vm.curQver[qn]].gbscore)+\"/\"+_vm._s(qdata[_vm.curQver[qn]].points_possible)+\"\\n              \")])]):_vm._e()],1),_c('div',{staticClass:\"scrollpane\"},[_c('gb-question',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showQuestion[qn]),expression:\"showQuestion[qn]\"}],staticClass:\"questionpane\",attrs:{\"qdata\":qdata[_vm.curQver[qn]],\"qn\":qn}})],1),_c('gb-score-details',{attrs:{\"showfull\":_vm.showQuestion[qn],\"canedit\":_vm.canEdit,\"qdata\":qdata[_vm.curQver[qn]],\"qn\":qn}})],1)}),0),_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('gradebook.general_feedback'))+\":\\n        \"),(_vm.canEdit && !_vm.useEditor)?_c('textarea',{staticClass:\"fbbox\",attrs:{\"rows\":\"2\",\"cols\":\"60\"},domProps:{\"value\":_vm.assessFeedback},on:{\"input\":_vm.updateFeedback}}):(_vm.canEdit)?_c('tinymce-input',{attrs:{\"id\":\"genfbbox\",\"value\":_vm.assessFeedback},on:{\"input\":_vm.updateFeedback}}):_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.assessFeedback)}})],1),_c('div',[(_vm.canEdit)?_c('button',{staticClass:\"primary\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canSubmit},on:{\"click\":function($event){return _vm.submitChanges(true)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.save'))+\"\\n        \")]):_vm._e(),(_vm.savedMsg !== '')?_c('span',{staticClass:\"noticetext\"},[_vm._v(\"\\n          \"+_vm._s(_vm.savedMsg)+\"\\n        \")]):_vm._e(),_c('button',{staticClass:\"secondary\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canSubmit},on:{\"click\":_vm.exit}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.return'))+\"\\n        \")])]),_c('div',{staticClass:\"floatrightbutton\"},[(_vm.savedMsg !== '')?_c('div',{staticClass:\"noticetext\"},[_vm._v(\"\\n          \"+_vm._s(_vm.savedMsg)+\"\\n        \")]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"primary\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canSubmit},on:{\"click\":_vm.submitChanges}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.save'))+\"\\n        \")]):_vm._e()]),(_vm.showCategories)?_c('summary-categories',{attrs:{\"data\":_vm.curQuestionVers}}):_vm._e(),_c('gb-clear-attempts'),_c('div',{staticStyle:{\"margin-bottom\":\"100px\"}})],1)]),(_vm.hasError)?_c('error-dialog',{attrs:{\"errormsg\":_vm.errorMsg},on:{\"clearerror\":_vm.clearError}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\n\nexport const store = Vue.observable({\n  assessInfo: null,\n  APIbase: null,\n  aid: null,\n  cid: null,\n  uid: null,\n  stu: 0,\n  queryString: '',\n  exitUrl: '',\n  inTransit: false,\n  saving: '',\n  errorMsg: null,\n  curAver: 0,\n  ispractice: false,\n  curQver: [],\n  orig_submitby: null,\n  scoreOverrides: {},\n  feedbacks: {},\n  clearAttempts: {\n    show: false,\n    type: '',\n    qn: 0\n  }\n});\n\nexport const actions = {\n  loadGbAssessData (callback, keepversion) {\n    if (store.assessInfo === null && window.gbAssessData) {\n      store.assessInfo = window.gbAssessData;\n      if (typeof callback !== 'undefined') {\n        callback();\n      }\n    } else {\n      store.inTransit = true;\n      store.errorMsg = null;\n      window.$.ajax({\n        url: store.APIbase + 'gbloadassess.php' + store.queryString,\n        dataType: 'json',\n        xhrFields: {\n          withCredentials: true\n        },\n        crossDomain: true\n      })\n        .done(response => {\n          if (response.hasOwnProperty('error')) {\n            this.handleError(response.error);\n            return;\n          }\n          // reset store\n          store.assessInfo = response;\n          // set current versions to scored versions\n          store.curAver = response.scored_version;\n          this.setQverAsScored(response.scored_version);\n\n          if (typeof callback !== 'undefined') {\n            callback();\n          }\n          // initialize editor and answerbox highlighting\n          Vue.nextTick(() => {\n            window.initAnswerboxHighlights();\n            if (window.location.hash) {\n              let el = document.getElementById(window.location.hash.substring(1));\n              if (el) {\n                el.scrollIntoView();\n              }\n            }\n          });\n        })\n        .fail((xhr, textStatus, errorThrown) => {\n          this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\n        })\n        .always(response => {\n          store.inTransit = false;\n        });\n    }\n  },\n  loadGbAssessVersion (ver, practice) {\n    let qs = store.queryString + '&ver=' + ver + '&practice=' + (practice ? 1 : 0);\n    store.inTransit = true;\n    store.errorMsg = null;\n    window.$.ajax({\n      url: store.APIbase + 'gbloadassessver.php' + qs,\n      dataType: 'json',\n      xhrFields: {\n        withCredentials: true\n      },\n      crossDomain: true\n    })\n      .done(response => {\n        if (response.hasOwnProperty('error')) {\n          this.handleError(response.error);\n          return;\n        }\n\n        if (practice) {\n          // practice gets scored as last ver\n          ver = store.assessInfo.assess_versions.length - 1;\n        }\n        // set into store\n        Vue.set(store.assessInfo.assess_versions, ver, response);\n\n        // set current versions to scored versions\n        store.curAver = ver;\n        this.setQverAsScored(ver);\n        store.ispractice = practice;\n        if (practice) {\n          if (store.orig_submitby === null) {\n            store.orig_submitby = store.assessInfo.submitby;\n          }\n          store.assessInfo.submitby = 'by_question';\n        } else if (store.orig_submitby !== null) {\n          store.assessInfo.submitby = store.orig_submitby;\n        }\n\n        // initialize editor and answerbox highlighting\n        Vue.nextTick(() => {\n          window.initAnswerboxHighlights();\n        });\n      })\n      .fail((xhr, textStatus, errorThrown) => {\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\n      })\n      .always(response => {\n        store.inTransit = false;\n      });\n  },\n  loadGbQuestionVersion (qn, ver, forceload, beforeSet) {\n    let qs = store.queryString + '&ver=' + ver + '&qn=' + qn;\n    qs += '&practice=' + (store.ispractice ? 1 : 0);\n    if (store.assessInfo.assess_versions[store.curAver].questions[qn][ver].html !== null &&\n      forceload !== true\n    ) {\n      // already have html loaded - just switch displayed version\n      Vue.set(store.curQver, qn, ver);\n      return;\n    }\n    store.inTransit = true;\n    store.errorMsg = null;\n    window.$.ajax({\n      url: store.APIbase + 'gbloadquestionver.php' + qs,\n      dataType: 'json',\n      xhrFields: {\n        withCredentials: true\n      },\n      crossDomain: true\n    })\n      .done(response => {\n        if (response.hasOwnProperty('error')) {\n          this.handleError(response.error);\n          return;\n        }\n        if (beforeSet) {\n          beforeSet();\n        }\n        Vue.set(store.assessInfo.assess_versions[store.curAver].questions[qn],\n          ver,\n          Object.assign(store.assessInfo.assess_versions[store.curAver].questions[qn][ver], response)\n        );\n        // set current versions to this version\n        Vue.set(store.curQver, qn, ver);\n\n        // initialize answerbox highlighting\n        Vue.nextTick(() => {\n          window.initAnswerboxHighlights();\n        });\n      })\n      .fail((xhr, textStatus, errorThrown) => {\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\n      })\n      .always(response => {\n        store.inTransit = false;\n      });\n  },\n  saveChanges (exit) {\n    let qs = store.queryString;\n    store.inTransit = true;\n    store.saving = 'saving';\n    store.errorMsg = null;\n    let data = new FormData();\n    data.append('scores', JSON.stringify(store.scoreOverrides));\n    data.append('feedback', JSON.stringify(store.feedbacks));\n    data.append('practice', store.ispractice ? 1 : 0);\n    window.$.ajax({\n      url: store.APIbase + 'gbsave.php' + qs,\n      type: 'POST',\n      dataType: 'json',\n      data: data,\n      processData: false,\n      contentType: false,\n      xhrFields: {\n        withCredentials: true\n      },\n      crossDomain: true\n    })\n      .done(response => {\n        if (response.hasOwnProperty('error')) {\n          this.handleError(response.error);\n          return;\n        }\n        store.saving = 'saved';\n        if (exit) {\n          store.scoreOverrides = {};\n          store.feedbacks = {};\n          window.location = window.exiturl;\n          return;\n        }\n        // update store.assessInfo with the new scores so it\n        // can tell if we change anything\n        for (let key in store.scoreOverrides) {\n          if (key === 'gen') {\n            if (store.scoreOverrides['gen'] === '') {\n              delete store.assessInfo.scoreoverride;\n            } else {\n              store.assessInfo.gbscore = store.scoreOverrides['gen'];\n              store.assessInfo.scoreoverride = store.scoreOverrides['gen'];\n            }\n            continue;\n          }\n          // Update part score\n          let pts = key.split(/-/);\n          let qdata = store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]];\n          if (qdata.parts[pts[3]]) {\n            qdata.parts[pts[3]].score = Math.round(1000 * store.scoreOverrides[key] * qdata.parts[pts[3]].points_possible) / 1000;\n          }\n        }\n        // update question scores\n        for (let key in response.newscores) {\n          let pts = key.split(/-/);\n          Vue.set(\n            store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]],\n            'score',\n            response.newscores[key]\n          );\n        }\n        // update feedbacks in store\n        for (let key in store.feedbacks) {\n          let pts = key.split(/-/);\n          if (pts[1] === 'g') { // general feedback\n            Vue.set(\n              store.assessInfo.assess_versions[pts[0]],\n              'feedback',\n              store.feedbacks[key]\n            );\n          } else { // question feedback\n            Vue.set(\n              store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]],\n              'feedback',\n              store.feedbacks[key]\n            );\n          }\n        }\n\n        store.assessInfo.gbscore = response.gbscore;\n        store.assessInfo.scored_version = response.scored_version;\n        // Update question scored version\n        for (let an = 0; an < response.assess_info.length; an++) {\n          store.assessInfo.assess_versions[an].score = response.assess_info[an].score;\n          for (let qn = 0; qn < response.assess_info[an].scoredvers.length; qn++) {\n            let qvers = store.assessInfo.assess_versions[an].questions[qn];\n            for (let qv = 0; qv < qvers.length; qv++) {\n              if (qv === response.assess_info[an].scoredvers[qn]) {\n                qvers[qv].scored = true;\n              } else if (qvers[qv].scored) {\n                Vue.delete(qvers[qv], 'scored');\n              }\n            }\n          }\n        }\n        // Update assessment scores\n        store.scoreOverrides = {};\n        store.feedbacks = {};\n      })\n      .fail(response => {\n        store.saving = 'save_fail';\n      })\n      .always(response => {\n        store.inTransit = false;\n      });\n  },\n  clearLPblock () {\n    store.clearAttempts.type = 'practiceview';\n    this.clearAttempt(true);\n  },\n  clearAttempt (keepver) {\n    let data = {\n      type: store.clearAttempts.type,\n      keepver: keepver\n    };\n    if (store.clearAttempts.type === 'attempt' ||\n        store.clearAttempts.type === 'qver'\n    ) {\n      data.aver = store.curAver;\n    }\n    if (store.clearAttempts.type === 'qver') {\n      data.qn = store.clearAttempts.qn;\n      data.qver = store.curQver[data.qn];\n    }\n    window.$.ajax({\n      url: store.APIbase + 'gbclearattempt.php' + store.queryString,\n      type: 'POST',\n      dataType: 'json',\n      data: data,\n      xhrFields: {\n        withCredentials: true\n      },\n      crossDomain: true\n    })\n      .done(response => {\n        if (response.hasOwnProperty('error')) {\n          this.handleError(response.error);\n          return;\n        }\n\n        // TODO: update displayed data rather than just exiting\n        if (store.clearAttempts.type === 'all' && data.keepver === 0) {\n          // cleared all - exit\n          window.location = window.exiturl;\n        } else if (store.clearAttempts.type === 'all') {\n          // reload whole mess\n          actions.loadGbAssessData();\n        } else if (store.clearAttempts.type === 'practiceview') {\n          store.assessInfo.latepass_blocked_by_practice = data.latepass_blocked_by_practice;\n        } else {\n          store.assessInfo.gbscore = response.gbscore;\n          store.assessInfo.scored_version = response.scored_version;\n          if (store.clearAttempts.type === 'attempt') {\n            // clear out any score overrides associated with this version\n            let regex = new RegExp('^' + data.aver + '-');\n            for (let key in store.scoreOverrides) {\n              if (key.match(regex)) {\n                Vue.delete(store.scoreOverrides, key);\n              }\n            }\n            if (response.hasOwnProperty('newver')) {\n              // replace assessment attempt\n              Vue.set(store.assessInfo.assess_versions, data.aver, response.newver);\n            } else {\n              // delete version\n              store.assessInfo.assess_versions.splice(data.aver, 1);\n              actions.loadGbAssessVersion(response.scored_version, false);\n            }\n            if (data.aver > 0) {\n              store.curAver = data.aver - 1;\n            }\n          } else if (store.clearAttempts.type === 'qver') {\n            // clear out any score overrides associated with this version\n            let regex = new RegExp('^' + data.aver + '-' + data.qn + '-' + data.qver + '-');\n            for (let key in store.scoreOverrides) {\n              if (key.match(regex)) {\n                Vue.delete(store.scoreOverrides, key);\n              }\n            }\n            Vue.set(store.assessInfo.assess_versions[data.aver], 'score', response.assessinfo.score);\n            Vue.set(store.assessInfo.assess_versions[data.aver], 'status', response.assessinfo.status);\n            if (response.hasOwnProperty('newver')) {\n              // replace assessment attempt\n              Vue.set(store.assessInfo.assess_versions[data.aver].questions[data.qn], data.qver, response.newver);\n              // set scored\n              Vue.set(store.assessInfo.assess_versions[data.aver].questions[data.qn][response.qinfo.scored_version], 'scored', true);\n            } else {\n              // update curQver to new scored version, and set that version as scored\n              // use callback to delete this version on response\n              actions.loadGbQuestionVersion(data.qn, response.qinfo.scored_version, true,\n                () => {\n                  store.assessInfo.assess_versions[data.aver].questions[data.qn].splice(data.qver, 1);\n                  Vue.set(store.assessInfo.assess_versions[data.aver].questions[data.qn][response.qinfo.scored_version], 'scored', true);\n                }\n              );\n            }\n          }\n        }\n        // clear out any affected score overrides\n      })\n      .fail(response => {\n        this.handleError('send_fail');\n      })\n      .always(response => {\n        store.inTransit = false;\n        store.clearAttempts.show = false;\n      });\n  },\n  endAssess () {\n    store.inTransit = true;\n    store.errorMsg = null;\n    window.$.ajax({\n      url: store.APIbase + 'endassess.php' + store.queryString,\n      dataType: 'json',\n      xhrFields: {\n        withCredentials: true\n      },\n      crossDomain: true\n    })\n      .done(response => {\n        if (response.hasOwnProperty('error')) {\n          this.handleError(response.error);\n          return;\n        }\n        // TODO: be more surgical.  For now, we'll just reload everything\n        store.assessInfo = null;\n        actions.loadGbAssessData();\n      })\n      .fail((xhr, textStatus, errorThrown) => {\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\n      })\n      .always(response => {\n        store.inTransit = false;\n      });\n  },\n  setQverAsScored (aver) {\n    let qdata = store.assessInfo.assess_versions[aver].questions;\n    let qv;\n    qloop: for (let i = 0; i < qdata.length; i++) {\n      for (qv = 0; qv < qdata[i].length; qv++) {\n        if (qdata[i][qv].hasOwnProperty('scored')) {\n          Vue.set(store.curQver, i, qv);\n          continue qloop;\n        }\n        // if no scored found, show last\n        Vue.set(store.curQver, i, qdata[i].length - 1);\n      }\n    }\n  },\n  setScoreOverride (qn, pn, score) {\n    // get current assess and question versions\n    let av = store.curAver;\n    let qv = store.curQver[qn];\n\n    // compare new score against existing value\n    let qdata = store.assessInfo.assess_versions[av].questions[qn][qv];\n    let key = av + '-' + qn + '-' + qv + '-' + pn;\n    if (qdata.parts[pn] && qdata.parts[pn].try > 0 &&\n      (score === '' || Math.abs(score - qdata.parts[pn].score/qdata.parts[pn].points_possible) < 0.001)\n    ) {\n      // same as existing - don't submit as an override\n      delete store.scoreOverrides[key];\n    } else {\n      // different score - submit as override. Save raw score (0-1)?.\n      store.scoreOverrides[key] = Math.round(10000*score)/10000;\n    }\n    store.saving = '';\n  },\n  setFeedback (qn, feedback) {\n    // get current assess and question versions\n    let av = store.curAver;\n    let key = av;\n    let isNew = true;\n    if (qn === null) {\n      // assessment-level feedback\n      key += '-g';\n      if (feedback === store.assessInfo.assess_versions[store.curAver].feedback) {\n        isNew = false;\n      }\n    } else {\n      let qv = store.curQver[qn];\n      key += '-' + qn + '-' + qv;\n      if (feedback === store.assessInfo.assess_versions[store.curAver].questions[qn][qv].feedback) {\n        isNew = false;\n      }\n    }\n    if (isNew) {\n      store.feedbacks[key] = feedback;\n    } else {\n      delete store.feedbacks[key];\n    }\n    store.saving = '';\n  },\n  handleError (error) {\n    store.errorMsg = error;\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"questionwrap\",attrs:{\"id\":'questionwrap' + _vm.qn},domProps:{\"innerHTML\":_vm._s(_vm.qdata.html)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-html=\"qdata.html\"\n    class = \"questionwrap\"\n    :id=\"'questionwrap' + qn\"\n  />\n</template>\n\n<script>\nexport default {\n  name: 'GbQuestion',\n  props: ['qdata', 'qn'],\n  data: function () {\n    return {\n      rendered: false\n    };\n  },\n  methods: {\n    renderInit () {\n      if (this.rendered) {\n        return;\n      }\n      setTimeout(window.drawPics, 100);\n      window.rendermathnode(document.getElementById('questionwrap' + this.qn));\n      window.imathasAssess.init(this.qdata.jsparams, true);\n      let svgchk = '<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"green\" stroke-width=\"3\" fill=\"none\" role=\"img\" aria-label=\"' + this.$t('icons.correct') + '\">';\n      svgchk += '<polyline points=\"20 6 9 17 4 12\"></polyline></svg>';\n      let svgychk = '<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"rgb(255,187,0)\" stroke-width=\"3\" fill=\"none\" role=\"img\" aria-label=\"' + this.$t('icons.partial') + '\">';\n      svgchk += '<path d=\"M 5.3,10.6 9,14.2 18.5,4.6 21.4,7.4 9,19.8 2.7,13.5 z\" /></svg>';\n      let svgx = '<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"rgb(153,0,0)\" stroke-width=\"3\" fill=\"none\" role=\"img\" aria-label=\"' + this.$t('icons.incorrect') + '\">';\n      svgx += '<path d=\"M18 6 L6 18 M6 6 L18 18\" /></svg>';\n      window.$('#questionwrap' + this.qn).find('select.ansgrn').after(svgchk);\n      window.$('#questionwrap' + this.qn).find('select.ansyel').after(svgychk);\n      window.$('#questionwrap' + this.qn).find('select.ansred').after(svgx);\n      window.$('#questionwrap' + this.qn).find('div.ansgrn,table.ansgrn').append(svgchk);\n      window.$('#questionwrap' + this.qn).find('div.ansyel,table.ansyel').append(svgychk);\n      window.$('#questionwrap' + this.qn).find('div.ansred,table.ansred').append(svgx);\n      this.rendered = true;\n    }\n  },\n  mounted () {\n    this.renderInit();\n  },\n  watch: {\n    qdata: function (newVal, oldVal) {\n      if (newVal !== null) {\n        this.rendered = false;\n        this.$nextTick(this.renderInit);\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbQuestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbQuestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbQuestion.vue?vue&type=template&id=6d968134&\"\nimport script from \"./GbQuestion.vue?vue&type=script&lang=js&\"\nexport * from \"./GbQuestion.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('menu-button',{attrs:{\"id\":\"assess_select\",\"options\":_vm.navOptions,\"selected\":_vm.selected,\"noarrow\":_vm.navOptions.length == 1,\"searchby\":\"ver\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar option = ref.option;\nreturn [_c('gb-assess-list-item',{attrs:{\"option\":option,\"submitby\":_vm.submitby}})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('strong',[_vm._v(_vm._s(_vm.attemptNum)+\".\")]),(_vm.option.hasOwnProperty('score') && _vm.option.score !== 'N/A')?_c('span',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('gradebook.score'))+\":\\n    \"),_c('strong',[_vm._v(_vm._s(_vm.score))]),_vm._v(\".\\n  \")]):_vm._e(),(_vm.option.hasOwnProperty('status'))?_c('span',[_vm._v(\"\\n    \"+_vm._s(_vm.verStatus)+\"\\n  \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <strong>{{ attemptNum }}.</strong>\n    <span v-if=\"option.hasOwnProperty('score') && option.score !== 'N/A'\">\n      {{ $t('gradebook.score') }}:\n      <strong>{{ score }}</strong>.\n    </span>\n    <span v-if=\"option.hasOwnProperty('status')\">\n      {{ verStatus }}\n    </span>\n  </span>\n</template>\n\n<script>\nimport { store } from './gbstore';\n\nexport default {\n  name: 'GbAssessListItem',\n  props: ['option', 'submitby'],\n  computed: {\n    attemptNum () {\n      if (this.option.status === 3) {\n        return this.$t('gradebook.practice_attempt');\n      } else if (this.submitby === 'by_question') {\n        return this.$t('gradebook.scored_attempt');\n      } else {\n        return this.$tc('gradebook.attempt_n', this.option.ver + 1);\n      }\n    },\n    verStatus () {\n      if (this.option.status === -1) {\n        return this.$t('gradebook.not_started');\n      } else if (this.option.status === 0 && this.submitby === 'by_assessment') {\n        return this.$t('gradebook.not_submitted');\n      } else if (this.option.status === 1 || this.option.status === 2) {\n        let out = '';\n        if (this.submitby === 'by_question') {\n          out += this.$t('gradebook.lastchange');\n        } else {\n          out += this.$t('gradebook.submitted');\n        }\n        out += ' ' + this.option.lastchange_disp;\n        return out;\n      } else {\n        return '';\n      }\n    },\n    score () {\n      return this.option.score + '/' + store.assessInfo['points_possible'];\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAssessListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAssessListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbAssessListItem.vue?vue&type=template&id=1ecda678&\"\nimport script from \"./GbAssessListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./GbAssessListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <menu-button id=\"assess_select\"\n      :options = \"navOptions\"\n      :selected = \"selected\"\n      :noarrow = \"navOptions.length == 1\"\n      searchby = \"ver\"\n    >\n      <template v-slot=\"{ option }\">\n        <gb-assess-list-item :option=\"option\" :submitby=\"submitby\"/>\n      </template>\n    </menu-button>\n  </div>\n</template>\n\n<script>\nimport MenuButton from '@/components/widgets/MenuButton.vue';\nimport GbAssessListItem from '@/gbviewassess/GbAssessListItem.vue';\nexport default {\n  name: 'GbAssessSelect',\n  props: ['versions', 'selected', 'submitby', 'haspractice'],\n  components: {\n    MenuButton,\n    GbAssessListItem\n  },\n  computed: {\n    navOptions () {\n      var out = [];\n      for (let i = 0; i < this.versions.length; i++) {\n        let thisoption = {\n          ver: i,\n          status: this.versions[i].status,\n          lastchange_disp: this.versions[i].lastchange_disp,\n          onclick: () => this.$emit('setversion', i)\n        };\n        if (this.versions[i].hasOwnProperty('score')) {\n          thisoption.score = this.versions[i].score;\n        }\n        out.push(thisoption);\n      }\n      return out;\n    }\n  },\n  methods: {\n\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAssessSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAssessSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbAssessSelect.vue?vue&type=template&id=7e83c6ae&\"\nimport script from \"./GbAssessSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./GbAssessSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('menu-button',{attrs:{\"id\":'qselect' + _vm.qn,\"options\":_vm.navOptions,\"selected\":_vm.selected,\"noarrow\":_vm.navOptions.length == 1,\"searchby\":\"ver\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar option = ref.option;\nreturn [_c('gb-question-list-item',{attrs:{\"option\":option,\"total\":_vm.navOptions.length}})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\"\\n  \"+_vm._s(_vm.attemptNum)+\".\\n  \"),(_vm.option.hasOwnProperty('score') && _vm.option.score !== 'N/A')?_c('span',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('gradebook.score'))+\": \"),_c('strong',[_vm._v(_vm._s(_vm.score))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    {{ attemptNum }}.\n    <span v-if=\"option.hasOwnProperty('score') && option.score !== 'N/A'\">\n      {{$t('gradebook.score')}}: <strong>{{ score }}</strong>\n    </span>\n  </span>\n</template>\n\n<script>\n\nexport default {\n  name: 'GbQuestionListItem',\n  props: ['option', 'total'],\n  computed: {\n    attemptNum () {\n      return this.$tc('gradebook.version_n', this.option.ver + 1) +\n        (this.option.scored ? '*' : '') + '/' + this.total;\n    },\n    score () {\n      return this.option.score + '/' + this.option.ptsposs;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbQuestionListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbQuestionListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbQuestionListItem.vue?vue&type=template&id=50eed8ce&\"\nimport script from \"./GbQuestionListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./GbQuestionListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"display: inline-block\">\n    <menu-button :id=\"'qselect' + qn\"\n      :options = \"navOptions\"\n      :selected = \"selected\"\n      :noarrow = \"navOptions.length == 1\"\n      searchby = \"ver\"\n    >\n      <template v-slot=\"{ option }\">\n        <gb-question-list-item :option=\"option\" :total=\"navOptions.length\"/>\n      </template>\n    </menu-button>\n  </div>\n</template>\n\n<script>\nimport MenuButton from '@/components/widgets/MenuButton.vue';\nimport GbQuestionListItem from '@/gbviewassess/GbQuestionListItem.vue';\nexport default {\n  name: 'GbQuestionSelect',\n  props: ['versions', 'selected', 'qn'],\n  components: {\n    MenuButton,\n    GbQuestionListItem\n  },\n  computed: {\n    navOptions () {\n      var out = [];\n      for (let i = 0; i < this.versions.length; i++) {\n        let thisoption = {\n          ver: i,\n          ptsposs: this.versions[i].points_possible,\n          onclick: () => this.$emit('setversion', this.qn, i)\n        };\n        if (this.versions[i].hasOwnProperty('score')) {\n          thisoption.score = this.versions[i].score;\n          thisoption.scored = (this.versions[i].hasOwnProperty('scored') === true);\n        }\n        out.push(thisoption);\n      }\n      return out;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbQuestionSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbQuestionSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbQuestionSelect.vue?vue&type=template&id=22715eef&\"\nimport script from \"./GbQuestionSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./GbQuestionSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scoredetails\"},[(_vm.canedit)?_c('menu-button',{staticClass:\"floatright\",attrs:{\"options\":_vm.moreOptions,\"position\":\"right\",\"nobutton\":\"true\",\"noarrow\":\"true\",\"id\":'qmore' + _vm.qn},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('icons',{attrs:{\"name\":\"more\",\"size\":\"medium\"}})]},proxy:true}],null,false,3261159318)}):_vm._e(),(_vm.canedit || (_vm.qdata.hasOwnProperty('score') && _vm.qdata.score !== 'N/A'))?_c('div',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('gradebook.score'))+\":\\n    \"),_vm._l((_vm.partPoss),function(poss,i){return _c('span',{key:i},[(_vm.canedit && !_vm.isPractice)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curScores[i]),expression:\"curScores[i]\"}],attrs:{\"type\":\"text\",\"size\":\"4\",\"id\":'scorebox' + _vm.qn + (_vm.partPoss.length > 1 ? '-' + i : '')},domProps:{\"value\":(_vm.curScores[i])},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.curScores, i, $event.target.value)},function($event){return _vm.updateScore(i, $event)}]}}):_c('span',[_vm._v(_vm._s(_vm.curScores[i]))]),_vm._v(\"/\"+_vm._s(poss)+\"\\n      \"),(_vm.canedit && !_vm.isPractice && _vm.qdata.rubric > 0)?_c('button',{staticClass:\"plain nopad\",on:{\"click\":function($event){return _vm.showRubric(i)}}},[_c('icons',{attrs:{\"name\":\"clipboard\",\"alt\":\"icons.rubric\",\"size\":\"small\"}})],1):_vm._e()])}),(_vm.canedit && !_vm.isPractice)?_c('button',{staticClass:\"slim\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.allFull}},[_vm._v(\"\\n      \"+_vm._s(_vm.fullCreditLabel)+\"\\n    \")]):_vm._e(),(_vm.canedit && !_vm.isPractice && _vm.showfeedback === false)?_c('button',{staticClass:\"slim\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showfeedback = true}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.add_feedback'))+\"\\n    \")]):_vm._e()],2):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showfeedback),expression:\"showfeedback\"}]},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('gradebook.feedback'))+\":\"),_c('br'),(_vm.canedit && !_vm.useEditor)?_c('textarea',{staticClass:\"fbbox\",attrs:{\"name\":'fb'+_vm.qn,\"rows\":\"2\",\"cols\":\"60\"},domProps:{\"value\":_vm.qdata.feedback},on:{\"input\":_vm.updateFeedback}}):(_vm.canedit)?_c('tinymce-input',{attrs:{\"id\":'fb'+_vm.qn,\"value\":_vm.qdata.feedback},on:{\"input\":_vm.updateFeedback}}):_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.qdata.feedback)}})],1),(_vm.showfull)?_c('div',[(_vm.qdata.timeactive.total > 0)?_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.time_on_version'))+\":\\n      \"+_vm._s(_vm.timeSpent)+\"\\n    \")]):_vm._e(),(_vm.maxTry > 1)?_c('button',{staticClass:\"slim\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showAllTries = !_vm.showAllTries}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.show_tries'))+\"\\n    \")]):_vm._e(),(_vm.hasPenalties)?_c('button',{staticClass:\"slim\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showPenalties = !_vm.showPenalties}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.show_penalties'))+\"\\n    \")]):_vm._e()]):_vm._e(),(_vm.showAllTries)?_c('gb-all-tries',{attrs:{\"tries\":_vm.qdata.other_tries,\"qn\":_vm.qn}}):_vm._e(),(_vm.showPenalties)?_c('gb-penalties',{attrs:{\"parts\":_vm.qdata.parts,\"submitby\":_vm.submitby}}):_vm._e(),(_vm.canedit && _vm.showfull && _vm.qHelps.length > 0)?_c('div',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('gradebook.had_help'))+\":\\n    \"),_vm._l((_vm.qHelps),function(help,idx){return _c('a',{key:idx,attrs:{\"href\":help.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(help.title))])})],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"trywrap\"},[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('gradebook.all_tries')))])]),_vm._l((_vm.processedTries),function(part,index){return _c('div',{key:index,staticClass:\"med-below med-left\"},[(_vm.tries.length > 1)?_c('div',[_c('strong',[_vm._v(_vm._s(_vm.$t('gradebook.part_n', {n: index+1})))])]):_vm._e(),_vm._l((part),function(trystr,tryn){return _c('div',{key:tryn},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.try_n', {n: tryn+1}))+\":\\n      \"),_c('span',{domProps:{\"innerHTML\":_vm._s(trystr)}})])})],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"trywrap\">\n    <p><strong>{{ $t('gradebook.all_tries') }}</strong></p>\n    <div\n      v-for=\"(part,index) in processedTries\"\n      :key = \"index\"\n      class=\"med-below med-left\"\n    >\n      <div v-if=\"tries.length > 1\">\n        <strong>{{ $t('gradebook.part_n', {n: index+1}) }}</strong>\n      </div>\n      <div v-for=\"(trystr, tryn) in part\" :key=\"tryn\">\n        {{ $t('gradebook.try_n', {n: tryn+1}) }}:\n        <span v-html=\"trystr\"></span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'GbAllTries',\n  props: ['tries','qn'],\n  data: function () {\n    return {\n      rendered: false,\n      drawToRender: []\n    };\n  },\n  computed: {\n    processedTries () {\n      let out = [];\n      let pn, tn;\n      for (pn in this.tries) {\n        let partout = [];\n        for (tn in this.tries[pn]) {\n          if (typeof this.tries[pn][tn] == 'object' && this.tries[pn][tn][0] == 'draw') {\n            // drawing\n            let la = this.tries[pn][tn][1].replace(/\\(/g,\"[\").replace(/\\)/g,\"]\").split(\";;\");\n          \tif (la[0]!='') {\n          \t\tla[0] = '['+la[0].replace(/;/g,\"],[\")+\"]\";\n          \t}\n          \tla = '[['+la.join('],[')+']]';\n            let id = this.qn + '-' + pn + '-' + tn;\n            window.canvases[\"GBR\"+id] = this.tries[pn][tn][2].slice();\n            let drawwidth = canvases[\"GBR\"+id][6];\n          \tlet drawheight = canvases[\"GBR\"+id][7];\n          \twindow.canvases[\"GBR\"+id].unshift(\"GBR\"+id);\n          \twindow.drawla[\"GBR\"+id] = JSON.parse(la);\n            this.drawToRender.push(\"GBR\"+id);\n            partout[tn] = '<canvas class=\"drawcanvas\" id=\"canvasGBR'+id+'\" width='+drawwidth+' height='+drawheight+'></canvas>';\n          \tpartout[tn] += '<input type=\"hidden\" id=\"qnGBR'+id+'\"/>'\n          } else {\n            partout[tn] = this.tries[pn][tn];\n          }\n        }\n        out[pn] = partout;\n      }\n      return out;\n    }\n  },\n  methods: {\n    renderInit () {\n      if (this.rendered) {\n        return;\n      }\n      setTimeout(window.drawPics, 100);\n      window.rendermathnode(this.$refs.trywrap);\n      for (let i=0; i < this.drawToRender.length; i++) {\n        imathasDraw.initCanvases(this.drawToRender[i]);\n      }\n    }\n  },\n  mounted () {\n    this.renderInit();\n  },\n  watch: {\n    tries: function (newVal, oldVal) {\n      if (newVal !== null) {\n        this.rendered = false;\n        this.$nextTick(this.renderInit);\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAllTries.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAllTries.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbAllTries.vue?vue&type=template&id=5fd14ba4&\"\nimport script from \"./GbAllTries.vue?vue&type=script&lang=js&\"\nexport * from \"./GbAllTries.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"qdetails\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('qdetails.part')))]),_c('th',[_vm._v(_vm._s(_vm.$t('penalties.applied')))])])]),_c('tbody',_vm._l((_vm.parts),function(part,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1))]),_c('td',[(_vm.partHasPenalties.indexOf(index) != -1)?_c('penalties-applied',{staticClass:\"med-left\",attrs:{\"part\":part,\"submitby\":_vm.submitby}}):_vm._e()],1)])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <table class=\"qdetails\">\n    <thead>\n      <tr>\n        <th>{{ $t('qdetails.part') }}</th>\n        <th>{{ $t('penalties.applied') }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        v-for=\"(part,index) in parts\"\n        :key = \"index\"\n      >\n        <td>{{ index + 1 }}</td>\n        <td>\n          <penalties-applied\n            v-if=\"partHasPenalties.indexOf(index) != -1\"\n            class = \"med-left\"\n            :part=\"part\"\n            :submitby=\"submitby\"\n          />\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport PenaltiesApplied from '@/components/PenaltiesApplied.vue';\n\nexport default {\n  name: 'GbPenalties',\n  props: ['parts', 'submitby'],\n  components: {\n    PenaltiesApplied\n  },\n  computed: {\n    partHasPenalties () {\n      let out = [];\n      for (let pn = 0; pn < this.parts.length; pn++) {\n        if (this.parts[pn].hasOwnProperty('penalties') &&\n          this.parts[pn].penalties.length > 0\n        ) {\n          out.push(pn);\n        }\n      }\n      return out;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbPenalties.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbPenalties.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbPenalties.vue?vue&type=template&id=1dfed8f9&\"\nimport script from \"./GbPenalties.vue?vue&type=script&lang=js&\"\nexport * from \"./GbPenalties.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fbbox\",attrs:{\"id\":_vm.computedId,\"rows\":_vm.rows},domProps:{\"innerHTML\":_vm._s(_vm.value)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :id=\"computedId\"\n    v-html=\"value\"\n    class=\"fbbox\"\n    :rows=\"rows\"\n  ></div>\n</template>\n\n<script>\n\n// based on Project: https://github.com/m3esma/vue-easy-tinymce\n// Copyright (c) 2018-present Mehdi Esmaeili (@m3esma)\n// Released under the MIT License.\n\nexport default {\n  name: 'TinymceInput',\n  props: {\n    id: {default: null},\n    value: {default: ''},\n    rows: {default: 2}\n  },\n  data: function() {\n    return {\n      objTinymce: null\n    }\n  },\n  computed: {\n    computedId: function () {\n      if (this.id === 'editor' || this.id === '' || this.id === null) {\n        return 'editor-' + this.guidGenerator(); //put default value on computedId\n      } else {\n        return this.id;\n      }\n    }\n  },\n  mounted: function () {\n    var component = this;\n    window.initeditor(\"exact\", this.computedId, null, true, function(ed) {\n      ed.on('change keyup undo redo', function (e) {\n        component.updateValue(ed.getContent());\n      });\n      component.objTinymce = ed;\n    });\n  },\n  updated: function () {\n    var component = this;\n    window.initeditor(\"exact\", this.computedId, null, true, function(ed) {\n      ed.on('change keyup undo redo', function (e) {\n        component.updateValue(ed.getContent());\n      });\n      component.objTinymce = ed;\n    });\n  },\n  methods: {\n    guidGenerator: function () {\n      function s4() {\n        return Math.random().toString(36).substr(2, 9);\n      }\n      return 'ed-' + s4() + '-' + s4();\n    },\n    updateValue: function (value) {\n        this.$emit('input', value);\n    }\n  },\n  watch: {\n    value: function (newValue, oldValue) {\n      // if v-model content change programmability\n      if (this.value !== this.objTinymce.getContent()) {\n        this.objTinymce.setContent(this.value);\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TinymceInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TinymceInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TinymceInput.vue?vue&type=template&id=0621a158&\"\nimport script from \"./TinymceInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TinymceInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"scoredetails\">\n    <menu-button\n      v-if=\"canedit\"\n      class = \"floatright\"\n      :options = \"moreOptions\"\n      position = \"right\"\n      nobutton = \"true\"\n      noarrow = \"true\"\n      :id = \"'qmore' + qn\"\n    >\n      <template v-slot:button>\n        <icons name=\"more\" size=\"medium\"/>\n      </template>\n    </menu-button>\n    <div v-if=\"canedit || (qdata.hasOwnProperty('score') && qdata.score !== 'N/A')\">\n      {{ $t('gradebook.score') }}:\n      <span\n        v-for=\"(poss,i) in partPoss\"\n        :key=\"i\"\n      >\n        <input\n          v-if=\"canedit && !isPractice\"\n          type=\"text\"\n          size=\"4\"\n          :id=\"'scorebox' + qn + (partPoss.length > 1 ? '-' + i : '')\"\n          v-model=\"curScores[i]\"\n          @input=\"updateScore(i, $event)\"\n        /><span v-else>{{ curScores[i] }}</span>/{{ poss }}\n        <button\n          v-if=\"canedit && !isPractice && qdata.rubric > 0\"\n          class=\"plain nopad\"\n          @click=\"showRubric(i)\"\n        >\n          <icons name=\"clipboard\" alt=\"icons.rubric\" size=\"small\" />\n        </button>\n      </span>\n      <button\n        v-if=\"canedit && !isPractice\"\n        type=\"button\"\n        @click=\"allFull\"\n        class=\"slim\"\n      >\n        {{ fullCreditLabel }}\n      </button>\n      <button\n        v-if=\"canedit && !isPractice && showfeedback === false\"\n        type=\"button\"\n        class=\"slim\"\n        @click=\"showfeedback = true\"\n      >\n        {{ $t('gradebook.add_feedback') }}\n      </button>\n    </div>\n    <div\n      v-show=\"showfeedback\"\n    >\n      {{ $t('gradebook.feedback') }}:<br/>\n      <textarea\n        v-if=\"canedit && !useEditor\"\n        class=\"fbbox\"\n        :name=\"'fb'+qn\"\n        rows=\"2\"\n        cols=\"60\"\n        :value = \"qdata.feedback\"\n        @input=\"updateFeedback\"\n      ></textarea>\n      <tinymce-input\n        v-else-if=\"canedit\"\n        :id=\"'fb'+qn\"\n        :value = \"qdata.feedback\"\n        @input = \"updateFeedback\"\n      ></tinymce-input>\n      <div\n        v-else\n        v-html=\"qdata.feedback\"\n      />\n    </div>\n\n    <div v-if=\"showfull\">\n      <span v-if=\"qdata.timeactive.total > 0\">\n        {{ $t('gradebook.time_on_version') }}:\n        {{ timeSpent }}\n      </span>\n      <button\n        v-if=\"maxTry > 1\"\n        type=\"button\"\n        class=\"slim\"\n        @click=\"showAllTries = !showAllTries\"\n      >\n        {{ $t('gradebook.show_tries') }}\n      </button>\n      <button\n        v-if=\"hasPenalties\"\n        type=\"button\"\n        class=\"slim\"\n        @click=\"showPenalties = !showPenalties\"\n      >\n        {{ $t('gradebook.show_penalties') }}\n      </button>\n    </div>\n    <gb-all-tries\n      v-if=\"showAllTries\"\n      :tries=\"qdata.other_tries\"\n      :qn=\"qn\"\n    />\n    <gb-penalties\n      v-if=\"showPenalties\"\n      :parts=\"qdata.parts\"\n      :submitby=\"submitby\"\n    />\n    <div v-if=\"canedit && showfull && qHelps.length > 0\">\n      {{ $t('gradebook.had_help') }}:\n      <a v-for=\"(help,idx) in qHelps\"\n        :key=\"idx\"\n        :href=\"help.url\"\n        target=\"_blank\"\n      >{{ help.title }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { store, actions } from './gbstore';\nimport GbAllTries from '@/gbviewassess/GbAllTries';\nimport GbPenalties from '@/gbviewassess/GbPenalties';\nimport Icons from '@/components/widgets/Icons';\nimport MenuButton from '@/components/widgets/MenuButton';\nimport TinymceInput from '@/components/TinymceInput.vue';\n\nexport default {\n  name: 'GbScoreDetails',\n  props: ['qdata', 'qn', 'canedit', 'showfull'],\n  components: {\n    GbAllTries,\n    GbPenalties,\n    MenuButton,\n    Icons,\n    TinymceInput\n  },\n  data: function () {\n    return {\n      curScores: false,\n      showfeedback: false,\n      showAllTries: false,\n      showPenalties: false\n    };\n  },\n  computed: {\n    answeights () {\n      if (!this.qdata.answeights) { // if answeights not generated yet\n        return [1];\n      } else {\n        let answeights = this.qdata.answeights.map(x => parseFloat(x));\n        let answeightTot = answeights.reduce((a, c) => a + c);\n        return answeights.map(x => x / answeightTot);\n      }\n    },\n    partPoss () {\n      var out = [];\n      for (let i = 0; i < this.answeights.length; i++) {\n        out[i] = Math.round(1000 * this.qdata.points_possible * this.answeights[i]) / 1000;\n      }\n      return out;\n    },\n    initScores () {\n      var out = [];\n      for (let i = 0; i < this.answeights.length; i++) {\n        if (this.qdata.scoreoverride && typeof this.qdata.scoreoverride !== 'object') {\n          // handle the case of a single override\n          let partscore = this.qdata.scoreoverride * this.answeights[i] * this.qdata.points_possible;\n          partscore = Math.round(1000 * partscore) / 1000;\n          out.push(partscore);\n        } else if (this.qdata.scoreoverride && this.qdata.scoreoverride.hasOwnProperty(i)) {\n          if (this.qdata.parts[i] && this.qdata.parts[i].points_possible) {\n            out.push(Math.round(1000 * this.qdata.scoreoverride[i] * this.qdata.parts[i].points_possible) / 1000);\n          } else {\n            out.push(Math.round(1000 * this.qdata.scoreoverride[i] * this.answeights[i] * this.qdata.points_possible) / 1000);\n          }\n        } else if (this.maxTry === 0 || !this.qdata.parts[i].hasOwnProperty('score')) { // not attempted or not showing\n          out.push('N/A');\n        } else {\n          out.push(this.qdata.parts[i].score);\n        }\n      }\n      return out;\n    },\n    fullCreditLabel () {\n      if (this.answeights.length > 1) {\n        return this.$t('gradebook.full_credit_parts');\n      } else {\n        return this.$t('gradebook.full_credit');\n      }\n    },\n    timeSpent () {\n      let out = Math.round(10 * this.qdata.timeactive.total / 60) / 10 + ' ' + this.$t('gradebook.minutes');\n      // TODO: Add per-try average?\n      return out;\n    },\n    useEditor () {\n      return (typeof window.tinyMCE !== 'undefined');\n    },\n    isPractice () {\n      return store.ispractice;\n    },\n    isLastVersion () {\n      let avercnt = store.assessInfo.assess_versions.length - 1;\n      if (store.assessInfo.has_practice) {\n        avercnt--;\n      }\n      return (store.curAver === avercnt);\n    },\n    maxTry () {\n      let maxtry = 0;\n      for (let i = 0; i < this.qdata.parts.length; i++) {\n        if (this.qdata.parts[i] && this.qdata.parts[i].try) {\n          if (this.qdata.parts[i].try > maxtry) {\n            maxtry = this.qdata.parts[i].try;\n          }\n        }\n      }\n      return maxtry;\n    },\n    questionEditUrl () {\n      let qs = 'id=' + this.qdata.qsetid + '&cid=' + store.cid;\n      qs += '&aid=' + store.aid + '&qid=' + this.qdata.qid;\n      return store.APIbase + '../course/moddataset.php?' + qs;\n    },\n    questionErrorUrl () {\n      if (store.assessInfo.qerror_cid) {\n        let quoteq = '0-' + this.qdata.qsetid + '-' + this.qdata.seed +\n          '-reperr-' + store.assessInfo.ver;\n        let qs = 'add=new&cid=' + store.assessInfo.qerror_cid +\n          '&quoteq=' + quoteq + '&to=' + this.qdata.qowner +\n          '&title=Problem%20with%20question%20id%20' +\n          this.qdata.qsetid;\n        return store.APIbase + '../msgs/msglist.php?' + qs;\n      } else {\n        return '';\n      }\n    },\n    useInMsg () {\n      // TODO\n      let quoteq = this.qn + '-' + this.qdata.qsetid + '-' + this.qdata.seed +\n        '-' + store.aid + '-' + store.assessInfo.ver;\n      let qs = 'add=new&cid=' + store.assessInfo.qerror_cid +\n        '&quoteq=' + quoteq + '&to=' + store.uid;\n      return store.APIbase + '../msgs/msglist.php?' + qs;\n      // TODO: get GB to work for this.\n      // window.GB_show(this.$t('gradebook.send_msg'),\n      //  store.APIbase + '../msgs/msglist.php?'+qs, 800, 'auto');\n    },\n    moreOptions () {\n      let out = [\n        {\n          label: this.$t('gradebook.use_in_msg'),\n          link: this.useInMsg\n        },\n        {\n          label: this.$t('gradebook.view_edit') + ' ID ' + this.qdata.qsetid + ' Seed ' + this.qdata.seed,\n          link: this.questionEditUrl\n        },\n        {\n          label: this.$t('gradebook.msg_owner'),\n          link: this.questionErrorUrl\n        }\n      ];\n      if (!this.isPractice && this.isLastVersion) {\n        out.push({\n          label: this.$t('gradebook.clear_qwork'),\n          onclick: () => this.clearWork()\n        });\n      }\n      return out;\n    },\n    hasPenalties () {\n      for (let pn = 0; pn < this.qdata.parts.length; pn++) {\n        if (this.qdata.parts[pn].hasOwnProperty('penalties') &&\n          this.qdata.parts[pn].penalties.length > 0\n        ) {\n          return true;\n        }\n      }\n      return false;\n    },\n    submitby () {\n      return store.assessInfo.submitby;\n    },\n    qHelps () {\n      if (this.qdata.jsparams) {\n        let helps = this.qdata.jsparams.helps;\n        for (let i in helps) {\n          if (helps[i].label === 'video') {\n            helps[i].icon = 'video';\n            helps[i].title = this.$t('helps.video');\n          } else if (helps[i].label === 'read') {\n            helps[i].icon = 'file';\n            helps[i].title = this.$t('helps.read');\n          } else if (helps[i].label === 'ex') {\n            helps[i].icon = 'file';\n            helps[i].title = this.$t('helps.written_example');\n          } else {\n            helps[i].icon = 'file';\n            helps[i].title = helps[i].label;\n          }\n        }\n        return helps;\n      } else {\n        return [];\n      }\n    }\n  },\n  methods: {\n    updateScore (pn, evt) {\n      let partposs = this.qdata.points_possible * this.answeights[pn];\n      actions.setScoreOverride(this.qn, pn, this.curScores[pn] / partposs);\n    },\n    updateFeedback (evt) {\n      let content;\n      if (this.useEditor) {\n        content = window.tinymce.activeEditor.getContent();\n      } else {\n        content = evt.target.value;\n      }\n      actions.setFeedback(this.qn, content);\n    },\n    allFull () {\n      for (let i = 0; i < this.answeights.length; i++) {\n        this.$set(this.curScores, i, this.partPoss[i]);\n        actions.setScoreOverride(this.qn, i, this.curScores[i] / this.partPoss[i]);\n      }\n    },\n    clearWork () {\n      store.clearAttempts.type = 'qver';\n      store.clearAttempts.qn = this.qn;\n      store.clearAttempts.show = true;\n    },\n    initCurScores () {\n      this.$set(this, 'curScores', this.initScores);\n      this.showfeedback = (this.qdata.feedback !== null && this.qdata.feedback.length > 0);\n    },\n    showRubric (pn) {\n      if (!window.imasrubrics) {\n        window.imasrubrics = store.assessInfo['rubrics'];\n      }\n      this.showfeedback = true;\n      window.imasrubric_show(\n        this.qdata.rubric,\n        this.qdata.points_possible,\n        'scorebox' + this.qn + (this.partPoss.length > 1 ? '-' + pn : ''),\n        'fb' + this.qn,\n        this.qn,\n        600\n      );\n    }\n  },\n  mounted () {\n    this.initCurScores();\n  },\n  watch: {\n    qdata: function (newVal, oldVal) {\n      this.initCurScores();\n      if (this.useEditor) {\n        window.initeditor('exact', 'fb'+this.qn, null, true);\n      }\n    }\n  }\n};\n</script>\n\n<style>\n.scoredetails {\n  border-top: 1px solid #ccc;\n  padding: 8px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbScoreDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbScoreDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbScoreDetails.vue?vue&type=template&id=10f9ee26&\"\nimport script from \"./GbScoreDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./GbScoreDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GbScoreDetails.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showModal)?_c('div',{ref:\"wrap\",staticClass:\"dialog-overlay\"},[_c('div',{staticClass:\"dialog pane-body\",attrs:{\"role\":\"alertdialog\",\"aria-modal\":\"true\",\"aria-label\":_vm.$t('gradebook.clear_hdr'),\"aria-describedby\":\"clearoptions\",\"tabindex\":\"-1\"}},[(_vm.showType === 'all')?_c('div',{staticClass:\"clearoptions\"},[_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"value\":\"0\"},domProps:{\"checked\":_vm._q(_vm.type,\"0\")},on:{\"change\":function($event){_vm.type=\"0\"}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_completely_msg'))+\"\\n        \")])]),(_vm.isByQuestion)?_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.type,\"1\")},on:{\"change\":function($event){_vm.type=\"1\"}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_all_work_msg'))+\"\\n        \")])]):_vm._e()]):(_vm.showType === 'attempt')?_c('div',{staticClass:\"clearoptions\"},[_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"value\":\"0\"},domProps:{\"checked\":_vm._q(_vm.type,\"0\")},on:{\"change\":function($event){_vm.type=\"0\"}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_attempt_regen_msg'))+\"\\n        \")])]),(_vm.isLastAttempt)?_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.type,\"1\")},on:{\"change\":function($event){_vm.type=\"1\"}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_attempt_msg'))+\"\\n        \")])]):_vm._e()]):(_vm.showType === 'qver')?_c('div',{staticClass:\"clearoptions\"},[(_vm.isByQuestion)?_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"value\":\"0\"},domProps:{\"checked\":_vm._q(_vm.type,\"0\")},on:{\"change\":function($event){_vm.type=\"0\"}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_qver_regen_msg'))+\"\\n        \")])]):_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"value\":\"0\"},domProps:{\"checked\":_vm._q(_vm.type,\"0\")},on:{\"change\":function($event){_vm.type=\"0\"}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_qver_regen_msg2'))+\"\\n        \")])]),(_vm.isLastQAttempt)?_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.type,\"1\")},on:{\"change\":function($event){_vm.type=\"1\"}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t('gradebook.clear_qver_msg'))+\"\\n        \")])]):_vm._e()]):_vm._e(),_c('p',{staticClass:\"noticetext\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('gradebook.clear_warning'))+\"\\n    \")]),_c('div',{staticClass:\"flexrow\",staticStyle:{\"justify-content\":\"space-between\"}},[_c('button',{staticClass:\"primary\",on:{\"click\":_vm.close}},[_vm._v(\"\\n        Cancel\\n      \")]),_c('button',{staticClass:\"secondary\",on:{\"click\":_vm.doAction}},[_vm._v(\"\\n        Continue\\n      \")])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-if=\"showModal\"\n    class=\"dialog-overlay\"\n    ref = \"wrap\"\n  >\n    <div\n      class=\"dialog pane-body\"\n      role=\"alertdialog\"\n      aria-modal=\"true\"\n      :aria-label=\"$t('gradebook.clear_hdr')\"\n      aria-describedby=\"clearoptions\"\n      tabindex=\"-1\"\n    >\n      <div v-if=\"showType === 'all'\" class=\"clearoptions\">\n        <p>\n          <label>\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\n            {{ $t('gradebook.clear_completely_msg') }}\n          </label>\n        </p>\n        <p v-if=\"isByQuestion\">\n          <label>\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\n            {{ $t('gradebook.clear_all_work_msg') }}\n          </label>\n        </p>\n      </div>\n      <div v-else-if=\"showType === 'attempt'\" class=\"clearoptions\">\n        <p>\n          <label>\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\n            {{ $t('gradebook.clear_attempt_regen_msg') }}\n          </label>\n        </p>\n        <p v-if=\"isLastAttempt\">\n          <label>\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\n            {{ $t('gradebook.clear_attempt_msg') }}\n          </label>\n        </p>\n      </div>\n      <div v-else-if=\"showType === 'qver'\" class=\"clearoptions\">\n        <p v-if=\"isByQuestion\">\n          <label>\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\n            {{ $t('gradebook.clear_qver_regen_msg') }}\n          </label>\n        </p>\n        <p v-else>\n          <label>\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\n            {{ $t('gradebook.clear_qver_regen_msg2') }}\n          </label>\n        </p>\n        <p v-if=\"isLastQAttempt\">\n          <label>\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\n            {{ $t('gradebook.clear_qver_msg') }}\n          </label>\n        </p>\n      </div>\n      <p class=\"noticetext\">\n        {{ $t('gradebook.clear_warning') }}\n      </p>\n      <div class=\"flexrow\" style=\"justify-content: space-between;\">\n        <button class=\"primary\" @click=\"close\">\n          Cancel\n        </button>\n        <button class=\"secondary\" @click=\"doAction\">\n          Continue\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { store, actions } from './gbstore';\nimport '../components/a11y-dialog';\n\nexport default {\n  name: 'GbClearAttempts',\n  data: function () {\n    return {\n      type: 0,\n      dialog: null\n    };\n  },\n  computed: {\n    showModal () {\n      return store.clearAttempts.show;\n    },\n    showType () {\n      return store.clearAttempts.type;\n    },\n    isByQuestion () {\n      return (store.assessInfo.submitby === 'by_question');\n    },\n    isLastAttempt () {\n      let avercnt = store.assessInfo.assess_versions.length - 1;\n      if (store.assessInfo.has_practice) {\n        avercnt--;\n      }\n      return (store.curAver === avercnt);\n    },\n    isLastQAttempt () {\n      let qvercnt = store.assessInfo.assess_versions[store.curAver].questions[store.clearAttempts.qn].length - 1;\n      return (store.curQver[store.clearAttempts.qn] === qvercnt);\n    }\n  },\n  methods: {\n    close () {\n      store.clearAttempts.show = false;\n      window.$(document).off('keyup.dialog');\n      this.dialog.destroy();\n    },\n    doAction () {\n      actions.clearAttempt(this.type);\n    }\n  },\n  updated () {\n    if (store.clearAttempts.show) {\n      window.$(document).on('keyup.dialog', (event) => {\n        if (event.key === 'Escape') {\n          this.close();\n        }\n      });\n      this.dialog = new window.A11yDialog(this.$refs.wrap);\n      this.dialog.show();\n    }\n  }\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbClearAttempts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbClearAttempts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbClearAttempts.vue?vue&type=template&id=21d74e95&\"\nimport script from \"./GbClearAttempts.vue?vue&type=script&lang=js&\"\nexport * from \"./GbClearAttempts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" role=\"main\">\n    <div v-if=\"!assessInfoLoaded\">\n      {{ $t('loading') }}\n    </div>\n    <div v-else class=\"gbmainview\">\n      <h1>{{ $t('gradebook.detail_title')}}</h1>\n      <h2>{{ aData.userfullname }}</h2>\n      <h3>{{ aData.name }}</h3>\n\n      <div>\n        {{ $t('gradebook.started') }}: {{ startedString }}<br/>\n        {{ $t('gradebook.lastchange') }}: {{ lastchangeString }}\n        <span v-if=\"aData.timeontask > 0\">\n          <br/>\n          {{ $t('gradebook.time_onscreen') }}: {{ totalTimeOnTask }}\n        </span>\n      </div>\n\n      <div>\n        {{ $t('gradebook.due')}}: {{ aData.enddate_disp }}\n          <button\n            v-if = \"canEdit\"\n            type=\"button\"\n            class=\"slim\"\n            @click = \"makeException\"\n          >\n            {{ exceptionActionLabel }}\n          </button>\n        <span v-if=\"aData.hasOwnProperty('original_enddate')\">\n          <br/>\n          {{ $t('gradebook.originally_due') }}:\n            {{ aData.original_enddate_disp }}.\n          {{ extensionString }}\n        </span>\n      </div>\n\n      <div v-if=\"aData.latepass_blocked_by_practice\">\n        {{ $t('gradebook.latepass_blocked_practice') }}\n        <button\n          type=\"button\"\n          @click=\"clearLPblock\"\n        >\n          {{ $t('gradebook.clear_latepass_block' )}}\n        </button>\n      </div>\n      <div>\n        <strong>\n          {{ $t('gradebook.gb_score') }}:\n          <span v-if=\"aData.hasOwnProperty('scoreoverride') && canEdit\">\n            <input id=\"assessoverride\" size=4\n              :value = \"aData.scoreoverride\"\n              @input = \"setScoreOverride\"\n            />/{{ aData.points_possible }}\n          </span>\n          <span v-else>\n            <span v-if=\"!canEdit && aData.gbscore === 'N/A'\">\n              {{ $t('gradebook.avail_' + aData.scoresingb) }}\n            </span>\n            <span v-else>\n              {{ aData.gbscore }}/{{ aData.points_possible }}\n            </span>\n          </span>\n        </strong>\n        <span v-if=\"aData.hasOwnProperty('scoreoverride')\">\n          ({{ $t('gradebook.overridden') }})\n        </span>\n        <span v-else-if=\"canEdit\">\n          <button\n            class = \"slim\"\n            type=\"button\"\n            @click=\"showOverride = !showOverride\"\n          >\n            {{ $t('gradebook.override') }}\n          </button>\n          <span v-if=\"showOverride\">\n            <label for=\"assessoverride\">{{ $t('gradebook.override') }}</label>:\n            <input id=\"assessoverride\" size=4 v-model=\"assessOverride\" />\n          </span>\n        </span>\n        <button\n          v-if=\"canEdit\"\n          type=\"button\"\n          class=\"slim\"\n          @click=\"clearAttempts('all')\"\n        >\n          {{ $t('gradebook.clear_all') }}\n        </button>\n      </div>\n\n      <div v-if=\"canEdit && aData.has_active_attempt\">\n        <a :href=\"viewAsStuUrl\">\n          {{ $t('gradebook.view_as_stu') }}\n        </a> |\n        <a :href=\"viewAsStuUrl + '#/print'\">\n          {{ $t('gradebook.print') }}\n        </a>\n      </div>\n\n      <div v-if=\"aData.assess_versions.length == 0\">\n        {{ $t('gradebook.no_versions') }}\n      </div>\n      <div v-else class=\"gbmainview\">\n        <div>\n          {{ scoreCalc }}\n          <gb-assess-select\n            :versions = \"aData.assess_versions\"\n            :submitby = \"aData.submitby\"\n            :haspractice = \"aData.has_practice\"\n            :selected = \"curAver\"\n            @setversion = \"changeAssessVersion\"\n          />\n          <div v-if=\"isUnsubmitted\">\n            {{ $t('gradebook.unsubmitted') }}.\n            <button\n              type=\"button\"\n              @click=\"submitVersion\"\n            >\n              {{ $t('closed.submit_now') }}\n            </button>\n            <button\n              v-if=\"!canEdit && aData.can_use_latepass\"\n              type = \"button\"\n              @click = \"redeemLatePass\"\n            >\n              {{ $t('lti.use_latepass') }}\n            </button>\n          </div>\n        </div>\n\n        <div v-if=\"canEdit\">\n          <button\n            type=\"button\"\n            @click = \"hidePerfect = !hidePerfect\"\n          >\n            {{ hidePerfectLabel }}\n          </button>\n          <button\n            type=\"button\"\n            @click = \"hideCorrect = !hideCorrect\"\n          >\n            {{ hideCorrectLabel }}\n          </button>\n          <button\n            type=\"button\"\n            @click = \"hideUnanswered = !hideUnanswered\"\n          >\n            {{ hideUnansweredLabel }}\n          </button>\n          <button\n            type=\"button\"\n            @click = \"showAllAns\"\n          >\n            {{ $t('gradebook.show_all_ans') }}\n          </button>\n          <button\n            v-if = \"!isByQuestion\"\n            type=\"button\"\n            @click=\"clearAttempts('attempt')\"\n          >\n            {{ $t('gradebook.clear_attempt') }}\n          </button>\n        </div>\n\n        <div>\n          <div\n            v-for = \"(qdata,qn) in curQuestions\"\n            :key = \"qn\"\n            class = \"bigquestionwrap\"\n            :id = \"'qwrap' + (qn+1)\"\n          >\n            <div class=\"headerpane\">\n              <strong>\n                {{ $tc('question_n', qn+1) }}.\n              </strong>\n\n              <gb-question-select\n                v-if = \"aData.submitby === 'by_question'\"\n                :versions=\"qdata\"\n                :selected=\"curQver[qn]\"\n                :qn=\"qn\"\n                @setversion = \"changeQuestionVersion\"\n                class = \"med-left\"\n              />\n              <span v-else-if = \"qdata[curQver[qn]].hasOwnProperty('gbscore') && qdata[curQver[qn]].gbscore !== 'N/A'\">\n                {{ $t('gradebook.score') }}:\n                <strong>\n                  {{ qdata[curQver[qn]].gbscore }}/{{ qdata[curQver[qn]].points_possible }}\n                </strong>\n              </span>\n\n            </div>\n            <div class=\"scrollpane\">\n              <gb-question\n                class = \"questionpane\"\n                v-show = \"showQuestion[qn]\"\n                :qdata = \"qdata[curQver[qn]]\"\n                :qn = \"qn\"\n              />\n            </div>\n            <gb-score-details\n              :showfull = \"showQuestion[qn]\"\n              :canedit = \"canEdit\"\n              :qdata = \"qdata[curQver[qn]]\"\n              :qn = \"qn\"\n            />\n          </div>\n        </div>\n        <div>\n          {{ $t('gradebook.general_feedback') }}:\n          <textarea\n            v-if=\"canEdit && !useEditor\"\n            class=\"fbbox\"\n            rows=\"2\"\n            cols=\"60\"\n            :value = \"assessFeedback\"\n            @input=\"updateFeedback\"\n          ></textarea>\n          <tinymce-input\n            v-else-if=\"canEdit\"\n            id=\"genfbbox\"\n            :value = \"assessFeedback\"\n            @input = \"updateFeedback\"\n          ></tinymce-input>\n          <div\n            v-else\n            v-html=\"assessFeedback\"\n          />\n        </div>\n        <div>\n          <button\n            v-if = \"canEdit\"\n            type = \"button\"\n            :disabled = \"!canSubmit\"\n            class = \"primary\"\n            @click = \"submitChanges(true)\"\n          >\n            {{ $t('gradebook.save') }}\n          </button>\n          <span v-if=\"savedMsg !== ''\" class=\"noticetext\">\n            {{ savedMsg }}\n          </span>\n          <button\n            type = \"button\"\n            class = \"secondary\"\n            :disabled = \"!canSubmit\"\n            @click = \"exit\"\n          >\n            {{ $t('gradebook.return') }}\n          </button>\n        </div>\n        <div class=\"floatrightbutton\">\n          <div v-if=\"savedMsg !== ''\" class=\"noticetext\">\n            {{ savedMsg }}\n          </div>\n          <button\n            v-if = \"canEdit\"\n            type = \"button\"\n            :disabled = \"!canSubmit\"\n            class = \"primary\"\n            @click = \"submitChanges\"\n          >\n            {{ $t('gradebook.save') }}\n          </button>\n        </div>\n        <summary-categories\n          v-if = \"showCategories\"\n          :data = \"curQuestionVers\"\n        />\n        <gb-clear-attempts />\n        <div style=\"margin-bottom:100px\"></div>\n      </div>\n    </div>\n    <error-dialog\n      v-if=\"hasError\"\n      :errormsg=\"errorMsg\"\n      @clearerror=\"clearError\"\n    />\n  </div>\n</template>\n\n<script>\nimport { store, actions } from './gbstore';\nimport GbQuestion from '@/gbviewassess/GbQuestion.vue';\nimport GbAssessSelect from '@/gbviewassess/GbAssessSelect.vue';\nimport GbQuestionSelect from '@/gbviewassess/GbQuestionSelect.vue';\nimport GbScoreDetails from '@/gbviewassess/GbScoreDetails.vue';\nimport GbClearAttempts from '@/gbviewassess/GbClearAttempts.vue';\nimport SummaryCategories from '@/components/summary/SummaryCategories.vue';\nimport ErrorDialog from '@/components/ErrorDialog.vue';\nimport TinymceInput from '@/components/TinymceInput.vue';\nimport '../assess2.css';\n\nexport default {\n  components: {\n    GbQuestion,\n    GbAssessSelect,\n    GbQuestionSelect,\n    GbScoreDetails,\n    GbClearAttempts,\n    SummaryCategories,\n    ErrorDialog,\n    TinymceInput\n  },\n  data: function () {\n    return {\n      showOverride: false,\n      assessOverride: '',\n      hidePerfect: false,\n      hideCorrect: false,\n      hideUnanswered: false\n    };\n  },\n  computed: {\n    assessInfoLoaded () {\n      return (store.assessInfo !== null);\n    },\n    aData () {\n      return store.assessInfo;\n    },\n    canEdit () {\n      return store.assessInfo['can_edit_scores'];\n    },\n    canSubmit () {\n      return (!store.inTransit);\n    },\n    useEditor () {\n      return (typeof window.tinyMCE !== 'undefined');\n    },\n    isByQuestion () {\n      return (this.aData.submitby === 'by_question');\n    },\n    startedString () {\n      if (this.aData.starttime === 0) {\n        return this.$t('gradebook.not_started');\n      } else {\n        return this.aData.starttime_disp;\n      }\n    },\n    lastchangeString () {\n      if (this.aData.lastchange === 0) {\n        return this.$t('gradebook.not_submitted');\n      } else {\n        return this.aData.lastchange_disp;\n      }\n    },\n    totalTimeOnTask () {\n      return Math.round(10 * this.aData.timeontask / 60) / 10 + ' ' + this.$t('gradebook.minutes');\n    },\n    extensionString () {\n      if (this.aData.extended_with.type === 'latepass') {\n        return this.$tc('setlist.latepass_used', this.aData.extended_with.n);\n      } else {\n        return this.$t('setlist.extension');\n      }\n    },\n    curQuestions () {\n      return this.aData.assess_versions[store.curAver].questions;\n    },\n    curAver () {\n      return store.curAver;\n    },\n    curQver () {\n      return store.curQver;\n    },\n    curQuestionVers () {\n      let out = [];\n      for (let qn = 0; qn < this.curQuestions.length; qn++) {\n        out[qn] = this.curQuestions[qn][this.curQver[qn]];\n      }\n      return out;\n    },\n    showCategories () {\n      let hascat = false;\n      for (let i in this.curQuestionVers) {\n        if (this.curQuestionVers[i].hasOwnProperty('category') &&\n          this.curQuestionVers[i].category !== '' &&\n          this.curQuestionVers[i].category !== null\n        ) {\n          hascat = true;\n          break;\n        }\n      }\n      let hasScores = this.curQuestionVers[0].hasOwnProperty('score') &&\n        !isNaN(Number(this.curQuestionVers[0].score));\n      return hascat && hasScores;\n    },\n    scoreCalc () {\n      if (this.aData.submitby === 'by_question') {\n        return this.$t('gradebook.best_on_question');\n      } else if (this.aData.keepscore === 'best') {\n        let out = this.$t('gradebook.keep_best');\n        if (typeof this.aData.gbscore === 'number') {\n          out += ' (' + this.$tc('gradebook.attempt_n', this.aData.scored_version + 1) + ')';\n        }\n        return out;\n      } else if (this.aData.keepscore === 'average') {\n        return this.$t('gradebook.keep_avg');\n      } else if (this.aData.keepscore === 'last') {\n        return this.$t('gradebook.keep_last');\n      } else {\n        return '';\n      }\n    },\n    viewAsStuUrl () {\n      return 'index.php?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\n    },\n    showQuestion () {\n      // 1 to hide perfect, 2 correct, 4 unanswered\n      let out = {};\n      for (let i = 0; i < this.curQuestions.length; i++) {\n        let qdata = this.curQuestions[i][this.curQver[i]];\n        let showit = true;\n        if (this.hidePerfect && Math.abs(qdata.score - qdata.points_possible) < 0.002) {\n          showit = false;\n        } else if (this.hideCorrect && Math.abs(qdata.rawscore - 1) < 0.002) {\n          showit = false;\n        } else if (this.hideUnanswered && qdata.try === 0) {\n          showit = false;\n        }\n        out[i] = showit;\n      }\n      return out;\n    },\n    hidePerfectLabel () {\n      return this.hidePerfect\n        ? this.$t('gradebook.show_perfect')\n        : this.$t('gradebook.hide_perfect');\n    },\n    hideCorrectLabel () {\n      return this.hideCorrect\n        ? this.$t('gradebook.show_correct')\n        : this.$t('gradebook.hide_correct');\n    },\n    hideUnansweredLabel () {\n      return this.hideUnanswered\n        ? this.$t('gradebook.show_unans')\n        : this.$t('gradebook.hide_unans');\n    },\n    exceptionActionLabel () {\n      if (this.aData.hasexception) {\n        return this.$t('gradebook.edit_exception');\n      } else {\n        return this.$t('gradebook.make_exception');\n      }\n    },\n    assessFeedback () {\n      return this.aData.assess_versions[store.curAver].feedback || '';\n    },\n    savedMsg () {\n      if (store.saving === '') {\n        return '';\n      } else {\n        return this.$t('gradebook.' + store.saving);\n      }\n    },\n    isUnsubmitted () {\n      return (this.aData.submitby === 'by_assessment' &&\n        this.aData.assess_versions[store.curAver].status === 0);\n    },\n    hasError () {\n      return (store.errorMsg !== null);\n    },\n    errorMsg () {\n      return store.errorMsg;\n    }\n  },\n  methods: {\n    changeAssessVersion (val) {\n      if (Object.keys(store.scoreOverrides).length > 0 ||\n        Object.keys(store.feedbacks).length > 0\n      ) {\n        if (!confirm(this.$t('gradebook.unsaved_warn'))) {\n          return;\n        }\n      }\n      if (val !== store.curAver) {\n        if (this.aData.assess_versions[val].status === 3) {\n          // requesting the practice version\n          actions.loadGbAssessVersion(0, true);\n        } else {\n          actions.loadGbAssessVersion(val, false);\n        }\n      }\n    },\n    changeQuestionVersion (qn, val) {\n      let hasUnsaved = false;\n      let regex = new RegExp('^' + store.curAver + '-' + qn + '-');\n      for (let k in store.scoreOverrides) {\n        if (regex.test(k)) {\n          hasUnsaved = true;\n        }\n      }\n      for (let k in store.feedbacks) {\n        if (regex.test(k)) {\n          hasUnsaved = true;\n        }\n      }\n      if (hasUnsaved && !confirm(this.$t('gradebook.unsaved_warn'))) {\n        return;\n      }\n      if (val !== store.curQver[qn]) {\n        actions.loadGbQuestionVersion(qn, val);\n      }\n    },\n    updateFeedback (evt) {\n      let content;\n      if (this.useEditor) {\n        content = window.tinymce.activeEditor.getContent();\n      } else {\n        content = evt.target.value;\n      }\n      actions.setFeedback(null, content);\n    },\n    setScoreOverride (evt) {\n      this.assessOverride = evt.target.value.trim();\n      store.saving = '';\n    },\n    submitChanges (exit) {\n      if (this.showOverride && this.assessOverride !== '') {\n        store.scoreOverrides['gen'] = this.assessOverride;\n      } else if (this.aData.hasOwnProperty('scoreoverride') &&\n        this.assessOverride !== this.aData.scoreoverride\n      ) {\n        store.scoreOverrides['gen'] = this.assessOverride;\n      } else {\n        delete store.scoreOverrides['gen'];\n      }\n      var doexit = (exit === true);\n      actions.saveChanges(doexit);\n    },\n    exit () {\n      window.location = window.exiturl;\n    },\n    clearAttempts (type) {\n      store.clearAttempts.type = type;\n      store.clearAttempts.show = true;\n    },\n    clearLPblock () {\n      actions.clearLPblock();\n    },\n    submitVersion () {\n      actions.endAssess();\n    },\n    redeemLatePass () {\n      window.location = this.APIbase + '../course/redeemlatepass.php?cid=' + store.cid + '&aid=' + store.aid;\n    },\n    makeException () {\n      let url = store.APIbase + '../course/exception.php';\n      url += '?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\n      url += '&from=gb';\n      window.location = url;\n    },\n    showAllAns () {\n      window.$(\"span[id^='ans']\").removeClass('hidden').show();\n      window.$('.sabtn').replaceWith('<span>Answer: </span>');\n      window.$('.keybtn').attr('aria-expanded', 'true');\n    },\n    beforeUnload (evt) {\n      if (Object.keys(store.scoreOverrides).length > 0 ||\n        Object.keys(store.feedbacks).length > 0\n      ) {\n        evt.preventDefault();\n        evt.returnValue = 'You have unsaved changes';\n        return 'You have unsaved changes';\n      }\n    },\n    clearError() {\n      store.errorMsg = null;\n    }\n  },\n  created () {\n    window.$(window).on('beforeunload', this.beforeUnload);\n    if (typeof window.APIbase !== 'undefined') {\n      store.APIbase = window.APIbase;\n    } else {\n      store.APIbase = process.env.BASE_URL;\n    }\n    // if no assessinfo, or if cid/aid has changed, load data\n    let querycid = window.location.search.replace(/^.*cid=(\\d+).*$/, '$1');\n    let queryaid = window.location.search.replace(/^.*aid=(\\d+).*$/, '$1');\n    let queryuid = window.location.search.replace(/^.*uid=(\\d+).*$/, '$1');\n    let querystu = window.location.search.replace(/^.*stu=(\\d+).*$/, '$1');\n    if (store.assessInfo === null ||\n      store.cid !== querycid ||\n      store.aid !== queryaid ||\n      store.uid !== queryuid\n    ) {\n      store.cid = querycid;\n      window.cid = querycid; // some other functions need this in global scope\n      store.aid = queryaid;\n      store.uid = queryuid;\n      store.stu = querystu;\n      store.queryString = '?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\n      actions.loadGbAssessData();\n    }\n  }\n};\n</script>\n\n<style>\n.med-pad-below {\n  padding-bottom: 16px;\n}\n.gbmainview > div {\n  margin-bottom: 16px;\n}\n.floatrightbutton {\n  position: fixed;\n  right: 10px;\n  bottom: 10px;\n  text-align: center;\n}\n.bigquestionwrap {\n  border: 1px solid #ccc;\n  margin-bottom: 16px;\n  border-radius: 4px;\n}\n.bigquestionwrap .headerpane {\n  padding: 8px;\n  background-color: #eee;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GBViewAssess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GBViewAssess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GBViewAssess.vue?vue&type=template&id=3b387fc5&\"\nimport script from \"./GBViewAssess.vue?vue&type=script&lang=js&\"\nexport * from \"./GBViewAssess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GBViewAssess.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport GBViewAssess from './GBViewAssess.vue';\nimport i18n from '../i18n';\n\nVue.config.productionTip = false;\n\n// Vue.use(VueResource)\n\nnew Vue({\n  i18n,\n  render: h => h(GBViewAssess)\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbScoreDetails.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbScoreDetails.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}